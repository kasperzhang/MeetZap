{"ast":null,"code":"import TimezoneSelector from \"./TimezoneSelector.vue\";\nimport GCalWeekSelector from \"./GCalWeekSelector.vue\";\nimport { isPhone } from \"@/utils\";\nimport Advertisement from \"../event/Advertisement.vue\";\nimport ExpandableSection from \"../ExpandableSection.vue\";\nimport EventOptions from \"./EventOptions.vue\";\nimport { timeTypes, guestUserId } from \"@/constants\";\nimport { mapState } from \"vuex\";\nexport default {\n  name: \"ToolRow\",\n  props: {\n    event: {\n      type: Object,\n      required: true\n    },\n    state: {\n      type: String,\n      required: true\n    },\n    states: {\n      type: Object,\n      required: true\n    },\n    curTimezone: {\n      type: Object,\n      required: true\n    },\n    startCalendarOnMonday: {\n      type: Boolean,\n      default: false\n    },\n    showBestTimes: {\n      type: Boolean,\n      required: true\n    },\n    hideIfNeeded: {\n      type: Boolean,\n      required: true\n    },\n    isWeekly: {\n      type: Boolean,\n      required: true\n    },\n    calendarPermissionGranted: {\n      type: Boolean,\n      required: true\n    },\n    weekOffset: {\n      type: Number,\n      required: true\n    },\n    numResponses: {\n      type: Number,\n      required: true\n    },\n    mobileNumDays: {\n      type: Number,\n      default: 3\n    },\n    // The number of days to show at a time on mobile\n    allowScheduleEvent: {\n      type: Boolean,\n      required: true\n    },\n    showEventOptions: {\n      type: Boolean,\n      required: true\n    },\n    timeType: {\n      type: String,\n      required: true\n    }\n  },\n  components: {\n    TimezoneSelector,\n    GCalWeekSelector,\n    Advertisement,\n    ExpandableSection,\n    EventOptions\n  },\n  data: () => ({\n    mobileNumDaysOptions: [{\n      label: \"3 days\",\n      value: 3\n    }, {\n      label: \"7 days\",\n      value: 7\n    }],\n    timeTypeOptions: [{\n      label: \"12h\",\n      value: timeTypes.HOUR12\n    }, {\n      label: \"24h\",\n      value: timeTypes.HOUR24\n    }]\n  }),\n  mounted() {\n    // // Load Google Ads script\n    // const adScript = document.createElement(\"script\")\n    // adScript.async = true\n    // adScript.src =\n    //   \"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4082178684015354\"\n    // adScript.crossOrigin = \"anonymous\"\n    // document.head.appendChild(adScript)\n    // // Initialize Google Ads\n    // adScript.onload = () => {\n    //   (window.adsbygoogle = window.adsbygoogle || []).push({})\n    //   console.log(window.adsbygoogle)\n    // }\n  },\n  computed: {\n    ...mapState([\"authUser\"]),\n    isPhone() {\n      return isPhone(this.$vuetify);\n    },\n    guestEvent() {\n      return this.event.ownerId == guestUserId;\n    },\n    isOwner() {\n      return this.event.ownerId == this.authUser?._id;\n    },\n    showScheduleEventButton() {\n      return !this.event.daysOnly && this.numResponses > 0 && this.state !== this.states.EDIT_AVAILABILITY && (this.guestEvent || this.isOwner);\n    }\n  }\n};","map":{"version":3,"names":["TimezoneSelector","GCalWeekSelector","isPhone","Advertisement","ExpandableSection","EventOptions","timeTypes","guestUserId","mapState","name","props","event","type","Object","required","state","String","states","curTimezone","startCalendarOnMonday","Boolean","default","showBestTimes","hideIfNeeded","isWeekly","calendarPermissionGranted","weekOffset","Number","numResponses","mobileNumDays","allowScheduleEvent","showEventOptions","timeType","components","data","mobileNumDaysOptions","label","value","timeTypeOptions","HOUR12","HOUR24","mounted","computed","$vuetify","guestEvent","ownerId","isOwner","authUser","_id","showScheduleEventButton","daysOnly","EDIT_AVAILABILITY"],"sources":["src/components/schedule_overlap/ToolRow.vue"],"sourcesContent":["<template>\n  <div>\n    <div\n      class=\"tw-flex tw-min-h-[5rem] tw-flex-1 tw-items-center tw-justify-center tw-text-sm sm:tw-mt-0 sm:tw-justify-between\"\n    >\n      <div\n        :class=\"\n          state === states.EDIT_AVAILABILITY\n            ? 'tw-justify-center'\n            : 'tw-justify-between'\n        \"\n        class=\"tw-flex tw-flex-1 tw-flex-wrap tw-gap-x-4 tw-gap-y-2 tw-py-4 sm:tw-justify-start sm:tw-gap-x-4\"\n      >\n        <!-- Select timezone -->\n        <div v-if=\"!event.daysOnly\" class=\"tw-flex tw-items-center tw-gap-2\">\n          <TimezoneSelector\n            class=\"tw-w-full sm:tw-w-[unset]\"\n            :value=\"curTimezone\"\n            @input=\"(val) => $emit('update:curTimezone', val)\"\n          />\n          <v-select\n            :value=\"timeType\"\n            @input=\"$emit('update:timeType', $event)\"\n            :items=\"timeTypeOptions\"\n            :menu-props=\"{ auto: true }\"\n            item-text=\"label\"\n            item-value=\"value\"\n            class=\"tw-z-20 -tw-mt-px tw-w-16 tw-text-sm\"\n            dense\n            hide-details\n          />\n        </div>\n        <div\n          v-if=\"isPhone && !event.daysOnly\"\n          class=\"tw-flex tw-basis-full tw-items-center tw-gap-x-2 tw-py-4\"\n        >\n          Show\n          <v-select\n            :value=\"mobileNumDays\"\n            @input=\"$emit('update:mobileNumDays', $event)\"\n            :items=\"mobileNumDaysOptions\"\n            :menu-props=\"{ auto: true }\"\n            item-text=\"label\"\n            item-value=\"value\"\n            class=\"-tw-mt-px tw-flex-none tw-shrink tw-basis-24 tw-text-sm\"\n            dense\n            hide-details\n          />\n          at a time\n        </div>\n\n        <template v-if=\"state !== states.EDIT_AVAILABILITY && isPhone\">\n          <EventOptions\n            class=\"tw-mt-2 tw-w-full\"\n            :event=\"event\"\n            :showBestTimes=\"showBestTimes\"\n            @update:showBestTimes=\"(val) => $emit('update:showBestTimes', val)\"\n            :hideIfNeeded=\"hideIfNeeded\"\n            @update:hideIfNeeded=\"(val) => $emit('update:hideIfNeeded', val)\"\n            :showEventOptions=\"showEventOptions\"\n            @toggleShowEventOptions=\"$emit('toggleShowEventOptions')\"\n            :startCalendarOnMonday=\"startCalendarOnMonday\"\n            @update:startCalendarOnMonday=\"\n              (val) => $emit('update:startCalendarOnMonday', val)\n            \"\n            :numResponses=\"numResponses\"\n          />\n        </template>\n        <template\n          v-if=\"state === states.EDIT_AVAILABILITY && isWeekly && !isPhone\"\n        >\n          <v-spacer />\n          <div class=\"tw-min-w-fit\">\n            <GCalWeekSelector\n              v-if=\"calendarPermissionGranted\"\n              :week-offset=\"weekOffset\"\n              :event=\"event\"\n              @update:weekOffset=\"(val) => $emit('update:weekOffset', val)\"\n              :start-on-monday=\"event.startOnMonday\"\n            />\n          </div>\n        </template>\n      </div>\n\n      <div\n        v-if=\"showScheduleEventButton\"\n        style=\"width: 181.5px\"\n        class=\"tw-hidden sm:tw-flex\"\n      >\n        <template v-if=\"state !== states.SCHEDULE_EVENT\">\n          <v-btn\n            outlined\n            class=\"tw-w-full tw-text-blue\"\n            @click=\"(e) => $emit('scheduleEvent', e)\"\n          >\n            <v-icon small>mdi-calendar-check</v-icon>\n            <span class=\"tw-ml-2\">确认日程</span>\n          </v-btn>\n        </template>\n        <template v-else>\n          <v-btn\n            outlined\n            class=\"tw-mr-1 tw-text-red\"\n            @click=\"(e) => $emit('cancelScheduleEvent', e)\"\n          >\n            Cancel\n          </v-btn>\n          <v-menu offset-y class=\"tw-z-20\">\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-btn\n                :disabled=\"!allowScheduleEvent\"\n                class=\"tw-bg-blue tw-text-white\"\n                v-bind=\"attrs\"\n                v-on=\"on\"\n              >\n                Schedule\n              </v-btn>\n            </template>\n            <v-list dense>\n              <v-list-item @click=\"(e) => $emit('confirmScheduleEvent', true)\">\n                <v-img\n                  src=\"@/assets/gcal_logo.png\"\n                  class=\"tw-mr-2 tw-flex-none\"\n                  height=\"20\"\n                  width=\"20\"\n                />\n                <v-list-item-content>\n                  <v-list-item-title>Google Calendar</v-list-item-title>\n                </v-list-item-content>\n              </v-list-item>\n              <v-list-item @click=\"(e) => $emit('confirmScheduleEvent', false)\">\n                <v-img\n                  src=\"@/assets/outlook_logo.svg\"\n                  class=\"tw-mr-2 tw-flex-none\"\n                  height=\"20\"\n                  width=\"20\"\n                />\n                <v-list-item-content>\n                  <v-list-item-title>Outlook</v-list-item-title>\n                </v-list-item-content>\n              </v-list-item>\n            </v-list>\n          </v-menu>\n        </template>\n      </div>\n    </div>\n\n    <!-- <Advertisement\n      class=\"tw-mt-5 sm:tw-mt-10\"\n      :ownerId=\"event.ownerId\"\n    ></Advertisement> -->\n\n    <!-- <div>\n      <ins\n        class=\"adsbygoogle\"\n        style=\"display: block\"\n        data-ad-client=\"ca-pub-4082178684015354\"\n        data-ad-slot=\"7343574524\"\n        data-ad-format=\"auto\"\n        data-full-width-responsive=\"true\"\n        data-adtest=\"on\"\n      ></ins>\n    </div> -->\n  </div>\n</template>\n\n<script>\nimport TimezoneSelector from \"./TimezoneSelector.vue\"\nimport GCalWeekSelector from \"./GCalWeekSelector.vue\"\nimport { isPhone } from \"@/utils\"\nimport Advertisement from \"../event/Advertisement.vue\"\nimport ExpandableSection from \"../ExpandableSection.vue\"\nimport EventOptions from \"./EventOptions.vue\"\nimport { timeTypes, guestUserId } from \"@/constants\"\nimport { mapState } from \"vuex\"\n\nexport default {\n  name: \"ToolRow\",\n\n  props: {\n    event: { type: Object, required: true },\n    state: { type: String, required: true },\n    states: { type: Object, required: true },\n    curTimezone: { type: Object, required: true },\n    startCalendarOnMonday: { type: Boolean, default: false },\n    showBestTimes: { type: Boolean, required: true },\n    hideIfNeeded: { type: Boolean, required: true },\n    isWeekly: { type: Boolean, required: true },\n    calendarPermissionGranted: { type: Boolean, required: true },\n    weekOffset: { type: Number, required: true },\n    numResponses: { type: Number, required: true },\n    mobileNumDays: { type: Number, default: 3 }, // The number of days to show at a time on mobile\n    allowScheduleEvent: { type: Boolean, required: true },\n    showEventOptions: { type: Boolean, required: true },\n    timeType: { type: String, required: true },\n  },\n\n  components: {\n    TimezoneSelector,\n    GCalWeekSelector,\n    Advertisement,\n    ExpandableSection,\n    EventOptions,\n  },\n\n  data: () => ({\n    mobileNumDaysOptions: [\n      { label: \"3 days\", value: 3 },\n      { label: \"7 days\", value: 7 },\n    ],\n    timeTypeOptions: [\n      { label: \"12h\", value: timeTypes.HOUR12 },\n      { label: \"24h\", value: timeTypes.HOUR24 },\n    ],\n  }),\n\n  mounted() {\n    // // Load Google Ads script\n    // const adScript = document.createElement(\"script\")\n    // adScript.async = true\n    // adScript.src =\n    //   \"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4082178684015354\"\n    // adScript.crossOrigin = \"anonymous\"\n    // document.head.appendChild(adScript)\n    // // Initialize Google Ads\n    // adScript.onload = () => {\n    //   (window.adsbygoogle = window.adsbygoogle || []).push({})\n    //   console.log(window.adsbygoogle)\n    // }\n  },\n\n  computed: {\n    ...mapState([\"authUser\"]),\n    isPhone() {\n      return isPhone(this.$vuetify)\n    },\n    guestEvent() {\n      return this.event.ownerId == guestUserId\n    },\n    isOwner() {\n      return this.event.ownerId == this.authUser?._id\n    },\n    showScheduleEventButton() {\n      return (\n        !this.event.daysOnly &&\n        this.numResponses > 0 &&\n        this.state !== this.states.EDIT_AVAILABILITY &&\n        (this.guestEvent || this.isOwner)\n      )\n    },\n  },\n}\n</script>\n"],"mappings":"AAuKA,OAAAA,gBAAA;AACA,OAAAC,gBAAA;AACA,SAAAC,OAAA;AACA,OAAAC,aAAA;AACA,OAAAC,iBAAA;AACA,OAAAC,YAAA;AACA,SAAAC,SAAA,EAAAC,WAAA;AACA,SAAAC,QAAA;AAEA;EACAC,IAAA;EAEAC,KAAA;IACAC,KAAA;MAAAC,IAAA,EAAAC,MAAA;MAAAC,QAAA;IAAA;IACAC,KAAA;MAAAH,IAAA,EAAAI,MAAA;MAAAF,QAAA;IAAA;IACAG,MAAA;MAAAL,IAAA,EAAAC,MAAA;MAAAC,QAAA;IAAA;IACAI,WAAA;MAAAN,IAAA,EAAAC,MAAA;MAAAC,QAAA;IAAA;IACAK,qBAAA;MAAAP,IAAA,EAAAQ,OAAA;MAAAC,OAAA;IAAA;IACAC,aAAA;MAAAV,IAAA,EAAAQ,OAAA;MAAAN,QAAA;IAAA;IACAS,YAAA;MAAAX,IAAA,EAAAQ,OAAA;MAAAN,QAAA;IAAA;IACAU,QAAA;MAAAZ,IAAA,EAAAQ,OAAA;MAAAN,QAAA;IAAA;IACAW,yBAAA;MAAAb,IAAA,EAAAQ,OAAA;MAAAN,QAAA;IAAA;IACAY,UAAA;MAAAd,IAAA,EAAAe,MAAA;MAAAb,QAAA;IAAA;IACAc,YAAA;MAAAhB,IAAA,EAAAe,MAAA;MAAAb,QAAA;IAAA;IACAe,aAAA;MAAAjB,IAAA,EAAAe,MAAA;MAAAN,OAAA;IAAA;IAAA;IACAS,kBAAA;MAAAlB,IAAA,EAAAQ,OAAA;MAAAN,QAAA;IAAA;IACAiB,gBAAA;MAAAnB,IAAA,EAAAQ,OAAA;MAAAN,QAAA;IAAA;IACAkB,QAAA;MAAApB,IAAA,EAAAI,MAAA;MAAAF,QAAA;IAAA;EACA;EAEAmB,UAAA;IACAjC,gBAAA;IACAC,gBAAA;IACAE,aAAA;IACAC,iBAAA;IACAC;EACA;EAEA6B,IAAA,EAAAA,CAAA;IACAC,oBAAA,GACA;MAAAC,KAAA;MAAAC,KAAA;IAAA,GACA;MAAAD,KAAA;MAAAC,KAAA;IAAA,EACA;IACAC,eAAA,GACA;MAAAF,KAAA;MAAAC,KAAA,EAAA/B,SAAA,CAAAiC;IAAA,GACA;MAAAH,KAAA;MAAAC,KAAA,EAAA/B,SAAA,CAAAkC;IAAA;EAEA;EAEAC,QAAA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EAAA,CACA;EAEAC,QAAA;IACA,GAAAlC,QAAA;IACAN,QAAA;MACA,OAAAA,OAAA,MAAAyC,QAAA;IACA;IACAC,WAAA;MACA,YAAAjC,KAAA,CAAAkC,OAAA,IAAAtC,WAAA;IACA;IACAuC,QAAA;MACA,YAAAnC,KAAA,CAAAkC,OAAA,SAAAE,QAAA,EAAAC,GAAA;IACA;IACAC,wBAAA;MACA,OACA,MAAAtC,KAAA,CAAAuC,QAAA,IACA,KAAAtB,YAAA,QACA,KAAAb,KAAA,UAAAE,MAAA,CAAAkC,iBAAA,KACA,KAAAP,UAAA,SAAAE,OAAA;IAEA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}