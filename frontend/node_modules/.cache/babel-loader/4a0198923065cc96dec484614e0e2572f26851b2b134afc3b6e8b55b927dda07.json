{"ast":null,"code":"import Vue from \"vue\";\nimport VueRouter from \"vue-router\";\nimport Landing from \"@/views/Landing\";\nimport { get } from \"@/utils\";\nVue.use(VueRouter);\nconst routes = [{\n  path: \"/\",\n  name: \"landing\",\n  component: Landing\n}, {\n  path: \"/home\",\n  name: \"home\",\n  component: () => import(\"@/views/Home.vue\"),\n  props: true\n}, {\n  path: \"/settings\",\n  name: \"settings\",\n  component: () => import(\"@/views/Settings.vue\")\n}, {\n  path: \"/e/:eventId\",\n  name: \"event\",\n  component: () => import(\"@/views/Event.vue\"),\n  props: true\n}, {\n  path: \"/e/:eventId/responded\",\n  name: \"responded\",\n  component: () => import(\"@/views/Responded.vue\"),\n  props: true\n}, {\n  path: \"/g/:groupId\",\n  name: \"group\",\n  component: () => import(\"@/views/Group.vue\"),\n  props: true\n}, {\n  path: \"/s/:signUpId\",\n  name: \"signUp\",\n  component: () => import(\"@/views/SignUp.vue\"),\n  props: true\n}, {\n  path: \"/auth\",\n  name: \"auth\",\n  component: () => import(\"@/views/Auth.vue\")\n}, {\n  path: \"/privacy-policy\",\n  name: \"privacy-policy\",\n  component: () => import(\"@/views/PrivacyPolicy.vue\")\n}, {\n  path: \"/stripe-redirect\",\n  name: \"stripe-redirect\",\n  component: () => import(\"@/views/StripeRedirect.vue\")\n}, {\n  path: \"/test\",\n  name: \"test\",\n  component: () => import(\"@/views/Test.vue\")\n}, {\n  path: \"*\",\n  name: \"404\",\n  component: () => import(\"@/views/PageNotFound.vue\")\n}];\nconst router = new VueRouter({\n  mode: \"history\",\n  base: process.env.BASE_URL,\n  routes\n});\nrouter.beforeEach(async (to, from, next) => {\n  const authRoutes = [\"home\", \"settings\"];\n  const noAuthRoutes = [];\n  try {\n    await get(\"/auth/status\");\n    if (noAuthRoutes.includes(to.name)) {\n      next({\n        name: \"home\"\n      });\n    } else {\n      next();\n    }\n  } catch (err) {\n    if (authRoutes.includes(to.name)) {\n      next({\n        name: \"landing\"\n      });\n    } else {\n      next();\n    }\n  }\n});\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","Landing","get","use","routes","path","name","component","props","router","mode","base","process","env","BASE_URL","beforeEach","to","from","next","authRoutes","noAuthRoutes","includes","err"],"sources":["/Users/kasperzhang/Desktop/MeetZap/frontend/src/router/index.js"],"sourcesContent":["import Vue from \"vue\"\nimport VueRouter from \"vue-router\"\nimport Landing from \"@/views/Landing\"\nimport { get } from \"@/utils\"\n\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: \"/\",\n    name: \"landing\",\n    component: Landing,\n  },\n  {\n    path: \"/home\",\n    name: \"home\",\n    component: () => import(\"@/views/Home.vue\"),\n    props: true,\n  },\n  {\n    path: \"/settings\",\n    name: \"settings\",\n    component: () => import(\"@/views/Settings.vue\"),\n  },\n  {\n    path: \"/e/:eventId\",\n    name: \"event\",\n    component: () => import(\"@/views/Event.vue\"),\n    props: true,\n  },\n  {\n    path: \"/e/:eventId/responded\",\n    name: \"responded\",\n    component: () => import(\"@/views/Responded.vue\"),\n    props: true,\n  },\n  {\n    path: \"/g/:groupId\",\n    name: \"group\",\n    component: () => import(\"@/views/Group.vue\"),\n    props: true,\n  },\n  {\n    path: \"/s/:signUpId\",\n    name: \"signUp\",\n    component: () => import(\"@/views/SignUp.vue\"),\n    props: true,\n  },\n  {\n    path: \"/auth\",\n    name: \"auth\",\n    component: () => import(\"@/views/Auth.vue\"),\n  },\n  {\n    path: \"/privacy-policy\",\n    name: \"privacy-policy\",\n    component: () => import(\"@/views/PrivacyPolicy.vue\"),\n  },\n  {\n    path: \"/stripe-redirect\",\n    name: \"stripe-redirect\",\n    component: () => import(\"@/views/StripeRedirect.vue\"),\n  },\n  {\n    path: \"/test\",\n    name: \"test\",\n    component: () => import(\"@/views/Test.vue\"),\n  },\n  {\n    path: \"*\",\n    name: \"404\",\n    component: () => import(\"@/views/PageNotFound.vue\"),\n  },\n]\n\nconst router = new VueRouter({\n  mode: \"history\",\n  base: process.env.BASE_URL,\n  routes,\n})\n\nrouter.beforeEach(async (to, from, next) => {\n  const authRoutes = [\"home\", \"settings\"]\n  const noAuthRoutes = []\n  try {\n    await get(\"/auth/status\")\n\n    if (noAuthRoutes.includes(to.name)) {\n      next({ name: \"home\" })\n    } else {\n      next()\n    }\n  } catch (err) {\n    if (authRoutes.includes(to.name)) {\n      next({ name: \"landing\" })\n    } else {\n      next()\n    }\n  }\n})\n\nexport default router\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}