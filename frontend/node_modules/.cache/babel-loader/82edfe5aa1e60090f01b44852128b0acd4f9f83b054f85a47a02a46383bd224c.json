{"ast":null,"code":"import { isPhone } from \"@/utils\";\nexport default {\n  name: \"DiscordBanner\",\n  data() {\n    return {\n      discordUrl: \"https://discord.gg/v6raNqYxx3\",\n      show: false\n    };\n  },\n  computed: {\n    isPhone() {\n      return isPhone(this.$vuetify);\n    },\n    localStorageKey() {\n      // Use a versioned key to force re-showing banner if message changes\n      return `discordBannerDismissed_v1`;\n    }\n  },\n  methods: {\n    dismiss() {\n      this.show = false;\n      localStorage.setItem(this.localStorageKey, \"true\");\n      this.$posthog?.capture(\"discord_banner_dismissed\");\n    },\n    trackDiscordClick() {\n      this.$posthog?.capture(\"discord_banner_clicked\", {\n        discordUrl: this.discordUrl\n      });\n    }\n  },\n  watch: {\n    $route: {\n      immediate: true,\n      handler() {\n        const showOnRoute = this.$route.name === \"landing\";\n        const userHasDismissed = localStorage.getItem(this.localStorageKey) === \"true\";\n        this.show = !userHasDismissed && showOnRoute;\n      }\n    }\n  }\n};","map":{"version":3,"names":["isPhone","name","data","discordUrl","show","computed","$vuetify","localStorageKey","methods","dismiss","localStorage","setItem","$posthog","capture","trackDiscordClick","watch","$route","immediate","handler","showOnRoute","userHasDismissed","getItem"],"sources":["src/components/DiscordBanner.vue"],"sourcesContent":["<template>\n  <div\n    v-if=\"show && !isPhone\"\n    class=\"tw-relative tw-bg-[#1A1A1E] tw-px-8 tw-py-3 tw-text-center tw-text-sm tw-text-white\"\n  >\n    <div\n      class=\"tw-m-auto tw-flex tw-max-w-6xl tw-flex-col tw-items-center tw-justify-center sm:tw-flex-row\"\n    >\n      <span>\n        Join our Discord community for updates, feedback, and support!\n      </span>\n      <v-btn\n        :href=\"discordUrl\"\n        target=\"_blank\"\n        outlined\n        color=\"white\"\n        class=\"tw-mt-3 tw-flex-shrink-0 sm:tw-ml-4 sm:tw-mt-0\"\n        small\n        @click=\"trackDiscordClick\"\n      >\n        Join Discord\n      </v-btn>\n    </div>\n    <v-btn\n      icon\n      small\n      @click=\"dismiss\"\n      class=\"tw-absolute tw-right-2 tw-top-1/2 -tw-translate-y-1/2\"\n    >\n      <v-icon color=\"white\">mdi-close</v-icon>\n    </v-btn>\n  </div>\n</template>\n\n<script>\nimport { isPhone } from \"@/utils\"\nexport default {\n  name: \"DiscordBanner\",\n\n  data() {\n    return {\n      discordUrl: \"https://discord.gg/v6raNqYxx3\",\n      show: false,\n    }\n  },\n\n  computed: {\n    isPhone() {\n      return isPhone(this.$vuetify)\n    },\n    localStorageKey() {\n      // Use a versioned key to force re-showing banner if message changes\n      return `discordBannerDismissed_v1`\n    },\n  },\n\n  methods: {\n    dismiss() {\n      this.show = false\n      localStorage.setItem(this.localStorageKey, \"true\")\n      this.$posthog?.capture(\"discord_banner_dismissed\")\n    },\n    trackDiscordClick() {\n      this.$posthog?.capture(\"discord_banner_clicked\", {\n        discordUrl: this.discordUrl,\n      })\n    },\n  },\n\n  watch: {\n    $route: {\n      immediate: true,\n      handler() {\n        const showOnRoute = this.$route.name === \"landing\"\n        const userHasDismissed =\n          localStorage.getItem(this.localStorageKey) === \"true\"\n\n        this.show = !userHasDismissed && showOnRoute\n      },\n    },\n  },\n}\n</script>\n"],"mappings":"AAmCA,SAAAA,OAAA;AACA;EACAC,IAAA;EAEAC,KAAA;IACA;MACAC,UAAA;MACAC,IAAA;IACA;EACA;EAEAC,QAAA;IACAL,QAAA;MACA,OAAAA,OAAA,MAAAM,QAAA;IACA;IACAC,gBAAA;MACA;MACA;IACA;EACA;EAEAC,OAAA;IACAC,QAAA;MACA,KAAAL,IAAA;MACAM,YAAA,CAAAC,OAAA,MAAAJ,eAAA;MACA,KAAAK,QAAA,EAAAC,OAAA;IACA;IACAC,kBAAA;MACA,KAAAF,QAAA,EAAAC,OAAA;QACAV,UAAA,OAAAA;MACA;IACA;EACA;EAEAY,KAAA;IACAC,MAAA;MACAC,SAAA;MACAC,QAAA;QACA,MAAAC,WAAA,QAAAH,MAAA,CAAAf,IAAA;QACA,MAAAmB,gBAAA,GACAV,YAAA,CAAAW,OAAA,MAAAd,eAAA;QAEA,KAAAH,IAAA,IAAAgB,gBAAA,IAAAD,WAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}