{"ast":null,"code":"import EventType from \"@/components/EventType.vue\";\nimport BottomFab from \"@/components/BottomFab.vue\";\nimport CreateSpeedDial from \"@/components/CreateSpeedDial.vue\";\nimport When2meetImportDialog from \"@/components/When2meetImportDialog.vue\";\nimport Dashboard from \"@/components/home/Dashboard.vue\";\nimport { mapState, mapActions, mapMutations } from \"vuex\";\nimport { eventTypes } from \"@/constants\";\nimport { isPhone, get } from \"@/utils\";\nexport default {\n  name: \"Home\",\n  metaInfo: {\n    title: \"Home - Schej\"\n  },\n  components: {\n    EventType,\n    BottomFab,\n    CreateSpeedDial,\n    When2meetImportDialog,\n    Dashboard\n  },\n  props: {\n    contactsPayload: {\n      type: Object,\n      default: () => ({})\n    },\n    openNewGroup: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data: () => ({\n    loading: true,\n    showW2MDialog: false\n  }),\n  mounted() {\n    // If coming from enabling contacts, show the dialog. Checks if contactsPayload is not an Observer.\n    this.setNewDialogOptions({\n      show: Object.keys(this.contactsPayload).length > 0 || this.openNewGroup,\n      contactsPayload: this.contactsPayload,\n      openNewGroup: this.openNewGroup,\n      eventOnly: false\n    });\n  },\n  computed: {\n    ...mapState([\"events\", \"authUser\", \"groupsEnabled\"]),\n    eventsNotEmpty() {\n      return this.events.length > 0;\n    },\n    isPhone() {\n      return isPhone(this.$vuetify);\n    }\n  },\n  methods: {\n    ...mapMutations([\"setAuthUser\", \"setNewDialogOptions\"]),\n    ...mapActions([\"getEvents\", \"createNew\"]),\n    userRespondedToEvent(event) {\n      return event.hasResponded ?? false;\n    },\n    _createNew() {\n      this.createNew({\n        eventOnly: false\n      });\n    },\n    createFolder() {},\n    convertW2M() {\n      this.showW2MDialog = true;\n      this.$posthog?.capture(\"convert_when2meet_to_schej_clicked\");\n    }\n  },\n  created() {\n    this.getEvents().then(() => {\n      this.loading = false;\n    });\n    get(\"/user/profile\").then(authUser => {\n      this.setAuthUser(authUser);\n    }).catch(() => {\n      this.setAuthUser(null);\n    });\n  }\n};","map":{"version":3,"names":["EventType","BottomFab","CreateSpeedDial","When2meetImportDialog","Dashboard","mapState","mapActions","mapMutations","eventTypes","isPhone","get","name","metaInfo","title","components","props","contactsPayload","type","Object","default","openNewGroup","Boolean","data","loading","showW2MDialog","mounted","setNewDialogOptions","show","keys","length","eventOnly","computed","eventsNotEmpty","events","$vuetify","methods","userRespondedToEvent","event","hasResponded","_createNew","createNew","createFolder","convertW2M","$posthog","capture","created","getEvents","then","authUser","setAuthUser","catch"],"sources":["src/views/Home.vue"],"sourcesContent":["<template>\n  <div\n    class=\"tw-mx-auto tw-mb-24 tw-mt-4 tw-max-w-6xl tw-space-y-4 sm:tw-mb-12 sm:tw-mt-7\"\n  >\n    <!-- Preload images -->\n    <div class=\"tw-hidden\">\n      <img src=\"@/assets/doodles/boba/0.jpg\" alt=\"preload\" />\n      <img src=\"@/assets/doodles/boba/1.jpg\" alt=\"preload\" />\n      <img src=\"@/assets/doodles/boba/2.jpg\" alt=\"preload\" />\n      <img src=\"@/assets/doodles/boba/3.jpg\" alt=\"preload\" />\n      <img src=\"@/assets/doodles/boba/4.jpg\" alt=\"preload\" />\n      <img src=\"@/assets/doodles/boba/5.jpg\" alt=\"preload\" />\n      <img src=\"@/assets/doodles/boba/6.jpg\" alt=\"preload\" />\n      <img src=\"@/assets/doodles/boba/7.jpg\" alt=\"preload\" />\n    </div>\n    <div\n      v-if=\"loading && !eventsNotEmpty\"\n      class=\"tw-flex tw-h-[calc(100vh-10rem)] tw-w-full tw-items-center tw-justify-center\"\n    >\n      <v-progress-circular\n        indeterminate\n        color=\"primary\"\n        :size=\"20\"\n        :width=\"2\"\n      ></v-progress-circular>\n    </div>\n\n    <v-fade-transition>\n      <Dashboard v-if=\"!loading || eventsNotEmpty\" />\n    </v-fade-transition>\n\n    <div\n      class=\"tw-rounded-md tw-px-6 tw-py-4 sm:tw-mx-4 sm:tw-bg-[#f3f3f366]\"\n      v-if=\"!loading || eventsNotEmpty\"\n    >\n      <div\n        class=\"tw-mb-3 tw-text-xl tw-font-medium tw-text-dark-green sm:tw-text-2xl\"\n      >\n        Tools\n      </div>\n      <div class=\"tw-flex tw-flex-row tw-items-center tw-gap-2\">\n        <div\n          @click=\"convertW2M\"\n          class=\"tw-cursor-pointer tw-text-sm tw-font-normal tw-text-dark-gray tw-underline\"\n        >\n          Convert When2meet to Schej\n        </div>\n      </div>\n    </div>\n\n    <div v-if=\"!loading || eventsNotEmpty\" class=\"tw-flex tw-justify-center\">\n      <div\n        class=\"animate-boba tw-size-48 tw-bg-contain tw-bg-no-repeat sm:tw-size-48\"\n      ></div>\n    </div>\n\n    <div class=\"tw-flex tw-flex-col tw-items-center tw-justify-between\">\n      <router-link\n        class=\"tw-text-xs tw-font-medium tw-text-gray\"\n        :to=\"{ name: 'privacy-policy' }\"\n      >\n        Privacy Policy\n      </router-link>\n    </div>\n\n    <!-- FAB -->\n    <BottomFab v-if=\"isPhone\" id=\"create-event-btn\" @click=\"() => _createNew()\">\n      <v-icon>mdi-plus</v-icon>\n    </BottomFab>\n\n    <!-- When2meet Import Dialog -->\n    <When2meetImportDialog v-model=\"showW2MDialog\" />\n  </div>\n</template>\n\n<script>\nimport EventType from \"@/components/EventType.vue\"\nimport BottomFab from \"@/components/BottomFab.vue\"\nimport CreateSpeedDial from \"@/components/CreateSpeedDial.vue\"\nimport When2meetImportDialog from \"@/components/When2meetImportDialog.vue\"\nimport Dashboard from \"@/components/home/Dashboard.vue\"\nimport { mapState, mapActions, mapMutations } from \"vuex\"\nimport { eventTypes } from \"@/constants\"\nimport { isPhone, get } from \"@/utils\"\n\nexport default {\n  name: \"Home\",\n\n  metaInfo: {\n    title: \"Home - Schej\",\n  },\n\n  components: {\n    EventType,\n    BottomFab,\n    CreateSpeedDial,\n    When2meetImportDialog,\n    Dashboard,\n  },\n\n  props: {\n    contactsPayload: {\n      type: Object,\n      default: () => ({}),\n    },\n    openNewGroup: { type: Boolean, default: false },\n  },\n\n  data: () => ({\n    loading: true,\n    showW2MDialog: false,\n  }),\n\n  mounted() {\n    // If coming from enabling contacts, show the dialog. Checks if contactsPayload is not an Observer.\n    this.setNewDialogOptions({\n      show: Object.keys(this.contactsPayload).length > 0 || this.openNewGroup,\n      contactsPayload: this.contactsPayload,\n      openNewGroup: this.openNewGroup,\n      eventOnly: false,\n    })\n  },\n\n  computed: {\n    ...mapState([\"events\", \"authUser\", \"groupsEnabled\"]),\n    eventsNotEmpty() {\n      return this.events.length > 0\n    },\n    isPhone() {\n      return isPhone(this.$vuetify)\n    },\n  },\n\n  methods: {\n    ...mapMutations([\"setAuthUser\", \"setNewDialogOptions\"]),\n    ...mapActions([\"getEvents\", \"createNew\"]),\n    userRespondedToEvent(event) {\n      return event.hasResponded ?? false\n    },\n    _createNew() {\n      this.createNew({ eventOnly: false })\n    },\n    createFolder() {},\n    convertW2M() {\n      this.showW2MDialog = true\n      this.$posthog?.capture(\"convert_when2meet_to_schej_clicked\")\n    },\n  },\n\n  created() {\n    this.getEvents().then(() => {\n      this.loading = false\n    })\n    get(\"/user/profile\")\n      .then((authUser) => {\n        this.setAuthUser(authUser)\n      })\n      .catch(() => {\n        this.setAuthUser(null)\n      })\n  },\n}\n</script>\n\n<style>\n@keyframes boba {\n  0% {\n    background-image: url(\"@/assets/doodles/boba/0.jpg\");\n  }\n  12.5% {\n    background-image: url(\"@/assets/doodles/boba/1.jpg\");\n  }\n  25% {\n    background-image: url(\"@/assets/doodles/boba/2.jpg\");\n  }\n  37.5% {\n    background-image: url(\"@/assets/doodles/boba/3.jpg\");\n  }\n  50% {\n    background-image: url(\"@/assets/doodles/boba/4.jpg\");\n  }\n  62.5% {\n    background-image: url(\"@/assets/doodles/boba/5.jpg\");\n  }\n  75% {\n    background-image: url(\"@/assets/doodles/boba/6.jpg\");\n  }\n  87.5% {\n    background-image: url(\"@/assets/doodles/boba/7.jpg\");\n  }\n  100% {\n    background-image: url(\"@/assets/doodles/boba/0.jpg\");\n  }\n}\n\n.animate-boba {\n  animation: boba 1.04s steps(1) infinite;\n  animation-play-state: paused;\n  transition: animation-play-state 0s 1.04s;\n}\n\n.animate-boba:hover {\n  animation-play-state: running;\n  transition: animation-play-state 0s;\n}\n</style>\n"],"mappings":"AA4EA,OAAAA,SAAA;AACA,OAAAC,SAAA;AACA,OAAAC,eAAA;AACA,OAAAC,qBAAA;AACA,OAAAC,SAAA;AACA,SAAAC,QAAA,EAAAC,UAAA,EAAAC,YAAA;AACA,SAAAC,UAAA;AACA,SAAAC,OAAA,EAAAC,GAAA;AAEA;EACAC,IAAA;EAEAC,QAAA;IACAC,KAAA;EACA;EAEAC,UAAA;IACAd,SAAA;IACAC,SAAA;IACAC,eAAA;IACAC,qBAAA;IACAC;EACA;EAEAW,KAAA;IACAC,eAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA,EAAAA,CAAA;IACA;IACAC,YAAA;MAAAH,IAAA,EAAAI,OAAA;MAAAF,OAAA;IAAA;EACA;EAEAG,IAAA,EAAAA,CAAA;IACAC,OAAA;IACAC,aAAA;EACA;EAEAC,QAAA;IACA;IACA,KAAAC,mBAAA;MACAC,IAAA,EAAAT,MAAA,CAAAU,IAAA,MAAAZ,eAAA,EAAAa,MAAA,aAAAT,YAAA;MACAJ,eAAA,OAAAA,eAAA;MACAI,YAAA,OAAAA,YAAA;MACAU,SAAA;IACA;EACA;EAEAC,QAAA;IACA,GAAA1B,QAAA;IACA2B,eAAA;MACA,YAAAC,MAAA,CAAAJ,MAAA;IACA;IACApB,QAAA;MACA,OAAAA,OAAA,MAAAyB,QAAA;IACA;EACA;EAEAC,OAAA;IACA,GAAA5B,YAAA;IACA,GAAAD,UAAA;IACA8B,qBAAAC,KAAA;MACA,OAAAA,KAAA,CAAAC,YAAA;IACA;IACAC,WAAA;MACA,KAAAC,SAAA;QAAAV,SAAA;MAAA;IACA;IACAW,aAAA;IACAC,WAAA;MACA,KAAAlB,aAAA;MACA,KAAAmB,QAAA,EAAAC,OAAA;IACA;EACA;EAEAC,QAAA;IACA,KAAAC,SAAA,GAAAC,IAAA;MACA,KAAAxB,OAAA;IACA;IACAb,GAAA,kBACAqC,IAAA,CAAAC,QAAA;MACA,KAAAC,WAAA,CAAAD,QAAA;IACA,GACAE,KAAA;MACA,KAAAD,WAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}