{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { eventTypes, dayIndexToDayString, authTypes } from \"@/constants\";\nimport { post, put, timeNumToTimeString, dateToTimeNum, getISODateString, isPhone, signInGoogle, getDateWithTimezone, getTimeOptions, addEventToCreatedList } from \"@/utils\";\nimport { mapActions, mapState } from \"vuex\";\nimport TimezoneSelector from \"./schedule_overlap/TimezoneSelector.vue\";\nimport HelpDialog from \"./HelpDialog.vue\";\nimport EmailInput from \"./event/EmailInput.vue\";\nimport DatePicker from \"@/components/DatePicker.vue\";\nimport SlideToggle from \"./SlideToggle.vue\";\nimport AlertText from \"@/components/AlertText.vue\";\nimport OverflowGradient from \"@/components/OverflowGradient.vue\";\nimport { guestUserId } from \"@/constants\";\nimport moment from \"moment\";\nimport dayjs from \"dayjs\";\nimport utcPlugin from \"dayjs/plugin/utc\";\nimport timezonePlugin from \"dayjs/plugin/timezone\";\nimport ExpandableSection from \"./ExpandableSection.vue\";\ndayjs.extend(utcPlugin);\ndayjs.extend(timezonePlugin);\nexport default {\n  name: \"NewEvent\",\n  emits: [\"input\"],\n  props: {\n    event: {\n      type: Object\n    },\n    edit: {\n      type: Boolean,\n      default: false\n    },\n    dialog: {\n      type: Boolean,\n      default: true\n    },\n    contactsPayload: {\n      type: Object,\n      default: () => ({})\n    },\n    showHelp: {\n      type: Boolean,\n      default: false\n    },\n    folderId: {\n      type: String,\n      default: null\n    }\n  },\n  components: {\n    TimezoneSelector,\n    HelpDialog,\n    EmailInput,\n    DatePicker,\n    SlideToggle,\n    ExpandableSection,\n    AlertText,\n    OverflowGradient\n  },\n  data: () => ({\n    formValid: true,\n    name: \"\",\n    startTime: 9,\n    endTime: 17,\n    specificTimesEnabled: false,\n    loading: false,\n    selectedDays: [],\n    selectedDaysOfWeek: [],\n    startOnMonday: false,\n    notificationsEnabled: true,\n    daysOnly: false,\n    daysOnlyOptions: Object.freeze([{\n      text: \"Dates and times\",\n      value: false\n    }, {\n      text: \"Dates only\",\n      value: true\n    }]),\n    // Date options\n    dateOptions: Object.freeze({\n      SPECIFIC: \"Specific dates\",\n      DOW: \"Days of the week\"\n    }),\n    selectedDateOption: \"Specific dates\",\n    // Email reminders\n    showEmailReminders: false,\n    emails: [],\n    // For email reminders\n\n    // Advanced options\n    showAdvancedOptions: false,\n    timeIncrement: 15,\n    collectEmails: false,\n    blindAvailabilityEnabled: false,\n    timezone: {},\n    sendEmailAfterXResponsesEnabled: false,\n    sendEmailAfterXResponses: 3,\n    helpDialog: false,\n    // Unsaved changes\n    initialEventData: {},\n    hasMounted: false\n  }),\n  mounted() {\n    if (Object.keys(this.contactsPayload).length > 0) {\n      this.toggleEmailReminders(true);\n\n      /** Get previously filled out data after enabling contacts  */\n      this.name = this.contactsPayload.name;\n      this.startTime = this.contactsPayload.startTime;\n      this.endTime = this.contactsPayload.endTime;\n      this.daysOnly = this.contactsPayload.daysOnly;\n      this.selectedDateOption = this.contactsPayload.selectedDateOption;\n      this.selectedDaysOfWeek = this.contactsPayload.selectedDaysOfWeek;\n      this.selectedDays = this.contactsPayload.selectedDays;\n      this.notificationsEnabled = this.contactsPayload.notificationsEnabled;\n      this.timezone = this.contactsPayload.timezone;\n      this.specificTimesEnabled = this.contactsPayload.specificTimesEnabled;\n      this.$refs.form.resetValidation();\n    }\n    this.$nextTick(() => {\n      this.hasMounted = true;\n    });\n  },\n  computed: {\n    ...mapState([\"authUser\", \"daysOnlyEnabled\"]),\n    nameRules() {\n      return [v => !!v || \"Event name is required\"];\n    },\n    selectedDaysRules() {\n      return [selectedDays => selectedDays.length > 0 || \"Please select at least one day\"];\n    },\n    addedEmails() {\n      if (Object.keys(this.contactsPayload).length > 0) return this.contactsPayload.emails;\n      return this.event && this.event.remindees ? this.event.remindees.map(r => r.email) : [];\n    },\n    times() {\n      return getTimeOptions();\n    },\n    minCalendarDate() {\n      if (this.edit) {\n        return \"\";\n      }\n      let today = new Date();\n      let dd = String(today.getDate()).padStart(2, \"0\");\n      let mm = String(today.getMonth() + 1).padStart(2, \"0\");\n      let yyyy = today.getFullYear();\n      return yyyy + \"-\" + mm + \"-\" + dd;\n    },\n    isPhone() {\n      return isPhone(this.$vuetify);\n    },\n    guestEvent() {\n      return this.event && this.event.ownerId == guestUserId;\n    },\n    timeIncrementItems() {\n      return [{\n        text: \"15 min\",\n        value: 15\n      }, {\n        text: \"30 min\",\n        value: 30\n      }, {\n        text: \"60 min\",\n        value: 60\n      }];\n    }\n  },\n  methods: {\n    ...mapActions([\"showError\", \"setEventFolder\"]),\n    blurNameField() {\n      this.$refs[\"name-field\"].blur();\n    },\n    reset() {\n      this.name = \"\";\n      this.startTime = 9;\n      this.endTime = 17;\n      this.specificTimesEnabled = false;\n      this.selectedDays = [];\n      this.selectedDaysOfWeek = [];\n      this.notificationsEnabled = true;\n      this.daysOnly = false;\n      this.selectedDateOption = \"Specific dates\";\n      this.emails = [];\n      this.showAdvancedOptions = false;\n      this.blindAvailabilityEnabled = false;\n      this.sendEmailAfterXResponsesEnabled = false;\n      this.sendEmailAfterXResponses = 3;\n      this.collectEmails = false;\n      this.$refs.form.resetValidation();\n    },\n    submit() {\n      if (!this.$refs.form.validate()) return;\n      this.selectedDays.sort();\n\n      // Get duration of event\n      let duration = this.endTime - this.startTime;\n      if (duration <= 0) duration += 24;\n\n      // Get date objects for each selected day\n      let dates = [];\n      let type = \"\";\n      if (this.daysOnly) {\n        duration = 0;\n        type = eventTypes.SPECIFIC_DATES;\n        for (const day of this.selectedDays) {\n          const date = new Date(`${day} 00:00:00Z`);\n          dates.push(date);\n        }\n        this.specificTimesEnabled = false;\n      } else {\n        const startTimeString = timeNumToTimeString(this.startTime);\n        if (this.selectedDateOption === this.dateOptions.SPECIFIC) {\n          type = eventTypes.SPECIFIC_DATES;\n          for (const day of this.selectedDays) {\n            const date = dayjs.tz(`${day} ${startTimeString}`, this.timezone.value);\n            dates.push(date.toDate());\n          }\n        } else if (this.selectedDateOption === this.dateOptions.DOW) {\n          type = eventTypes.DOW;\n          this.selectedDaysOfWeek.sort((a, b) => a - b);\n          this.selectedDaysOfWeek = this.selectedDaysOfWeek.filter(dayIndex => {\n            return this.startOnMonday ? dayIndex !== 0 : dayIndex !== 7;\n          });\n          for (const dayIndex of this.selectedDaysOfWeek) {\n            const day = dayIndexToDayString[dayIndex];\n            let date = dayjs.tz(`${day} ${startTimeString}`, this.timezone.value);\n\n            // Check if cur date is NOT in daylight savings time\n            // because the dow days ARE in daylight savings time\n            if (!moment().isDST()) {\n              // Add one hour if not in DST\n              date = date.add(1, \"hour\");\n            }\n            dates.push(date.toDate());\n          }\n        }\n      }\n      this.loading = true;\n      const payload = {\n        name: this.name,\n        duration: duration,\n        dates: dates,\n        hasSpecificTimes: this.specificTimesEnabled,\n        notificationsEnabled: !this.authUser ? false : this.notificationsEnabled,\n        blindAvailabilityEnabled: this.blindAvailabilityEnabled,\n        daysOnly: this.daysOnly,\n        remindees: this.emails,\n        type: type,\n        sendEmailAfterXResponses: this.sendEmailAfterXResponsesEnabled ? parseInt(this.sendEmailAfterXResponses) : -1,\n        collectEmails: this.collectEmails,\n        startOnMonday: this.startOnMonday,\n        timeIncrement: this.timeIncrement,\n        creatorPosthogId: this.$posthog?.get_distinct_id()\n      };\n      const posthogPayload = {\n        eventName: this.name,\n        eventDuration: duration,\n        eventDates: JSON.stringify(dates),\n        eventHasSpecificTimes: this.specificTimesEnabled,\n        eventNotificationsEnabled: !this.authUser ? false : this.notificationsEnabled,\n        eventBlindAvailabilityEnabled: this.blindAvailabilityEnabled,\n        eventDaysOnly: this.daysOnly,\n        eventRemindees: this.emails,\n        eventType: type,\n        eventSendEmailAfterXResponses: this.sendEmailAfterXResponsesEnabled ? parseInt(this.sendEmailAfterXResponses) : -1,\n        eventCollectEmails: this.collectEmails,\n        eventStartOnMonday: this.startOnMonday,\n        eventTimeIncrement: this.timeIncrement\n      };\n      if (!this.edit) {\n        // Create new event on backend\n        post(\"/events\", payload).then(async ({\n          eventId,\n          shortId\n        }) => {\n          await this.setEventFolder({\n            eventId,\n            folderId: this.folderId\n          });\n          this.$router.push({\n            name: \"event\",\n            params: {\n              eventId: shortId ?? eventId,\n              initialTimezone: this.timezone\n            }\n          });\n          this.$emit(\"input\", false);\n          this.reset();\n          posthogPayload.eventId = eventId;\n          this.$posthog?.capture(\"Event created\", posthogPayload);\n          if (!this.authUser) {\n            // Add eventId to localStorage, so the user can claim it later\n            addEventToCreatedList(eventId);\n          }\n        }).catch(err => {\n          this.showError(\"There was a problem creating that event! Please try again later.\");\n          console.error(err);\n        }).finally(() => {\n          this.loading = false;\n        });\n      } else {\n        // Edit event on backend\n        if (this.event) {\n          put(`/events/${this.event._id}`, payload).then(() => {\n            posthogPayload.eventId = this.event._id;\n            this.$posthog?.capture(\"Event edited\", posthogPayload);\n\n            // this.$emit(\"input\", false)\n            // this.reset()\n            localStorage.setItem(`from-edit-event-${this.event._id}`, \"true\");\n            window.location.reload();\n          }).catch(err => {\n            this.showError(\"There was a problem editing this event! Please try again later.\");\n            console.log(err);\n          }).finally(() => {\n            this.loading = false;\n          });\n        }\n      }\n    },\n    toggleEmailReminders(delayed = false) {\n      if (delayed) {\n        setTimeout(() => this.showEmailReminders = !this.showEmailReminders, 300);\n      } else {\n        this.showEmailReminders = !this.showEmailReminders;\n      }\n    },\n    /** Redirects user to oauth page requesting access to the user's contacts */\n    requestContactsAccess({\n      emails\n    }) {\n      const payload = {\n        emails,\n        name: this.name,\n        startTime: this.startTime,\n        endTime: this.endTime,\n        daysOnly: this.daysOnly,\n        selectedDays: this.selectedDays,\n        selectedDaysOfWeek: this.selectedDaysOfWeek,\n        selectedDateOption: this.selectedDateOption,\n        notificationsEnabled: this.notificationsEnabled,\n        timezone: this.timezone\n      };\n      signInGoogle({\n        state: {\n          type: authTypes.EVENT_CONTACTS,\n          eventId: this.event ? this.event.shortId ?? this.event._id : \"\",\n          openNewGroup: false,\n          payload\n        },\n        requestContactsPermission: true\n      });\n    },\n    /** Update state based on the contactsPayload after granting contacts access */\n    contactsAccessGranted({\n      curScheduledEvent,\n      ...data\n    }) {\n      this.curScheduledEvent = curScheduledEvent;\n      this.$refs.confirmDetailsDialog?.setData(data);\n      this.confirmDetailsDialog = true;\n    },\n    /** Populates the form fields based on this.event */\n    updateFieldsFromEvent() {\n      if (this.event) {\n        this.name = this.event.name;\n\n        // Set start time, accounting for the timezone\n        this.startTime = Math.floor(dateToTimeNum(getDateWithTimezone(this.event.dates[0]), true));\n        this.startTime %= 24;\n        this.endTime = (this.startTime + this.event.duration) % 24;\n        this.notificationsEnabled = this.event.notificationsEnabled;\n        this.blindAvailabilityEnabled = this.event.blindAvailabilityEnabled;\n        this.daysOnly = this.event.daysOnly;\n        this.specificTimesEnabled = this.event.hasSpecificTimes;\n        this.startOnMonday = this.event.startOnMonday;\n        this.collectEmails = this.event.collectEmails;\n        this.timeIncrement = this.event.timeIncrement ?? 15;\n        if (this.event.sendEmailAfterXResponses !== null && this.event.sendEmailAfterXResponses > 0) {\n          this.sendEmailAfterXResponsesEnabled = true;\n          this.sendEmailAfterXResponses = this.event.sendEmailAfterXResponses;\n        }\n        if (this.event.daysOnly) {\n          this.selectedDateOption = this.dateOptions.SPECIFIC;\n          const selectedDays = [];\n          for (let date of this.event.dates) {\n            selectedDays.push(getISODateString(date, true));\n          }\n          this.selectedDays = selectedDays;\n        } else {\n          if (this.event.type === eventTypes.SPECIFIC_DATES) {\n            this.selectedDateOption = this.dateOptions.SPECIFIC;\n            const selectedDays = [];\n            for (let date of this.event.dates) {\n              date = getDateWithTimezone(date);\n              selectedDays.push(getISODateString(date, true));\n            }\n            this.selectedDays = selectedDays;\n          } else if (this.event.type === eventTypes.DOW) {\n            this.selectedDateOption = this.dateOptions.DOW;\n            const selectedDaysOfWeek = [];\n            for (let date of this.event.dates) {\n              date = getDateWithTimezone(date);\n              if (this.event.startOnMonday && date.getUTCDay() === 0) {\n                selectedDaysOfWeek.push(7);\n              } else {\n                selectedDaysOfWeek.push(date.getUTCDay());\n              }\n            }\n            this.selectedDaysOfWeek = selectedDaysOfWeek;\n            if (this.event.startOnMonday) {\n              this.startOnMonday = true;\n            }\n          }\n        }\n      }\n    },\n    resetToEventData() {\n      this.updateFieldsFromEvent();\n      this.$refs.emailInput.reset();\n    },\n    setInitialEventData() {\n      this.initialEventData = {\n        name: this.name,\n        startTime: this.startTime,\n        endTime: this.endTime,\n        specificTimesEnabled: this.specificTimesEnabled,\n        daysOnly: this.daysOnly,\n        selectedDays: this.selectedDays,\n        selectedDaysOfWeek: this.selectedDaysOfWeek,\n        selectedDateOption: this.selectedDateOption,\n        notificationsEnabled: this.notificationsEnabled,\n        emails: [...this.emails],\n        blindAvailabilityEnabled: this.blindAvailabilityEnabled,\n        sendEmailAfterXResponsesEnabled: this.sendEmailAfterXResponsesEnabled,\n        sendEmailAfterXResponses: this.sendEmailAfterXResponses,\n        timeIncrement: this.timeIncrement\n      };\n    },\n    hasEventBeenEdited() {\n      return this.name !== this.initialEventData.name || this.startTime !== this.initialEventData.startTime || this.endTime !== this.initialEventData.endTime || this.specificTimesEnabled !== this.initialEventData.specificTimesEnabled || this.selectedDateOption !== this.initialEventData.selectedDateOption || JSON.stringify(this.selectedDays) !== JSON.stringify(this.initialEventData.selectedDays) || JSON.stringify(this.selectedDaysOfWeek) !== JSON.stringify(this.initialEventData.selectedDaysOfWeek) || this.daysOnly !== this.initialEventData.daysOnly || this.notificationsEnabled !== this.initialEventData.notificationsEnabled || JSON.stringify(this.emails) !== JSON.stringify(this.initialEventData.emails) || this.blindAvailabilityEnabled !== this.initialEventData.blindAvailabilityEnabled || this.sendEmailAfterXResponsesEnabled !== this.initialEventData.sendEmailAfterXResponsesEnabled || this.sendEmailAfterXResponses !== this.initialEventData.sendEmailAfterXResponses;\n    },\n    trackTimezoneChange(newTimezone) {\n      this.$posthog.capture(\"timezone_selected_in_new_event_dialog\", {\n        timezone: newTimezone?.value\n      });\n    }\n  },\n  watch: {\n    event: {\n      immediate: true,\n      handler() {\n        this.updateFieldsFromEvent();\n        this.setInitialEventData();\n      }\n    },\n    selectedDateOption() {\n      // Reset the other date / day selection when date option is changed\n      if (this.selectedDateOption === this.dateOptions.SPECIFIC) {\n        this.selectedDaysOfWeek = [];\n      } else if (this.selectedDateOption === this.dateOptions.DOW) {\n        this.selectedDays = [];\n      }\n    }\n  }\n};","map":{"version":3,"names":["eventTypes","dayIndexToDayString","authTypes","post","put","timeNumToTimeString","dateToTimeNum","getISODateString","isPhone","signInGoogle","getDateWithTimezone","getTimeOptions","addEventToCreatedList","mapActions","mapState","TimezoneSelector","HelpDialog","EmailInput","DatePicker","SlideToggle","AlertText","OverflowGradient","guestUserId","moment","dayjs","utcPlugin","timezonePlugin","ExpandableSection","extend","name","emits","props","event","type","Object","edit","Boolean","default","dialog","contactsPayload","showHelp","folderId","String","components","data","formValid","startTime","endTime","specificTimesEnabled","loading","selectedDays","selectedDaysOfWeek","startOnMonday","notificationsEnabled","daysOnly","daysOnlyOptions","freeze","text","value","dateOptions","SPECIFIC","DOW","selectedDateOption","showEmailReminders","emails","showAdvancedOptions","timeIncrement","collectEmails","blindAvailabilityEnabled","timezone","sendEmailAfterXResponsesEnabled","sendEmailAfterXResponses","helpDialog","initialEventData","hasMounted","mounted","keys","length","toggleEmailReminders","$refs","form","resetValidation","$nextTick","computed","nameRules","v","selectedDaysRules","addedEmails","remindees","map","r","email","times","minCalendarDate","today","Date","dd","getDate","padStart","mm","getMonth","yyyy","getFullYear","$vuetify","guestEvent","ownerId","timeIncrementItems","methods","blurNameField","blur","reset","submit","validate","sort","duration","dates","SPECIFIC_DATES","day","date","push","startTimeString","tz","toDate","a","b","filter","dayIndex","isDST","add","payload","hasSpecificTimes","authUser","parseInt","creatorPosthogId","$posthog","get_distinct_id","posthogPayload","eventName","eventDuration","eventDates","JSON","stringify","eventHasSpecificTimes","eventNotificationsEnabled","eventBlindAvailabilityEnabled","eventDaysOnly","eventRemindees","eventType","eventSendEmailAfterXResponses","eventCollectEmails","eventStartOnMonday","eventTimeIncrement","then","eventId","shortId","setEventFolder","$router","params","initialTimezone","$emit","capture","catch","err","showError","console","error","finally","_id","localStorage","setItem","window","location","reload","log","delayed","setTimeout","requestContactsAccess","state","EVENT_CONTACTS","openNewGroup","requestContactsPermission","contactsAccessGranted","curScheduledEvent","confirmDetailsDialog","setData","updateFieldsFromEvent","Math","floor","getUTCDay","resetToEventData","emailInput","setInitialEventData","hasEventBeenEdited","trackTimezoneChange","newTimezone","watch","immediate","handler"],"sources":["src/components/NewEvent.vue"],"sourcesContent":["<template>\n  <v-card\n    :flat=\"dialog\"\n    :class=\"{ 'tw-py-4': !dialog, 'tw-flex-1': dialog }\"\n    class=\"tw-relative tw-flex tw-max-w-[28rem] tw-flex-col tw-overflow-hidden tw-rounded-lg tw-transition-all\"\n  >\n    <v-card-title class=\"tw-mb-2 tw-flex tw-gap-2 tw-px-4 sm:tw-px-8\">\n      <div>\n        <div class=\"tw-mb-1\">\n          {{ edit ? \"Edit event\" : \"New event\" }}\n        </div>\n        <div\n          v-if=\"dialog && showHelp\"\n          class=\"tw-text-xs tw-font-normal tw-italic tw-text-dark-gray\"\n        >\n          Ideal for one-time / recurring meetings\n        </div>\n      </div>\n      <v-spacer />\n      <template v-if=\"dialog\">\n        <v-btn v-if=\"showHelp\" icon @click=\"helpDialog = true\">\n          <v-icon>mdi-information-outline</v-icon>\n        </v-btn>\n        <v-btn v-else @click=\"$emit('input', false)\" icon>\n          <v-icon>mdi-close</v-icon>\n        </v-btn>\n        <HelpDialog v-model=\"helpDialog\">\n          <template v-slot:header>Events</template>\n          <div class=\"tw-mb-4\">\n            Use events to collect people's availabilities and compare them\n            across certain days.\n          </div>\n        </HelpDialog>\n      </template>\n    </v-card-title>\n    <v-card-text\n      ref=\"cardText\"\n      class=\"tw-relative tw-flex-1 tw-overflow-auto tw-px-4 tw-py-1 sm:tw-px-8\"\n    >\n      <AlertText v-if=\"edit && event?.ownerId == 0\" class=\"tw-mb-4\">\n        Anybody can edit this event because it was created while not signed in\n      </AlertText>\n      <v-form\n        ref=\"form\"\n        v-model=\"formValid\"\n        lazy-validation\n        class=\"tw-flex tw-flex-col tw-gap-y-6\"\n        :disabled=\"loading\"\n      >\n        <v-text-field\n          ref=\"name-field\"\n          v-model=\"name\"\n          placeholder=\"Name your event...\"\n          hide-details=\"auto\"\n          solo\n          @keyup.enter=\"blurNameField\"\n          :rules=\"nameRules\"\n          autofocus\n          required\n        />\n\n        <SlideToggle\n          v-if=\"daysOnlyEnabled && !edit\"\n          class=\"tw-w-full\"\n          v-model=\"daysOnly\"\n          :options=\"daysOnlyOptions\"\n        />\n\n        <div>\n          <v-expand-transition>\n            <div v-if=\"!daysOnly\">\n              <div class=\"tw-mb-2 tw-text-lg tw-text-black\">\n                What times might work?\n              </div>\n              <v-expand-transition>\n                <div v-if=\"!specificTimesEnabled\">\n                  <div\n                    class=\"tw-mb-2 tw-flex tw-items-baseline tw-justify-center tw-space-x-2\"\n                  >\n                    <v-select\n                      :value=\"startTime\"\n                      @input=\"(t) => (startTime = t.time)\"\n                      menu-props=\"auto\"\n                      :items=\"times\"\n                      return-object\n                      hide-details\n                      solo\n                    ></v-select>\n                    <div>to</div>\n                    <v-select\n                      :value=\"endTime\"\n                      @input=\"(t) => (endTime = t.time)\"\n                      menu-props=\"auto\"\n                      :items=\"times\"\n                      return-object\n                      hide-details\n                      solo\n                    ></v-select>\n                  </div>\n                </div>\n              </v-expand-transition>\n              <div class=\"tw-mb-2\">\n                <v-checkbox\n                  v-model=\"specificTimesEnabled\"\n                  messages=\"Specify the times in the next step\"\n                >\n                  <template v-slot:label>\n                    <span\n                      class=\"tw-text-sm\"\n                      :class=\"\n                        specificTimesEnabled\n                          ? 'tw-text-black'\n                          : 'tw-text-very-dark-gray'\n                      \"\n                    >\n                      Set specific times per day\n                    </span>\n                  </template>\n                  <template v-slot:message=\"{ key, message }\">\n                    <v-expand-transition>\n                      <div\n                        v-if=\"specificTimesEnabled\"\n                        class=\"tw-pointer-events-auto -tw-mt-1 tw-ml-[32px] tw-text-xs tw-text-dark-gray\"\n                      >\n                        {{ message }}\n                      </div>\n                    </v-expand-transition>\n                  </template>\n                </v-checkbox>\n              </div>\n            </div>\n          </v-expand-transition>\n\n          <div class=\"tw-mb-2 tw-text-lg tw-text-black\">\n            What\n            {{ selectedDateOption === dateOptions.SPECIFIC ? \"dates\" : \"days\" }}\n            might work?\n          </div>\n          <v-select\n            v-if=\"!edit && !daysOnly\"\n            v-model=\"selectedDateOption\"\n            :items=\"Object.values(dateOptions)\"\n            solo\n            hide-details\n            class=\"tw-mb-4\"\n          />\n\n          <v-expand-transition>\n            <div v-if=\"selectedDateOption === dateOptions.SPECIFIC || daysOnly\">\n              <div class=\"tw-mb-2 tw-text-xs tw-text-dark-gray\">\n                Drag to select multiple dates\n              </div>\n              <v-input\n                v-model=\"selectedDays\"\n                hide-details=\"auto\"\n                :rules=\"selectedDaysRules\"\n                key=\"date-picker\"\n              >\n                <DatePicker\n                  v-model=\"selectedDays\"\n                  :minCalendarDate=\"minCalendarDate\"\n                />\n              </v-input>\n            </div>\n            <div v-else-if=\"selectedDateOption === dateOptions.DOW\">\n              <v-input\n                v-model=\"selectedDaysOfWeek\"\n                hide-details=\"auto\"\n                :rules=\"selectedDaysRules\"\n                key=\"days-of-week\"\n                class=\"tw-w-fit\"\n              >\n                <v-btn-toggle\n                  v-model=\"selectedDaysOfWeek\"\n                  multiple\n                  solo\n                  color=\"primary\"\n                >\n                  <v-btn depressed v-show=\"!startOnMonday\"> Sun </v-btn>\n                  <v-btn depressed> Mon </v-btn>\n                  <v-btn depressed> Tue </v-btn>\n                  <v-btn depressed> Wed </v-btn>\n                  <v-btn depressed> Thu </v-btn>\n                  <v-btn depressed> Fri </v-btn>\n                  <v-btn depressed> Sat </v-btn>\n                  <v-btn depressed v-show=\"startOnMonday\"> Sun </v-btn>\n                </v-btn-toggle>\n              </v-input>\n              <v-checkbox class=\"tw-mt-2\" v-model=\"startOnMonday\" hide-details>\n                <template v-slot:label>\n                  <span class=\"tw-text-sm tw-text-very-dark-gray\">\n                    Start on Monday\n                  </span>\n                </template>\n              </v-checkbox>\n            </div>\n          </v-expand-transition>\n        </div>\n\n        <v-checkbox\n          v-if=\"!guestEvent && authUser\"\n          v-model=\"notificationsEnabled\"\n          hide-details\n          class=\"tw-mt-2\"\n        >\n          <template v-slot:label>\n            <span class=\"tw-text-sm tw-text-very-dark-gray\"\n              >Email me each time someone joins my event</span\n            >\n          </template>\n        </v-checkbox>\n        <v-checkbox\n          v-else-if=\"!guestEvent\"\n          disabled\n          messages=\"test\"\n          off-icon=\"mdi-checkbox-blank-off-outline\"\n          class=\"tw-mt-2\"\n        >\n          <template v-slot:label>\n            <span class=\"tw-text-sm\"\n              >Email me each time someone joins my event</span\n            >\n          </template>\n          <template v-slot:message=\"{ key, message }\">\n            <div\n              class=\"tw-pointer-events-auto -tw-mt-1 tw-ml-[32px] tw-text-xs tw-text-dark-gray\"\n            >\n              <span class=\"tw-font-medium tw-text-very-dark-gray\"\n                ><a @click=\"$emit('signIn')\">Sign in</a>\n                to use this feature\n              </span>\n            </div>\n          </template>\n        </v-checkbox>\n\n        <div class=\"tw-flex tw-flex-col tw-gap-2\">\n          <ExpandableSection\n            v-if=\"authUser && !guestEvent\"\n            label=\"Email reminders\"\n            v-model=\"showEmailReminders\"\n            :auto-scroll=\"dialog\"\n          >\n            <div class=\"tw-flex tw-flex-col tw-gap-5 tw-pt-2\">\n              <EmailInput\n                v-show=\"authUser\"\n                ref=\"emailInput\"\n                @requestContactsAccess=\"requestContactsAccess\"\n                labelColor=\"tw-text-very-dark-gray\"\n                :addedEmails=\"addedEmails\"\n                @update:emails=\"(newEmails) => (emails = newEmails)\"\n              >\n                <template v-slot:header>\n                  <div class=\"tw-flex tw-gap-1\">\n                    <div class=\"tw-text-very-dark-gray\">\n                      Remind people to fill out the event\n                    </div>\n\n                    <v-tooltip\n                      top\n                      content-class=\"tw-bg-very-dark-gray tw-shadow-lg tw-opacity-100 tw-py-4\"\n                    >\n                      <template v-slot:activator=\"{ on, attrs }\">\n                        <v-icon small v-bind=\"attrs\" v-on=\"on\"\n                          >mdi-information-outline\n                        </v-icon>\n                      </template>\n                      <div>\n                        Reminder emails will be sent the day of event\n                        creation,<br />one day after, and three days after. You\n                        will also receive <br />an email when everybody has\n                        filled out the event.\n                      </div>\n                    </v-tooltip>\n                  </div>\n                </template>\n              </EmailInput>\n            </div>\n          </ExpandableSection>\n\n          <ExpandableSection\n            v-model=\"showAdvancedOptions\"\n            label=\"Advanced options\"\n            :auto-scroll=\"dialog\"\n          >\n            <div class=\"tw-flex tw-flex-col tw-gap-5 tw-pt-2\">\n              <div v-if=\"!edit\" class=\"tw-flex tw-items-center tw-gap-x-2\">\n                <div class=\"tw-text-sm tw-text-black\">Time increment:</div>\n                <v-select\n                  v-model=\"timeIncrement\"\n                  dense\n                  class=\"-tw-mt-[2px] tw-w-24 tw-grow-0 tw-text-sm\"\n                  menu-props=\"auto\"\n                  hide-details\n                  :items=\"timeIncrementItems\"\n                ></v-select>\n              </div>\n              <v-checkbox\n                v-if=\"authUser && !guestEvent\"\n                v-model=\"collectEmails\"\n                hide-details\n              >\n                <template v-slot:label>\n                  <span class=\"tw-text-sm tw-text-black\">\n                    Collect respondents' email addresses\n                  </span>\n                </template>\n                <template v-slot:message=\"{ key, message }\">\n                  <div\n                    class=\"-tw-mt-1 tw-ml-[32px] tw-text-xs tw-text-dark-gray\"\n                  >\n                    {{ message }}\n                  </div>\n                </template>\n              </v-checkbox>\n              <v-checkbox\n                v-else-if=\"!guestEvent\"\n                disabled\n                messages=\"test\"\n                off-icon=\"mdi-checkbox-blank-off-outline\"\n              >\n                <template v-slot:label>\n                  <span class=\"tw-text-sm\"\n                    >Collect respondents' email addresses</span\n                  >\n                </template>\n                <template v-slot:message=\"{ key, message }\">\n                  <div\n                    class=\"tw-pointer-events-auto -tw-mt-1 tw-ml-[32px] tw-text-xs tw-text-dark-gray\"\n                  >\n                    <span class=\"tw-font-medium tw-text-very-dark-gray\"\n                      ><a @click=\"$emit('signIn')\">Sign in</a>\n                      to use this feature\n                    </span>\n                  </div>\n                </template>\n              </v-checkbox>\n              <v-checkbox\n                v-if=\"authUser && !guestEvent\"\n                v-model=\"blindAvailabilityEnabled\"\n                messages=\"Only show responses to event creator\"\n              >\n                <template v-slot:label>\n                  <span class=\"tw-text-sm tw-text-black\">\n                    Hide responses from respondents\n                  </span>\n                </template>\n                <template v-slot:message=\"{ key, message }\">\n                  <div\n                    class=\"-tw-mt-1 tw-ml-[32px] tw-text-xs tw-text-dark-gray\"\n                  >\n                    {{ message }}\n                  </div>\n                </template>\n              </v-checkbox>\n              <v-checkbox\n                v-else-if=\"!guestEvent\"\n                disabled\n                messages=\"Only show responses to event creator. \"\n                off-icon=\"mdi-checkbox-blank-off-outline\"\n              >\n                <template v-slot:label>\n                  <span class=\"tw-text-sm\"\n                    >Hide responses from respondents</span\n                  >\n                </template>\n                <template v-slot:message=\"{ key, message }\">\n                  <div\n                    class=\"tw-pointer-events-auto -tw-mt-1 tw-ml-[32px] tw-text-xs tw-text-dark-gray\"\n                  >\n                    {{ message }}\n                    <span class=\"tw-font-medium tw-text-very-dark-gray\"\n                      ><a @click=\"$emit('signIn')\">Sign in</a>\n                      to use this feature\n                    </span>\n                  </div>\n                </template>\n              </v-checkbox>\n              <v-checkbox\n                v-if=\"authUser && !guestEvent\"\n                v-model=\"sendEmailAfterXResponsesEnabled\"\n                hide-details\n              >\n                <template v-slot:label>\n                  <div\n                    :class=\"!sendEmailAfterXResponsesEnabled && 'tw-opacity-50'\"\n                    class=\"tw-flex tw-items-center tw-gap-x-2 tw-text-sm tw-text-very-dark-gray\"\n                  >\n                    <div>Email me after</div>\n                    <v-text-field\n                      v-model=\"sendEmailAfterXResponses\"\n                      @click=\"\n                        (e) => {\n                          e.preventDefault()\n                          e.stopPropagation()\n                        }\n                      \"\n                      :disabled=\"!sendEmailAfterXResponsesEnabled\"\n                      dense\n                      class=\"email-me-after-text-field -tw-mt-[2px] tw-w-10\"\n                      menu-props=\"auto\"\n                      hide-details\n                      type=\"number\"\n                      min=\"1\"\n                    ></v-text-field>\n                    <div>responses</div>\n                  </div>\n                </template>\n              </v-checkbox>\n              <TimezoneSelector\n                v-model=\"timezone\"\n                label=\"Timezone\"\n                @input=\"trackTimezoneChange\"\n              />\n            </div>\n          </ExpandableSection>\n        </div>\n      </v-form>\n    </v-card-text>\n    <v-card-actions class=\"tw-relative tw-px-4 sm:tw-px-8\">\n      <div class=\"tw-relative tw-w-full\">\n        <v-btn\n          :disabled=\"!formValid\"\n          block\n          :loading=\"loading\"\n          color=\"primary\"\n          class=\"tw-mt-4 tw-bg-green\"\n          @click=\"submit\"\n        >\n          {{\n            specificTimesEnabled ? \"Next\" : edit ? \"Save edits\" : \"Create event\"\n          }}\n        </v-btn>\n        <div\n          :class=\"formValid ? 'tw-invisible' : 'tw-visible'\"\n          class=\"tw-mt-1 tw-text-xs tw-text-red\"\n        >\n          Please fix form errors before continuing\n        </div>\n      </div>\n    </v-card-actions>\n\n    <OverflowGradient\n      v-if=\"hasMounted\"\n      :scrollContainer=\"$refs.cardText\"\n      class=\"tw-bottom-[90px]\"\n    />\n  </v-card>\n</template>\n\n<style>\n.email-me-after-text-field input {\n  padding: 0px !important;\n}\n</style>\n\n<script>\nimport { eventTypes, dayIndexToDayString, authTypes } from \"@/constants\"\nimport {\n  post,\n  put,\n  timeNumToTimeString,\n  dateToTimeNum,\n  getISODateString,\n  isPhone,\n  signInGoogle,\n  getDateWithTimezone,\n  getTimeOptions,\n  addEventToCreatedList,\n} from \"@/utils\"\nimport { mapActions, mapState } from \"vuex\"\nimport TimezoneSelector from \"./schedule_overlap/TimezoneSelector.vue\"\nimport HelpDialog from \"./HelpDialog.vue\"\nimport EmailInput from \"./event/EmailInput.vue\"\nimport DatePicker from \"@/components/DatePicker.vue\"\nimport SlideToggle from \"./SlideToggle.vue\"\nimport AlertText from \"@/components/AlertText.vue\"\nimport OverflowGradient from \"@/components/OverflowGradient.vue\"\nimport { guestUserId } from \"@/constants\"\nimport moment from \"moment\"\n\nimport dayjs from \"dayjs\"\nimport utcPlugin from \"dayjs/plugin/utc\"\nimport timezonePlugin from \"dayjs/plugin/timezone\"\nimport ExpandableSection from \"./ExpandableSection.vue\"\ndayjs.extend(utcPlugin)\ndayjs.extend(timezonePlugin)\n\nexport default {\n  name: \"NewEvent\",\n\n  emits: [\"input\"],\n\n  props: {\n    event: { type: Object },\n    edit: { type: Boolean, default: false },\n    dialog: { type: Boolean, default: true },\n    contactsPayload: { type: Object, default: () => ({}) },\n    showHelp: { type: Boolean, default: false },\n    folderId: { type: String, default: null },\n  },\n\n  components: {\n    TimezoneSelector,\n    HelpDialog,\n    EmailInput,\n    DatePicker,\n    SlideToggle,\n    ExpandableSection,\n    AlertText,\n    OverflowGradient,\n  },\n\n  data: () => ({\n    formValid: true,\n    name: \"\",\n    startTime: 9,\n    endTime: 17,\n    specificTimesEnabled: false,\n    loading: false,\n    selectedDays: [],\n    selectedDaysOfWeek: [],\n    startOnMonday: false,\n    notificationsEnabled: true,\n\n    daysOnly: false,\n    daysOnlyOptions: Object.freeze([\n      { text: \"Dates and times\", value: false },\n      { text: \"Dates only\", value: true },\n    ]),\n\n    // Date options\n    dateOptions: Object.freeze({\n      SPECIFIC: \"Specific dates\",\n      DOW: \"Days of the week\",\n    }),\n    selectedDateOption: \"Specific dates\",\n\n    // Email reminders\n    showEmailReminders: false,\n    emails: [], // For email reminders\n\n    // Advanced options\n    showAdvancedOptions: false,\n    timeIncrement: 15,\n    collectEmails: false,\n    blindAvailabilityEnabled: false,\n    timezone: {},\n    sendEmailAfterXResponsesEnabled: false,\n    sendEmailAfterXResponses: 3,\n\n    helpDialog: false,\n\n    // Unsaved changes\n    initialEventData: {},\n\n    hasMounted: false,\n  }),\n\n  mounted() {\n    if (Object.keys(this.contactsPayload).length > 0) {\n      this.toggleEmailReminders(true)\n\n      /** Get previously filled out data after enabling contacts  */\n      this.name = this.contactsPayload.name\n      this.startTime = this.contactsPayload.startTime\n      this.endTime = this.contactsPayload.endTime\n      this.daysOnly = this.contactsPayload.daysOnly\n      this.selectedDateOption = this.contactsPayload.selectedDateOption\n      this.selectedDaysOfWeek = this.contactsPayload.selectedDaysOfWeek\n      this.selectedDays = this.contactsPayload.selectedDays\n      this.notificationsEnabled = this.contactsPayload.notificationsEnabled\n      this.timezone = this.contactsPayload.timezone\n      this.specificTimesEnabled = this.contactsPayload.specificTimesEnabled\n\n      this.$refs.form.resetValidation()\n    }\n\n    this.$nextTick(() => {\n      this.hasMounted = true\n    })\n  },\n\n  computed: {\n    ...mapState([\"authUser\", \"daysOnlyEnabled\"]),\n    nameRules() {\n      return [(v) => !!v || \"Event name is required\"]\n    },\n    selectedDaysRules() {\n      return [\n        (selectedDays) =>\n          selectedDays.length > 0 || \"Please select at least one day\",\n      ]\n    },\n    addedEmails() {\n      if (Object.keys(this.contactsPayload).length > 0)\n        return this.contactsPayload.emails\n      return this.event && this.event.remindees\n        ? this.event.remindees.map((r) => r.email)\n        : []\n    },\n    times() {\n      return getTimeOptions()\n    },\n    minCalendarDate() {\n      if (this.edit) {\n        return \"\"\n      }\n\n      let today = new Date()\n      let dd = String(today.getDate()).padStart(2, \"0\")\n      let mm = String(today.getMonth() + 1).padStart(2, \"0\")\n      let yyyy = today.getFullYear()\n\n      return yyyy + \"-\" + mm + \"-\" + dd\n    },\n    isPhone() {\n      return isPhone(this.$vuetify)\n    },\n    guestEvent() {\n      return this.event && this.event.ownerId == guestUserId\n    },\n    timeIncrementItems() {\n      return [\n        { text: \"15 min\", value: 15 },\n        { text: \"30 min\", value: 30 },\n        { text: \"60 min\", value: 60 },\n      ]\n    },\n  },\n\n  methods: {\n    ...mapActions([\"showError\", \"setEventFolder\"]),\n    blurNameField() {\n      this.$refs[\"name-field\"].blur()\n    },\n    reset() {\n      this.name = \"\"\n      this.startTime = 9\n      this.endTime = 17\n      this.specificTimesEnabled = false\n      this.selectedDays = []\n      this.selectedDaysOfWeek = []\n      this.notificationsEnabled = true\n      this.daysOnly = false\n      this.selectedDateOption = \"Specific dates\"\n      this.emails = []\n      this.showAdvancedOptions = false\n      this.blindAvailabilityEnabled = false\n      this.sendEmailAfterXResponsesEnabled = false\n      this.sendEmailAfterXResponses = 3\n      this.collectEmails = false\n\n      this.$refs.form.resetValidation()\n    },\n    submit() {\n      if (!this.$refs.form.validate()) return\n\n      this.selectedDays.sort()\n\n      // Get duration of event\n      let duration = this.endTime - this.startTime\n      if (duration <= 0) duration += 24\n\n      // Get date objects for each selected day\n      let dates = []\n      let type = \"\"\n      if (this.daysOnly) {\n        duration = 0\n        type = eventTypes.SPECIFIC_DATES\n\n        for (const day of this.selectedDays) {\n          const date = new Date(`${day} 00:00:00Z`)\n          dates.push(date)\n        }\n\n        this.specificTimesEnabled = false\n      } else {\n        const startTimeString = timeNumToTimeString(this.startTime)\n        if (this.selectedDateOption === this.dateOptions.SPECIFIC) {\n          type = eventTypes.SPECIFIC_DATES\n\n          for (const day of this.selectedDays) {\n            const date = dayjs.tz(\n              `${day} ${startTimeString}`,\n              this.timezone.value\n            )\n            dates.push(date.toDate())\n          }\n        } else if (this.selectedDateOption === this.dateOptions.DOW) {\n          type = eventTypes.DOW\n\n          this.selectedDaysOfWeek.sort((a, b) => a - b)\n          this.selectedDaysOfWeek = this.selectedDaysOfWeek.filter(\n            (dayIndex) => {\n              return this.startOnMonday ? dayIndex !== 0 : dayIndex !== 7\n            }\n          )\n          for (const dayIndex of this.selectedDaysOfWeek) {\n            const day = dayIndexToDayString[dayIndex]\n            let date = dayjs.tz(\n              `${day} ${startTimeString}`,\n              this.timezone.value\n            )\n\n            // Check if cur date is NOT in daylight savings time\n            // because the dow days ARE in daylight savings time\n            if (!moment().isDST()) {\n              // Add one hour if not in DST\n              date = date.add(1, \"hour\")\n            }\n\n            dates.push(date.toDate())\n          }\n        }\n      }\n\n      this.loading = true\n\n      const payload = {\n        name: this.name,\n        duration: duration,\n        dates: dates,\n        hasSpecificTimes: this.specificTimesEnabled,\n        notificationsEnabled: !this.authUser\n          ? false\n          : this.notificationsEnabled,\n        blindAvailabilityEnabled: this.blindAvailabilityEnabled,\n        daysOnly: this.daysOnly,\n        remindees: this.emails,\n        type: type,\n        sendEmailAfterXResponses: this.sendEmailAfterXResponsesEnabled\n          ? parseInt(this.sendEmailAfterXResponses)\n          : -1,\n        collectEmails: this.collectEmails,\n        startOnMonday: this.startOnMonday,\n        timeIncrement: this.timeIncrement,\n        creatorPosthogId: this.$posthog?.get_distinct_id(),\n      }\n\n      const posthogPayload = {\n        eventName: this.name,\n        eventDuration: duration,\n        eventDates: JSON.stringify(dates),\n        eventHasSpecificTimes: this.specificTimesEnabled,\n        eventNotificationsEnabled: !this.authUser\n          ? false\n          : this.notificationsEnabled,\n        eventBlindAvailabilityEnabled: this.blindAvailabilityEnabled,\n        eventDaysOnly: this.daysOnly,\n        eventRemindees: this.emails,\n        eventType: type,\n        eventSendEmailAfterXResponses: this.sendEmailAfterXResponsesEnabled\n          ? parseInt(this.sendEmailAfterXResponses)\n          : -1,\n        eventCollectEmails: this.collectEmails,\n        eventStartOnMonday: this.startOnMonday,\n        eventTimeIncrement: this.timeIncrement,\n      }\n\n      if (!this.edit) {\n        // Create new event on backend\n        post(\"/events\", payload)\n          .then(async ({ eventId, shortId }) => {\n            await this.setEventFolder({ eventId, folderId: this.folderId })\n            this.$router.push({\n              name: \"event\",\n              params: {\n                eventId: shortId ?? eventId,\n                initialTimezone: this.timezone,\n              },\n            })\n\n            this.$emit(\"input\", false)\n            this.reset()\n\n            posthogPayload.eventId = eventId\n            this.$posthog?.capture(\"Event created\", posthogPayload)\n\n            if (!this.authUser) {\n              // Add eventId to localStorage, so the user can claim it later\n              addEventToCreatedList(eventId)\n            }\n          })\n          .catch((err) => {\n            this.showError(\n              \"There was a problem creating that event! Please try again later.\"\n            )\n            console.error(err)\n          })\n          .finally(() => {\n            this.loading = false\n          })\n      } else {\n        // Edit event on backend\n        if (this.event) {\n          put(`/events/${this.event._id}`, payload)\n            .then(() => {\n              posthogPayload.eventId = this.event._id\n              this.$posthog?.capture(\"Event edited\", posthogPayload)\n\n              // this.$emit(\"input\", false)\n              // this.reset()\n              localStorage.setItem(`from-edit-event-${this.event._id}`, \"true\")\n              window.location.reload()\n            })\n            .catch((err) => {\n              this.showError(\n                \"There was a problem editing this event! Please try again later.\"\n              )\n              console.log(err)\n            })\n            .finally(() => {\n              this.loading = false\n            })\n        }\n      }\n    },\n\n    toggleEmailReminders(delayed = false) {\n      if (delayed) {\n        setTimeout(\n          () => (this.showEmailReminders = !this.showEmailReminders),\n          300\n        )\n      } else {\n        this.showEmailReminders = !this.showEmailReminders\n      }\n    },\n\n    /** Redirects user to oauth page requesting access to the user's contacts */\n    requestContactsAccess({ emails }) {\n      const payload = {\n        emails,\n        name: this.name,\n        startTime: this.startTime,\n        endTime: this.endTime,\n        daysOnly: this.daysOnly,\n        selectedDays: this.selectedDays,\n        selectedDaysOfWeek: this.selectedDaysOfWeek,\n        selectedDateOption: this.selectedDateOption,\n        notificationsEnabled: this.notificationsEnabled,\n        timezone: this.timezone,\n      }\n      signInGoogle({\n        state: {\n          type: authTypes.EVENT_CONTACTS,\n          eventId: this.event ? this.event.shortId ?? this.event._id : \"\",\n          openNewGroup: false,\n          payload,\n        },\n        requestContactsPermission: true,\n      })\n    },\n    /** Update state based on the contactsPayload after granting contacts access */\n    contactsAccessGranted({ curScheduledEvent, ...data }) {\n      this.curScheduledEvent = curScheduledEvent\n      this.$refs.confirmDetailsDialog?.setData(data)\n      this.confirmDetailsDialog = true\n    },\n\n    /** Populates the form fields based on this.event */\n    updateFieldsFromEvent() {\n      if (this.event) {\n        this.name = this.event.name\n\n        // Set start time, accounting for the timezone\n        this.startTime = Math.floor(\n          dateToTimeNum(getDateWithTimezone(this.event.dates[0]), true)\n        )\n        this.startTime %= 24\n\n        this.endTime = (this.startTime + this.event.duration) % 24\n        this.notificationsEnabled = this.event.notificationsEnabled\n        this.blindAvailabilityEnabled = this.event.blindAvailabilityEnabled\n        this.daysOnly = this.event.daysOnly\n        this.specificTimesEnabled = this.event.hasSpecificTimes\n        this.startOnMonday = this.event.startOnMonday\n        this.collectEmails = this.event.collectEmails\n        this.timeIncrement = this.event.timeIncrement ?? 15\n\n        if (\n          this.event.sendEmailAfterXResponses !== null &&\n          this.event.sendEmailAfterXResponses > 0\n        ) {\n          this.sendEmailAfterXResponsesEnabled = true\n          this.sendEmailAfterXResponses = this.event.sendEmailAfterXResponses\n        }\n\n        if (this.event.daysOnly) {\n          this.selectedDateOption = this.dateOptions.SPECIFIC\n          const selectedDays = []\n          for (let date of this.event.dates) {\n            selectedDays.push(getISODateString(date, true))\n          }\n          this.selectedDays = selectedDays\n        } else {\n          if (this.event.type === eventTypes.SPECIFIC_DATES) {\n            this.selectedDateOption = this.dateOptions.SPECIFIC\n            const selectedDays = []\n            for (let date of this.event.dates) {\n              date = getDateWithTimezone(date)\n\n              selectedDays.push(getISODateString(date, true))\n            }\n            this.selectedDays = selectedDays\n          } else if (this.event.type === eventTypes.DOW) {\n            this.selectedDateOption = this.dateOptions.DOW\n            const selectedDaysOfWeek = []\n            for (let date of this.event.dates) {\n              date = getDateWithTimezone(date)\n\n              if (this.event.startOnMonday && date.getUTCDay() === 0) {\n                selectedDaysOfWeek.push(7)\n              } else {\n                selectedDaysOfWeek.push(date.getUTCDay())\n              }\n            }\n            this.selectedDaysOfWeek = selectedDaysOfWeek\n            if (this.event.startOnMonday) {\n              this.startOnMonday = true\n            }\n          }\n        }\n      }\n    },\n    resetToEventData() {\n      this.updateFieldsFromEvent()\n      this.$refs.emailInput.reset()\n    },\n    setInitialEventData() {\n      this.initialEventData = {\n        name: this.name,\n        startTime: this.startTime,\n        endTime: this.endTime,\n        specificTimesEnabled: this.specificTimesEnabled,\n        daysOnly: this.daysOnly,\n        selectedDays: this.selectedDays,\n        selectedDaysOfWeek: this.selectedDaysOfWeek,\n        selectedDateOption: this.selectedDateOption,\n        notificationsEnabled: this.notificationsEnabled,\n        emails: [...this.emails],\n        blindAvailabilityEnabled: this.blindAvailabilityEnabled,\n        sendEmailAfterXResponsesEnabled: this.sendEmailAfterXResponsesEnabled,\n        sendEmailAfterXResponses: this.sendEmailAfterXResponses,\n        timeIncrement: this.timeIncrement,\n      }\n    },\n    hasEventBeenEdited() {\n      return (\n        this.name !== this.initialEventData.name ||\n        this.startTime !== this.initialEventData.startTime ||\n        this.endTime !== this.initialEventData.endTime ||\n        this.specificTimesEnabled !==\n          this.initialEventData.specificTimesEnabled ||\n        this.selectedDateOption !== this.initialEventData.selectedDateOption ||\n        JSON.stringify(this.selectedDays) !==\n          JSON.stringify(this.initialEventData.selectedDays) ||\n        JSON.stringify(this.selectedDaysOfWeek) !==\n          JSON.stringify(this.initialEventData.selectedDaysOfWeek) ||\n        this.daysOnly !== this.initialEventData.daysOnly ||\n        this.notificationsEnabled !==\n          this.initialEventData.notificationsEnabled ||\n        JSON.stringify(this.emails) !==\n          JSON.stringify(this.initialEventData.emails) ||\n        this.blindAvailabilityEnabled !==\n          this.initialEventData.blindAvailabilityEnabled ||\n        this.sendEmailAfterXResponsesEnabled !==\n          this.initialEventData.sendEmailAfterXResponsesEnabled ||\n        this.sendEmailAfterXResponses !==\n          this.initialEventData.sendEmailAfterXResponses\n      )\n    },\n    trackTimezoneChange(newTimezone) {\n      this.$posthog.capture(\"timezone_selected_in_new_event_dialog\", {\n        timezone: newTimezone?.value,\n      })\n    },\n  },\n\n  watch: {\n    event: {\n      immediate: true,\n      handler() {\n        this.updateFieldsFromEvent()\n        this.setInitialEventData()\n      },\n    },\n    selectedDateOption() {\n      // Reset the other date / day selection when date option is changed\n      if (this.selectedDateOption === this.dateOptions.SPECIFIC) {\n        this.selectedDaysOfWeek = []\n      } else if (this.selectedDateOption === this.dateOptions.DOW) {\n        this.selectedDays = []\n      }\n    },\n  },\n}\n</script>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}