{"ast":null,"code":"import { patch } from \"@/utils\";\nexport default {\n  name: \"BufferTimeToggle\",\n  props: {\n    bufferTime: {\n      type: Object,\n      required: true\n    },\n    syncWithBackend: {\n      type: Boolean,\n      default: false\n    }\n  },\n  components: {},\n  data() {\n    return {\n      bufferTimes: [{\n        text: \"15 min\",\n        value: 15\n      }, {\n        text: \"30 min\",\n        value: 30\n      }, {\n        text: \"45 min\",\n        value: 45\n      }, {\n        text: \"1 hour\",\n        value: 60\n      }]\n    };\n  },\n  methods: {\n    updateBufferTime(key, val) {\n      const bufferTime = {\n        ...this.bufferTime,\n        [key]: val\n      };\n      if (this.syncWithBackend) {\n        patch(`/user/calendar-options`, {\n          bufferTime\n        });\n      }\n      this.$emit(\"update:bufferTime\", bufferTime);\n    },\n    handleBufferTimeToggle(isEnabled) {\n      // Update the buffer time state\n      this.updateBufferTime(\"enabled\", isEnabled);\n\n      // Capture PostHog event\n      this.$posthog.capture(\"buffer_time_switch_toggled\", {\n        enabled: isEnabled\n      });\n    }\n  }\n};","map":{"version":3,"names":["patch","name","props","bufferTime","type","Object","required","syncWithBackend","Boolean","default","components","data","bufferTimes","text","value","methods","updateBufferTime","key","val","$emit","handleBufferTimeToggle","isEnabled","$posthog","capture","enabled"],"sources":["src/components/schedule_overlap/BufferTimeSwitch.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"tw-mb-1 tw-text-sm tw-text-black\">Buffer time</div>\n    <div class=\"tw-mb-2 tw-text-xs tw-text-dark-gray\">\n      Add time around calendar events\n    </div>\n    <v-switch\n      id=\"buffer-time-switch\"\n      :input-value=\"bufferTime.enabled\"\n      @change=\"handleBufferTimeToggle\"\n      inset\n      class=\"tw-flex tw-items-center\"\n      hide-details\n    >\n      <template v-slot:label>\n        <div\n          class=\"tw-flex tw-items-center tw-justify-center tw-gap-2 tw-text-sm tw-text-black\"\n        >\n          <v-select\n            menu-props=\"auto\"\n            dense\n            hide-details\n            :items=\"bufferTimes\"\n            class=\"-tw-mt-0.5 tw-w-20 tw-text-xs\"\n            :value=\"bufferTime.time\"\n            @input=\"(val) => updateBufferTime('time', val)\"\n            @click=\"\n              (e) => {\n                e.preventDefault()\n                e.stopPropagation()\n              }\n            \"\n          ></v-select>\n        </div>\n      </template>\n    </v-switch>\n  </div>\n</template>\n\n<script>\nimport { patch } from \"@/utils\"\n\nexport default {\n  name: \"BufferTimeToggle\",\n\n  props: {\n    bufferTime: { type: Object, required: true },\n    syncWithBackend: { type: Boolean, default: false },\n  },\n\n  components: {},\n\n  data() {\n    return {\n      bufferTimes: [\n        { text: \"15 min\", value: 15 },\n        { text: \"30 min\", value: 30 },\n        { text: \"45 min\", value: 45 },\n        { text: \"1 hour\", value: 60 },\n      ],\n    }\n  },\n\n  methods: {\n    updateBufferTime(key, val) {\n      const bufferTime = {\n        ...this.bufferTime,\n        [key]: val,\n      }\n      if (this.syncWithBackend) {\n        patch(`/user/calendar-options`, {\n          bufferTime,\n        })\n      }\n      this.$emit(\"update:bufferTime\", bufferTime)\n    },\n    handleBufferTimeToggle(isEnabled) {\n      // Update the buffer time state\n      this.updateBufferTime(\"enabled\", isEnabled)\n\n      // Capture PostHog event\n      this.$posthog.capture(\"buffer_time_switch_toggled\", {\n        enabled: isEnabled,\n      })\n    },\n  },\n}\n</script>\n"],"mappings":"AAwCA,SAAAA,KAAA;AAEA;EACAC,IAAA;EAEAC,KAAA;IACAC,UAAA;MAAAC,IAAA,EAAAC,MAAA;MAAAC,QAAA;IAAA;IACAC,eAAA;MAAAH,IAAA,EAAAI,OAAA;MAAAC,OAAA;IAAA;EACA;EAEAC,UAAA;EAEAC,KAAA;IACA;MACAC,WAAA,GACA;QAAAC,IAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,IAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,IAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,IAAA;QAAAC,KAAA;MAAA;IAEA;EACA;EAEAC,OAAA;IACAC,iBAAAC,GAAA,EAAAC,GAAA;MACA,MAAAf,UAAA;QACA,QAAAA,UAAA;QACA,CAAAc,GAAA,GAAAC;MACA;MACA,SAAAX,eAAA;QACAP,KAAA;UACAG;QACA;MACA;MACA,KAAAgB,KAAA,sBAAAhB,UAAA;IACA;IACAiB,uBAAAC,SAAA;MACA;MACA,KAAAL,gBAAA,YAAAK,SAAA;;MAEA;MACA,KAAAC,QAAA,CAAAC,OAAA;QACAC,OAAA,EAAAH;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}