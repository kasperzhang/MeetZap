{"ast":null,"code":"import EventItem from \"@/components/EventItem.vue\";\nimport FeatureNotReadyDialog from \"@/components/FeatureNotReadyDialog.vue\";\nimport { numFreeEvents, upgradeDialogTypes } from \"@/constants\";\nimport { mapState, mapActions } from \"vuex\";\nimport { isPremiumUser } from \"@/utils\";\nexport default {\n  name: \"EventType\",\n  components: {\n    EventItem,\n    FeatureNotReadyDialog\n  },\n  props: {\n    eventType: {\n      type: Object,\n      required: true\n    },\n    emptyText: {\n      type: String,\n      default: \"\"\n    }\n  },\n  data() {\n    return {\n      showFeatureNotReadyDialog: false,\n      showAll: false\n    };\n  },\n  computed: {\n    ...mapState([\"authUser\", \"enablePaywall\"]),\n    defaultNumEventsToShow() {\n      return this.$vuetify.breakpoint.lgAndUp ? 6 : 4;\n    },\n    numEventsToShow() {\n      return this.showAll ? this.eventType.events.length : this.defaultNumEventsToShow;\n    },\n    sortedEvents() {\n      // Events are sorted serverside, so no need to sort here\n      return this.eventType.events;\n    },\n    numFreeEvents() {\n      return numFreeEvents;\n    },\n    isPremiumUser() {\n      return isPremiumUser(this.authUser);\n    }\n  },\n  methods: {\n    ...mapActions([\"showUpgradeDialog\"]),\n    toggleShowAll() {\n      this.showAll = !this.showAll;\n    },\n    openUpgradeDialog() {\n      this.showUpgradeDialog({\n        type: upgradeDialogTypes.UPGRADE_MANUALLY\n      });\n    },\n    createFolder() {\n      this.showFeatureNotReadyDialog = true;\n      this.$posthog?.capture(\"create_folder_clicked\");\n    }\n  }\n};","map":{"version":3,"names":["EventItem","FeatureNotReadyDialog","numFreeEvents","upgradeDialogTypes","mapState","mapActions","isPremiumUser","name","components","props","eventType","type","Object","required","emptyText","String","default","data","showFeatureNotReadyDialog","showAll","computed","defaultNumEventsToShow","$vuetify","breakpoint","lgAndUp","numEventsToShow","events","length","sortedEvents","authUser","methods","toggleShowAll","openUpgradeDialog","showUpgradeDialog","UPGRADE_MANUALLY","createFolder","$posthog","capture"],"sources":["src/components/EventType.vue"],"sourcesContent":["<!-- Displays an event type (i.e. created or joined) on the home page -->\n<template>\n  <div class=\"tw-mb-5\">\n    <div\n      class=\"tw-flex tw-flex-row tw-items-center tw-justify-between tw-text-xl tw-font-medium tw-text-dark-green sm:tw-text-2xl\"\n    >\n      <div class=\"tw-flex tw-flex-col\">\n        {{ eventType.header }}\n        <div\n          v-if=\"\n            eventType.header === 'Events I created' &&\n            enablePaywall &&\n            !isPremiumUser\n          \"\n          class=\"tw-flex tw-items-baseline tw-gap-2 tw-text-sm tw-font-normal tw-text-very-dark-gray\"\n        >\n          <div>\n            {{ authUser?.numEventsCreated }} / {{ numFreeEvents }} free events\n            created\n          </div>\n          <div\n            class=\"tw-cursor-pointer tw-select-none tw-text-xs tw-font-medium tw-text-green tw-underline\"\n            @click=\"openUpgradeDialog\"\n          >\n            Upgrade\n          </div>\n        </div>\n      </div>\n      <v-btn\n        v-if=\"eventType.header === 'Events I created'\"\n        text\n        @click=\"createFolder\"\n        class=\"tw-hidden tw-text-very-dark-gray sm:tw-block\"\n      >\n        <v-icon class=\"tw-mr-2 tw-text-lg\">mdi-folder-plus</v-icon>\n        New folder\n      </v-btn>\n      <div\n        v-if=\"eventType.events.length > defaultNumEventsToShow\"\n        @click=\"toggleShowAll\"\n        class=\"tw-mt-2 tw-cursor-pointer tw-text-sm tw-font-normal tw-text-very-dark-gray sm:tw-hidden\"\n      >\n        Show {{ showAll ? \"less\" : \"more\"\n        }}<v-icon :class=\"showAll && 'tw-rotate-180'\">mdi-chevron-down</v-icon>\n      </div>\n    </div>\n\n    <div\n      v-if=\"eventType.events.length === 0\"\n      class=\"tw-my-3 tw-text-very-dark-gray\"\n    >\n      {{ emptyText.length > 0 ? emptyText : \"No events yet!\" }}\n    </div>\n    <div\n      v-else\n      class=\"tw-gr id-cols-1 tw-my-3 tw-grid tw-gap-3 sm:tw-grid-cols-2 lg:tw-grid-cols-3\"\n    >\n      <EventItem\n        class=\"tw-cursor-pointer\"\n        v-for=\"(event, i) in sortedEvents.slice(0, defaultNumEventsToShow)\"\n        :key=\"i\"\n        :event=\"event\"\n      />\n    </div>\n    <!-- Show more events sections -->\n    <!-- TODO: might want to change for less code repeat -->\n    <div v-if=\"eventType.events.length > defaultNumEventsToShow\">\n      <v-expand-transition>\n        <div\n          v-if=\"showAll\"\n          class=\"tw-gr id-cols-1 tw-my-3 tw-grid tw-gap-3 sm:tw-grid-cols-2 lg:tw-grid-cols-3\"\n        >\n          <EventItem\n            v-for=\"(event, i) in sortedEvents.slice(\n              defaultNumEventsToShow,\n              eventType.events.length\n            )\"\n            :key=\"i\"\n            class=\"tw-cursor-pointer\"\n            :event=\"event\"\n          />\n        </div>\n      </v-expand-transition>\n      <div\n        @click=\"toggleShowAll\"\n        class=\"tw-mt-4 tw-hidden tw-cursor-pointer tw-text-sm tw-text-very-dark-gray sm:tw-block\"\n      >\n        Show {{ showAll ? \"less\" : \"more\"\n        }}<v-icon :class=\"showAll && 'tw-rotate-180'\">mdi-chevron-down</v-icon>\n      </div>\n    </div>\n    <FeatureNotReadyDialog v-model=\"showFeatureNotReadyDialog\" />\n  </div>\n</template>\n\n<script>\nimport EventItem from \"@/components/EventItem.vue\"\nimport FeatureNotReadyDialog from \"@/components/FeatureNotReadyDialog.vue\"\nimport { numFreeEvents, upgradeDialogTypes } from \"@/constants\"\nimport { mapState, mapActions } from \"vuex\"\nimport { isPremiumUser } from \"@/utils\"\n\nexport default {\n  name: \"EventType\",\n\n  components: {\n    EventItem,\n    FeatureNotReadyDialog,\n  },\n\n  props: {\n    eventType: { type: Object, required: true },\n    emptyText: { type: String, default: \"\" },\n  },\n\n  data() {\n    return {\n      showFeatureNotReadyDialog: false,\n      showAll: false,\n    }\n  },\n\n  computed: {\n    ...mapState([\"authUser\", \"enablePaywall\"]),\n    defaultNumEventsToShow() {\n      return this.$vuetify.breakpoint.lgAndUp ? 6 : 4\n    },\n    numEventsToShow() {\n      return this.showAll\n        ? this.eventType.events.length\n        : this.defaultNumEventsToShow\n    },\n    sortedEvents() {\n      // Events are sorted serverside, so no need to sort here\n      return this.eventType.events\n    },\n    numFreeEvents() {\n      return numFreeEvents\n    },\n    isPremiumUser() {\n      return isPremiumUser(this.authUser)\n    },\n  },\n\n  methods: {\n    ...mapActions([\"showUpgradeDialog\"]),\n    toggleShowAll() {\n      this.showAll = !this.showAll\n    },\n    openUpgradeDialog() {\n      this.showUpgradeDialog({\n        type: upgradeDialogTypes.UPGRADE_MANUALLY,\n      })\n    },\n    createFolder() {\n      this.showFeatureNotReadyDialog = true\n      this.$posthog?.capture(\"create_folder_clicked\")\n    },\n  },\n}\n</script>\n"],"mappings":"AAgGA,OAAAA,SAAA;AACA,OAAAC,qBAAA;AACA,SAAAC,aAAA,EAAAC,kBAAA;AACA,SAAAC,QAAA,EAAAC,UAAA;AACA,SAAAC,aAAA;AAEA;EACAC,IAAA;EAEAC,UAAA;IACAR,SAAA;IACAC;EACA;EAEAQ,KAAA;IACAC,SAAA;MAAAC,IAAA,EAAAC,MAAA;MAAAC,QAAA;IAAA;IACAC,SAAA;MAAAH,IAAA,EAAAI,MAAA;MAAAC,OAAA;IAAA;EACA;EAEAC,KAAA;IACA;MACAC,yBAAA;MACAC,OAAA;IACA;EACA;EAEAC,QAAA;IACA,GAAAhB,QAAA;IACAiB,uBAAA;MACA,YAAAC,QAAA,CAAAC,UAAA,CAAAC,OAAA;IACA;IACAC,gBAAA;MACA,YAAAN,OAAA,GACA,KAAAT,SAAA,CAAAgB,MAAA,CAAAC,MAAA,GACA,KAAAN,sBAAA;IACA;IACAO,aAAA;MACA;MACA,YAAAlB,SAAA,CAAAgB,MAAA;IACA;IACAxB,cAAA;MACA,OAAAA,aAAA;IACA;IACAI,cAAA;MACA,OAAAA,aAAA,MAAAuB,QAAA;IACA;EACA;EAEAC,OAAA;IACA,GAAAzB,UAAA;IACA0B,cAAA;MACA,KAAAZ,OAAA,SAAAA,OAAA;IACA;IACAa,kBAAA;MACA,KAAAC,iBAAA;QACAtB,IAAA,EAAAR,kBAAA,CAAA+B;MACA;IACA;IACAC,aAAA;MACA,KAAAjB,yBAAA;MACA,KAAAkB,QAAA,EAAAC,OAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}