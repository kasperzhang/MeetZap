"use strict";(self["webpackChunkschej"]=self["webpackChunkschej"]||[]).push([[269,600],{7274:function(t,e,n){n.d(e,{A:function(){return w}});var s=n(3740),a=n(5420),i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tw-flex tw-h-full tw-flex-col tw-items-center tw-justify-center tw-p-2"},[e(a.A,{staticClass:"tw-mb-6 tw-h-[150px] tw-flex-none sm:tw-h-[200px]",attrs:{alt:"schejie sad",src:n(1758),transition:"fade-transition",contain:""}}),e("div",{staticClass:"tw-mb-8 tw-max-w-[30rem]"},[e("h1",{staticClass:"tw-mb-2 tw-text-center tw-text-2xl tw-font-medium"},[t._v(" You need access ")]),e("div",{staticClass:"tw-text-center tw-text-dark-gray"},[t._v(" Ask the group owner to share this group with your email: "),e("br"),e("span",{staticClass:"tw-font-medium tw-text-green"},[t._v(t._s(t.authUser.email))])])]),e(s.A,{attrs:{href:"/home",color:"primary"}},[t._v("Back to home")])],1)},r=[],o=n(5353),l={name:"AccessDenied",computed:{...(0,o.aH)(["authUser"])}},c=l,u=n(1656),d=(0,u.A)(c,i,r,!1,null,null,null),w=d.exports},7316:function(t,e,n){n.d(e,{A:function(){return C}});var s=n(3740),a=n(3698),i=n(1289),r=n(5961),o=function(){var t=this,e=t._self._c;return e(r.mM,[t.loaded?e("div",{staticClass:"tw-flex tw-h-full tw-flex-col tw-items-center tw-justify-center tw-p-2"},[e("div",{staticClass:"tw-mb-8 tw-flex tw-max-w-[26rem] tw-flex-col tw-items-center"},[e("UserAvatarContent",{staticClass:"tw-mb-4 tw-text-center",attrs:{user:t.owner,size:90}}),e("h1",{staticClass:"tw-mb-2 tw-text-center tw-text-xl tw-font-medium"},[t._v(" "+t._s(t.owner.firstName??"")+" invited you to join "),e("br"),t._v('"'+t._s(t.event.name)+'" ')]),e("div",{staticClass:"tw-text-center tw-text-dark-gray"},[t._v(" Join the group now to share your real-time "),t.isPhone?t._e():e("br"),t._v(" calendar availability with each other! ")])],1),e(s.A,{staticClass:"tw-mb-8",attrs:{color:"primary"},on:{click:t.join}},[t._v("Join with Google Calendar")]),e("div",{staticClass:"tw-text-center tw-text-dark-gray"},[t._v(" Already have a Schej account? "),e("a",{staticClass:"tw-underline",on:{click:t.signIn}},[t._v("Sign in")])]),e(i.A,{attrs:{width:"400","content-class":"tw-m-0"},model:{value:t.calendarPermissionsDialog,callback:function(e){t.calendarPermissionsDialog=e},expression:"calendarPermissionsDialog"}},[e(a.A,{staticClass:"tw-p-4 sm:tw-p-6"},[e("CalendarPermissionsCard",{on:{cancel:function(e){t.calendarPermissionsDialog=!1},allow:t.allowCalendarAccess}})],1)],1),e("SignInNotSupportedDialog",{model:{value:t.webviewDialog,callback:function(e){t.webviewDialog=e},expression:"webviewDialog"}})],1):t._e()])},l=[],c=n(5985),u=n(6638),d=n(1936),w=n(156),m=n(6),h=n(3540),v=n.n(h),p={name:"NotSignedIn",props:{event:{type:Object,required:!0}},components:{CalendarPermissionsCard:d.A,SignInNotSupportedDialog:w.A,UserAvatarContent:m.A},data(){return{owner:{},loaded:!1,calendarPermissionsDialog:!1,webviewDialog:!1}},computed:{isPhone(){return(0,c.tp)(this.$vuetify)}},methods:{join(){this.calendarPermissionsDialog=!0},allowCalendarAccess(){v()(navigator.userAgent)?this.webviewDialog=!0:(0,c.n3)({state:{type:u.QV.GROUP_SIGN_IN,groupId:this.$route.params.groupId},selectAccount:!0,requestCalendarPermission:!0})},signIn(){if(v()(navigator.userAgent))return void(this.webviewDialog=!0);const t={type:u.QV.GROUP_SIGN_IN,groupId:this.$route.params.groupId};(0,c.n3)({state:t,selectAccount:!0})}},async created(){this.owner=await(0,c.Jt)(`/users/${this.event.ownerId}`),this.loaded=!0}},f=p,g=n(1656),x=(0,g.A)(f,o,l,!1,null,null,null),C=x.exports},1126:function(t,e,n){n.r(e),n.d(e,{default:function(){return v}});var s=function(){var t=this,e=t._self._c;return t.event?e("div",{staticClass:"tw-h-full"},[t.authUser?t.accessDenied?e("AccessDenied"):e("Event",{attrs:{eventId:t.groupId,fromSignIn:t.fromSignIn,initialTimezone:t.initialTimezone,contactsPayload:t.contactsPayload}}):e("NotSignedIn",{attrs:{event:t.event}})],1):t._e()},a=[],i=n(3521),r=n(5353),o=n(5985),l=n(6638),c=n(7274),u=n(7316),d={name:"Group",props:{groupId:{type:String,required:!0},fromSignIn:{type:Boolean,default:!1},initialTimezone:{type:Object,default:()=>({})},contactsPayload:{type:Object,default:()=>({})}},components:{AccessDenied:c.A,Event:i["default"],NotSignedIn:u.A},data(){return{event:null}},computed:{...(0,r.aH)(["authUser"]),accessDenied(){if(this.event.ownerId===this.authUser?._id)return!1;const t=this.event?.attendees;if(!t)return!0;let e=!1;for(const n of t)if(n.email.toLowerCase()===this.authUser.email.toLowerCase()){e=!0;break}return!e}},methods:{...(0,r.i0)(["showError"])},async created(){try{this.event=await(0,o.Jt)(`/events/${this.groupId}`),this.event.type!==l.mu.GROUP&&this.$router.replace({name:"event",params:{eventId:this.groupId,initialTimezone:this.initialTimezone,fromSignIn:this.fromSignIn,contactsPayload:this.contactsPayload}})}catch(t){switch(t.error){case l.sO.EventNotFound:return this.showError("The specified event does not exist!"),void this.$router.replace({name:"home"})}}}},w=d,m=n(1656),h=(0,m.A)(w,s,a,!1,null,null,null),v=h.exports},1758:function(t,e,n){t.exports=n.p+"img/sad.f0f31183.png"}}]);
//# sourceMappingURL=269.c5d3ccbb.js.map