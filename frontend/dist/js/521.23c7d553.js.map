{"version":3,"file":"js/521.23c7d553.js","mappings":"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","sources":["webpack://schej/./src/views/Event.vue","webpack://schej/./src/components/GuestDialog.vue","webpack://schej/src/components/GuestDialog.vue","webpack://schej/./src/components/GuestDialog.vue?f166","webpack://schej/./src/components/GuestDialog.vue?2774","webpack://schej/./src/components/sign_up_form/SignUpForSlotDialog.vue","webpack://schej/src/components/sign_up_form/SignUpForSlotDialog.vue","webpack://schej/./src/components/sign_up_form/SignUpForSlotDialog.vue?1597","webpack://schej/./src/components/sign_up_form/SignUpForSlotDialog.vue?b851","webpack://schej/./src/components/calendar_permission_dialogs/MarkAvailabilityDialog.vue","webpack://schej/./src/components/calendar_permission_dialogs/CreateAccount.vue","webpack://schej/./src/components/SignInGoogleBtn.vue","webpack://schej/src/components/SignInGoogleBtn.vue","webpack://schej/./src/components/SignInGoogleBtn.vue?f768","webpack://schej/./src/components/SignInGoogleBtn.vue?f524","webpack://schej/src/components/calendar_permission_dialogs/CreateAccount.vue","webpack://schej/./src/components/calendar_permission_dialogs/CreateAccount.vue?1f9f","webpack://schej/./src/components/calendar_permission_dialogs/CreateAccount.vue?3cd2","webpack://schej/src/components/calendar_permission_dialogs/MarkAvailabilityDialog.vue","webpack://schej/./src/components/calendar_permission_dialogs/MarkAvailabilityDialog.vue?5dc6","webpack://schej/./src/components/calendar_permission_dialogs/MarkAvailabilityDialog.vue?8918","webpack://schej/./src/components/groups/InvitationDialog.vue","webpack://schej/src/components/groups/InvitationDialog.vue","webpack://schej/./src/components/groups/InvitationDialog.vue?e5fd","webpack://schej/./src/components/groups/InvitationDialog.vue?269e","webpack://schej/./src/components/event/EventDescription.vue","webpack://schej/src/components/event/EventDescription.vue","webpack://schej/./src/components/event/EventDescription.vue?cb7c","webpack://schej/./src/components/event/EventDescription.vue?811f","webpack://schej/src/views/Event.vue","webpack://schej/./src/views/Event.vue?418c","webpack://schej/./src/views/Event.vue?e56d"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.event)?_c('div',{staticClass:\"tw-mt-8 tw-h-full\"},[_c('MarkAvailabilityDialog',{attrs:{\"initialState\":_vm.linkApple ? 'create_account_apple' : 'choices'},on:{\"signInLinkApple\":_vm.signInLinkApple,\"allowGoogleCalendar\":() => _vm.setAvailabilityAutomatically(_vm.calendarTypes.GOOGLE),\"allowOutlookCalendar\":() => _vm.setAvailabilityAutomatically(_vm.calendarTypes.OUTLOOK),\"setAvailabilityManually\":_vm.setAvailabilityManually,\"addedAppleCalendar\":_vm.addedAppleCalendar},model:{value:(_vm.choiceDialog),callback:function ($$v) {_vm.choiceDialog=$$v},expression:\"choiceDialog\"}}),_c('SignInNotSupportedDialog',{model:{value:(_vm.webviewDialog),callback:function ($$v) {_vm.webviewDialog=$$v},expression:\"webviewDialog\"}}),_c('GuestDialog',{attrs:{\"event\":_vm.event,\"respondents\":Object.keys(_vm.event.responses)},on:{\"submit\":_vm.handleGuestDialogSubmit},model:{value:(_vm.guestDialog),callback:function ($$v) {_vm.guestDialog=$$v},expression:\"guestDialog\"}}),(_vm.currSignUpBlock)?_c('SignUpForSlotDialog',{attrs:{\"signUpBlock\":_vm.currSignUpBlock,\"event\":_vm.event},on:{\"submit\":_vm.signUpForBlock},model:{value:(_vm.signUpForSlotDialog),callback:function ($$v) {_vm.signUpForSlotDialog=$$v},expression:\"signUpForSlotDialog\"}}):_vm._e(),_c('NewDialog',{attrs:{\"type\":_vm.eventType,\"event\":_vm.event,\"contactsPayload\":_vm.contactsPayload,\"edit\":\"\",\"no-tabs\":\"\"},model:{value:(_vm.editEventDialog),callback:function ($$v) {_vm.editEventDialog=$$v},expression:\"editEventDialog\"}}),(_vm.isGroup)?_c('InvitationDialog',{attrs:{\"group\":_vm.event,\"calendarPermissionGranted\":_vm.calendarPermissionGranted},on:{\"refreshEvent\":_vm.refreshEvent,\"setAvailabilityAutomatically\":_vm.setAvailabilityAutomatically},model:{value:(_vm.invitationDialog),callback:function ($$v) {_vm.invitationDialog=$$v},expression:\"invitationDialog\"}}):_vm._e(),_c('v-dialog',{attrs:{\"max-width\":\"400\",\"content-class\":\"tw-m-0\"},model:{value:(_vm.pagesNotVisitedDialog),callback:function ($$v) {_vm.pagesNotVisitedDialog=$$v},expression:\"pagesNotVisitedDialog\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\"请确认操作\")]),_c('v-card-text',[_c('span',{staticClass:\"tw-font-medium\"},[_vm._v(\"您即将提交您的可用时间，但尚未填写所有页面。\")]),_vm._v(\" 请点击顶部的左右箭头切换页面。\")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.pagesNotVisitedDialog = false}}},[_vm._v(\"取消\")]),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":() => {\n              _vm.saveChanges(true)\n              this.pagesNotVisitedDialog = false\n            }}},[_vm._v(\"提交\")])],1)],1)],1),_c('div',{staticClass:\"tw-mx-auto tw-mt-4 tw-max-w-5xl\"},[(!_vm.isSettingSpecificTimes)?_c('div',{staticClass:\"tw-mx-4\"},[_c('div',{staticClass:\"tw-flex tw-items-center tw-text-black\"},[_c('div',[_c('div',{staticClass:\"sm:mb-2 tw-flex tw-flex-wrap tw-items-center tw-gap-x-4 tw-gap-y-2\"},[_c('div',{staticClass:\"tw-text-xl sm:tw-text-3xl\"},[_vm._v(_vm._s(_vm.event.name))]),(_vm.event.when2meetHref?.length > 0)?_c('v-chip',{staticClass:\"tw-cursor-pointer tw-select-none tw-rounded tw-bg-light-gray tw-px-2 tw-font-medium sm:tw-px-3\",attrs:{\"href\":`https://when2meet.com${_vm.event.when2meetHref}`,\"small\":_vm.isPhone}},[_vm._v(\"来自when2meet的导入\")]):_vm._e(),(_vm.isGroup)?[_c('div',{},[_c('v-chip',{staticClass:\"tw-cursor-pointer tw-select-none tw-rounded tw-bg-light-gray tw-px-2 tw-font-medium sm:tw-px-3\",attrs:{\"small\":_vm.isPhone},on:{\"click\":function($event){_vm.helpDialog = true}}},[_vm._v(\"可用性分组\")])],1),_c('HelpDialog',{scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_vm._v(\"可用性分组\")]},proxy:true}],null,false,629676448),model:{value:(_vm.helpDialog),callback:function ($$v) {_vm.helpDialog=$$v},expression:\"helpDialog\"}},[_c('div',{staticClass:\"mb-4\"},[_vm._v(\" 使用可用性分组可查看组员每周的Google日历空闲时间。您的实际日历事件对他人不可见。 \")])])]:_vm._e()],2),_c('div',{staticClass:\"tw-flex tw-items-baseline tw-gap-1\"},[_c('div',{staticClass:\"tw-text-sm tw-font-normal tw-text-very-dark-gray sm:tw-text-base\"},[_vm._v(\" \"+_vm._s(_vm.dateString)+\" \")]),(_vm.canEdit)?[_c('v-btn',{staticClass:\"tw-px-2 tw-text-sm tw-text-green\",attrs:{\"id\":\"edit-event-btn\",\"text\":\"\"},on:{\"click\":_vm.editEvent}},[_vm._v(\" 编辑\"+_vm._s(_vm.isGroup ? \"分组\" : \"活动\")+\" \")])]:_vm._e()],2)]),_c('v-spacer'),_c('div',{staticClass:\"tw-flex tw-flex-row tw-items-center tw-gap-2.5\"},[(_vm.isGroup)?_c('div',[(_vm.event.startOnMonday ? _vm.weekOffset != 1 : _vm.weekOffset != 0)?_c('v-btn',{staticClass:\"tw-mr-1 tw-text-very-dark-gray sm:tw-mr-2.5\",attrs:{\"icon\":_vm.isPhone,\"text\":\"\"},on:{\"click\":_vm.resetWeekOffset}},[_c('v-icon',{staticClass:\"sm:tw-mr-2\"},[_vm._v(\"mdi-calendar-today\")]),(!_vm.isPhone)?_c('span',[_vm._v(\"今天\")]):_vm._e()],1):_vm._e(),_c('v-btn',{staticClass:\"tw-text-green\",attrs:{\"icon\":_vm.isPhone,\"outlined\":!_vm.isPhone,\"loading\":_vm.loading},on:{\"click\":_vm.refreshCalendar}},[(!_vm.isPhone)?_c('v-icon',{staticClass:\"tw-mr-1\"},[_vm._v(\"mdi-refresh\")]):_vm._e(),(!_vm.isPhone)?_c('span',{staticClass:\"tw-mr-2\"},[_vm._v(\"刷新\")]):_c('v-icon',{staticClass:\"tw-text-green\"},[_vm._v(\"mdi-refresh\")])],1)],1):_c('div',[_c('v-btn',{staticClass:\"tw-text-green\",attrs:{\"icon\":_vm.isPhone,\"outlined\":!_vm.isPhone},on:{\"click\":_vm.copyLink}},[(!_vm.isPhone)?_c('span',{staticClass:\"tw-mr-2 tw-text-green\"},[_vm._v(\"复制链接\")]):_vm._e(),(!_vm.isPhone)?_c('v-icon',{staticClass:\"tw-text-green\"},[_vm._v(\"mdi-content-copy\")]):_c('v-icon',{staticClass:\"tw-text-green\"},[_vm._v(\"mdi-share\")])],1)],1),(!_vm.isPhone && (!_vm.isSignUp || _vm.canEdit))?_c('div',{staticClass:\"tw-flex tw-w-40\"},[(!_vm.isEditing)?[(!_vm.isGroup && !_vm.authUser && _vm.selectedGuestRespondent)?_c('v-btn',{staticClass:\"tw-bg-green tw-text-white tw-transition-opacity\",style:({ opacity: _vm.availabilityBtnOpacity }),attrs:{\"min-width\":\"10.25rem\"},on:{\"click\":_vm.editGuestAvailability}},[_vm._v(\" \"+_vm._s(_vm.event.blindAvailabilityEnabled ? \"编辑可用时间\" : `编辑${_vm.selectedGuestRespondent}的可用时间`)+\" \")]):_c('v-btn',{staticClass:\"tw-text-white tw-transition-opacity\",class:'tw-bg-green',style:({ opacity: _vm.availabilityBtnOpacity }),attrs:{\"width\":\"10.25rem\",\"disabled\":_vm.loading && !_vm.userHasResponded},on:{\"click\":() => _vm.addAvailability()}},[_vm._v(\" \"+_vm._s(_vm.actionButtonText)+\" \")])]:[_c('v-btn',{staticClass:\"tw-mr-1 tw-w-20 tw-text-red\",attrs:{\"outlined\":\"\"},on:{\"click\":_vm.cancelEditing}},[_vm._v(\" 取消 \")]),_c('v-btn',{staticClass:\"tw-w-20 tw-text-white\",class:'tw-bg-green',on:{\"click\":() => _vm.saveChanges()}},[_vm._v(\" 保存 \")])]],2):_vm._e()])],1),_c('EventDescription',{attrs:{\"event\":_vm.event,\"canEdit\":_vm.event.ownerId != 0 && _vm.canEdit},on:{\"update:event\":function($event){_vm.event=$event}}})],1):_vm._e(),_c('ScheduleOverlap',{ref:\"scheduleOverlap\",attrs:{\"event\":_vm.event,\"fromEditEvent\":_vm.fromEditEvent,\"loadingCalendarEvents\":_vm.loading,\"calendarEventsMap\":_vm.calendarEventsMap,\"calendarPermissionGranted\":_vm.calendarPermissionGranted,\"calendar-availabilities\":_vm.calendarAvailabilities,\"weekOffset\":_vm.weekOffset,\"curGuestId\":_vm.curGuestId,\"initial-timezone\":_vm.initialTimezone,\"addingAvailabilityAsGuest\":_vm.addingAvailabilityAsGuest},on:{\"update:weekOffset\":function($event){_vm.weekOffset=$event},\"update:week-offset\":function($event){_vm.weekOffset=$event},\"addAvailability\":_vm.addAvailability,\"addAvailabilityAsGuest\":_vm.addAvailabilityAsGuest,\"refreshEvent\":_vm.refreshEvent,\"highlightAvailabilityBtn\":_vm.highlightAvailabilityBtn,\"deleteAvailability\":_vm.deleteAvailability,\"setCurGuestId\":(id) => (_vm.curGuestId = id),\"signUpForBlock\":_vm.initiateSignUpFlow}})],1),(_vm.showFeedbackBtn)?[_c('div',{staticClass:\"tw-w-full tw-border-t tw-border-solid tw-border-gray\"}),(_vm.showFeedbackBtn)?_c('div',{staticClass:\"tw-flex tw-flex-col tw-items-center\"},[_c('v-btn',{staticClass:\"tw-h-16\",attrs:{\"block\":\"\",\"id\":\"feedback-btn\",\"text\":\"\",\"href\":\"https://forms.gle/9AgRy4PQfWfVuBnw8\",\"target\":\"_blank\"}},[_vm._v(\" 意见反馈 \")]),_c('div',{staticClass:\"tw-w-full tw-border-t tw-border-solid tw-border-gray\"}),_c('v-btn',{staticClass:\"tw-h-16\",attrs:{\"block\":\"\",\"text\":\"\",\"href\":\"https://www.paypal.com/donate/?hosted_button_id=KWCH6LGJCP6E6\",\"target\":\"_blank\"}},[_vm._v(\" 支持我们 \")]),_c('div',{staticClass:\"tw-w-full tw-border-t tw-border-solid tw-border-gray\"}),_c('v-btn',{staticClass:\"tw-h-16\",attrs:{\"block\":\"\",\"text\":\"\",\"to\":{ name: 'privacy-policy' }}},[_vm._v(\" 隐私政策 \")])],1):_vm._e()]:_vm._e(),_c('div',{staticClass:\"tw-mb-16 tw-hidden tw-flex-col tw-items-center tw-justify-between sm:tw-flex\"},[_c('router-link',{staticClass:\"tw-text-xs tw-font-medium tw-text-gray\",attrs:{\"to\":{ name: 'privacy-policy' }}},[_vm._v(\" 隐私政策 \")])],1),_c('div',{staticClass:\"tw-h-8\"}),(!_vm.isSettingSpecificTimes && _vm.isPhone && (!_vm.isSignUp || _vm.canEdit))?_c('div',{staticClass:\"tw-fixed tw-bottom-0 tw-z-20 tw-flex tw-h-16 tw-w-full tw-items-center tw-px-4\",class:`${_vm.isIOS ? 'tw-pb-2' : ''} ${\n      _vm.isScheduling ? 'tw-bg-blue' : 'tw-bg-green'\n    }`},[(!_vm.isEditing && !_vm.isScheduling)?[(!_vm.event.daysOnly && _vm.numResponses > 0)?_c('v-btn',{staticClass:\"tw-text-white\",attrs:{\"text\":\"\"},on:{\"click\":_vm.scheduleEvent}},[_vm._v(\"Schedule\")]):_vm._e(),_c('v-spacer'),(!_vm.isGroup && !_vm.authUser && _vm.selectedGuestRespondent)?_c('v-btn',{staticClass:\"tw-bg-white tw-text-green tw-transition-opacity\",style:({ opacity: _vm.availabilityBtnOpacity }),on:{\"click\":_vm.editGuestAvailability}},[_vm._v(\" \"+_vm._s(_vm.mobileGuestActionButtonText)+\" \")]):_c('v-btn',{staticClass:\"tw-bg-white tw-text-green tw-transition-opacity\",style:({ opacity: _vm.availabilityBtnOpacity }),attrs:{\"disabled\":_vm.loading && !_vm.userHasResponded},on:{\"click\":() => _vm.addAvailability()}},[_vm._v(\" \"+_vm._s(_vm.mobileActionButtonText)+\" \")])]:(_vm.isEditing)?[_c('v-btn',{staticClass:\"tw-text-white\",attrs:{\"text\":\"\"},on:{\"click\":_vm.cancelEditing}},[_vm._v(\" 取消 \")]),_c('v-spacer'),_c('v-btn',{staticClass:\"tw-bg-white tw-text-green\",on:{\"click\":() => _vm.saveChanges()}},[_vm._v(\" 保存 \")])]:(_vm.isScheduling)?[_c('v-btn',{staticClass:\"tw-text-white\",attrs:{\"text\":\"\"},on:{\"click\":_vm.cancelScheduleEvent}},[_vm._v(\" 取消 \")]),_c('v-spacer'),_c('v-btn',{staticClass:\"tw-bg-white tw-text-blue\",attrs:{\"disabled\":!_vm.allowScheduleEvent},on:{\"click\":_vm.confirmScheduleEvent}},[_vm._v(\" 安排 \")])]:_vm._e()],2):_vm._e()],2):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-dialog',{attrs:{\"value\":_vm.value,\"width\":\"400\",\"content-class\":\"tw-m-0\"},on:{\"input\":(e) => _vm.$emit('input', e)}},[_c('v-card',[_c('v-card-title',{staticClass:\"tw-flex\"},[_c('div',[_vm._v(\"Continue as guest\")]),_c('v-spacer'),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.$emit('input', false)}}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1),_c('v-card-text',[_c('v-form',{ref:\"form\",staticClass:\"tw-flex tw-flex-col tw-gap-y-4\",attrs:{\"lazy-validation\":\"\",\"onsubmit\":\"return false;\"},model:{value:(_vm.formValid),callback:function ($$v) {_vm.formValid=$$v},expression:\"formValid\"}},[_c('v-text-field',{attrs:{\"rules\":_vm.nameRules,\"placeholder\":\"Enter your name...\",\"autofocus\":\"\",\"hide-details\":\"auto\",\"autocomplete\":\"off\",\"solo\":\"\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.submit.apply(null, arguments)}},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),(_vm.event.collectEmails)?_c('v-text-field',{attrs:{\"rules\":_vm.emailRules,\"placeholder\":\"Enter your email...\",\"hint\":\"The event creator is collecting emails. We will never share your email with anyone or contact you in any way.\",\"persistent-hint\":\"\",\"solo\":\"\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.submit.apply(null, arguments)}},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}}):_vm._e(),_c('div',{staticClass:\"tw-flex\"},[_c('v-spacer'),_c('v-btn',{staticClass:\"tw-bg-green\",attrs:{\"dark\":_vm.formValid,\"disabled\":!_vm.formValid},on:{\"click\":_vm.submit}},[_vm._v(\" Continue \")])],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-dialog\n    :value=\"value\"\n    @input=\"(e) => $emit('input', e)\"\n    width=\"400\"\n    content-class=\"tw-m-0\"\n  >\n    <v-card>\n      <v-card-title class=\"tw-flex\">\n        <div>Continue as guest</div>\n        <v-spacer />\n        <v-btn icon @click=\"$emit('input', false)\">\n          <v-icon>mdi-close</v-icon>\n        </v-btn>\n      </v-card-title>\n      <v-card-text>\n        <v-form\n          ref=\"form\"\n          v-model=\"formValid\"\n          lazy-validation\n          class=\"tw-flex tw-flex-col tw-gap-y-4\"\n          onsubmit=\"return false;\"\n        >\n          <v-text-field\n            v-model=\"name\"\n            @keyup.enter=\"submit\"\n            :rules=\"nameRules\"\n            placeholder=\"Enter your name...\"\n            autofocus\n            hide-details=\"auto\"\n            autocomplete=\"off\"\n            solo\n          ></v-text-field>\n          <v-text-field\n            v-if=\"event.collectEmails\"\n            v-model=\"email\"\n            @keyup.enter=\"submit\"\n            :rules=\"emailRules\"\n            placeholder=\"Enter your email...\"\n            hint=\"The event creator is collecting emails. We will never share your email with anyone or contact you in any way.\"\n            persistent-hint\n            solo\n          ></v-text-field>\n          <div class=\"tw-flex\">\n            <v-spacer />\n            <v-btn\n              @click=\"submit\"\n              class=\"tw-bg-green\"\n              :dark=\"formValid\"\n              :disabled=\"!formValid\"\n            >\n              Continue\n            </v-btn>\n          </div>\n        </v-form>\n      </v-card-text>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport { isPhone, validateEmail } from \"@/utils\"\n\nexport default {\n  name: \"GuestDialog\",\n\n  emits: [\"input\", \"submit\"],\n\n  props: {\n    value: { type: Boolean, required: true },\n    event: { type: Object, required: true },\n    respondents: { type: Array, required: true },\n  },\n\n  data() {\n    return {\n      formValid: false,\n      name: \"\",\n      email: \"\",\n      nameRules: [],\n      emailRules: [],\n    }\n  },\n\n  computed: {\n    isPhone() {\n      return isPhone(this.$vuetify)\n    },\n  },\n\n  methods: {\n    submit() {\n      // Set rules only on submit\n      this.nameRules = [\n        (name) => !!name || \"Name is required\",\n        (name) => !this.respondents.includes(name) || \"Name already taken\",\n      ]\n      this.emailRules = [\n        (email) => !!email || \"Email is required\",\n        (email) => !!validateEmail(email) || \"Invalid email\",\n      ]\n\n      this.$nextTick(() => {\n        if (!this.$refs.form.validate()) return\n\n        this.$emit(\"submit\", { name: this.name, email: this.email })\n      })\n    },\n  },\n\n  watch: {\n    value() {\n      if (this.value) {\n        this.name = \"\"\n        this.email = \"\"\n        this.nameRules = []\n        this.emailRules = []\n\n        this.$refs.form?.resetValidation()\n      }\n    },\n    name() {\n      // Default rules before submitting\n      this.nameRules = [\n        (name) => !this.respondents.includes(name) || \"Name already taken\",\n      ]\n    },\n    email() {\n      // Default rules before submitting\n      this.emailRules = []\n    },\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GuestDialog.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GuestDialog.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./GuestDialog.vue?vue&type=template&id=db73d0ce\"\nimport script from \"./GuestDialog.vue?vue&type=script&lang=js\"\nexport * from \"./GuestDialog.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-dialog',{attrs:{\"value\":_vm.value,\"width\":\"400\",\"content-class\":\"tw-m-0\"},on:{\"input\":(e) => _vm.$emit('input', e)}},[_c('v-card',[_c('v-card-title',{staticClass:\"tw-flex\"},[_c('div',[_vm._v(\"Join slot \"),(!_vm.authUser)?_c('span',[_vm._v(\"as\")]):_vm._e()]),_c('v-spacer'),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.$emit('input', false)}}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1),_c('v-card-text',[_c('div',{staticClass:\"mb-2\"},[_c('SignUpBlock',{attrs:{\"signUpBlock\":_vm.signUpBlock,\"infoOnly\":\"\"}})],1),_c('v-form',{ref:\"form\",staticClass:\"tw-flex tw-flex-col tw-gap-y-4\",attrs:{\"lazy-validation\":\"\",\"onsubmit\":\"return false;\"},model:{value:(_vm.formValid),callback:function ($$v) {_vm.formValid=$$v},expression:\"formValid\"}},[(!_vm.authUser)?_c('div',{staticClass:\"tw-flex tw-flex-col tw-gap-y-4\"},[_c('v-text-field',{attrs:{\"rules\":_vm.nameRules,\"placeholder\":\"Enter your name...\",\"autofocus\":\"\",\"hide-details\":\"auto\",\"autocomplete\":\"off\",\"solo\":\"\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.submit.apply(null, arguments)}},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),(_vm.event.collectEmails)?_c('v-text-field',{attrs:{\"rules\":_vm.emailRules,\"placeholder\":\"Enter your email...\",\"hint\":\"The event creator is collecting emails. We will never share your email with anyone or contact you in any way.\",\"persistent-hint\":\"\",\"solo\":\"\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.submit.apply(null, arguments)}},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}}):_vm._e()],1):_vm._e(),_c('div',[_vm._v(\" NOTE: After joining a slot, \"),_c('span',{staticClass:\"tw-font-bold\"},[_vm._v(\"you will need to contact the sign up creator in order to edit your slot.\")])]),(_vm.event.blindAvailabilityEnabled)?_c('div',[_vm._v(\" The sign up creator has hidden attendees from each other. \"),_c('span',{staticClass:\"tw-font-bold\"},[_vm._v(\"Your name will only be visible to you.\")])]):_vm._e(),_c('div',{staticClass:\"tw-flex\"},[_c('v-spacer'),_c('v-btn',{staticClass:\"tw-bg-green\",attrs:{\"dark\":_vm.formValid,\"disabled\":!_vm.formValid},on:{\"click\":_vm.submit}},[_vm._v(\" Join slot \")])],1)])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-dialog\n    :value=\"value\"\n    @input=\"(e) => $emit('input', e)\"\n    width=\"400\"\n    content-class=\"tw-m-0\"\n  >\n    <v-card>\n      <v-card-title class=\"tw-flex\">\n        <div>Join slot <span v-if=\"!authUser\">as</span></div>\n        <v-spacer />\n        <v-btn icon @click=\"$emit('input', false)\">\n          <v-icon>mdi-close</v-icon>\n        </v-btn>\n      </v-card-title>\n      <v-card-text>\n        <div class=\"mb-2\">\n          <SignUpBlock :signUpBlock=\"signUpBlock\" infoOnly></SignUpBlock>\n        </div>\n\n        <v-form\n          ref=\"form\"\n          v-model=\"formValid\"\n          lazy-validation\n          class=\"tw-flex tw-flex-col tw-gap-y-4\"\n          onsubmit=\"return false;\"\n        >\n          <div v-if=\"!authUser\" class=\"tw-flex tw-flex-col tw-gap-y-4\">\n            <v-text-field\n              v-model=\"name\"\n              @keyup.enter=\"submit\"\n              :rules=\"nameRules\"\n              placeholder=\"Enter your name...\"\n              autofocus\n              hide-details=\"auto\"\n              autocomplete=\"off\"\n              solo\n            ></v-text-field>\n            <v-text-field\n              v-if=\"event.collectEmails\"\n              v-model=\"email\"\n              @keyup.enter=\"submit\"\n              :rules=\"emailRules\"\n              placeholder=\"Enter your email...\"\n              hint=\"The event creator is collecting emails. We will never share your email with anyone or contact you in any way.\"\n              persistent-hint\n              solo\n            ></v-text-field>\n          </div>\n\n          <div>\n            NOTE: After joining a slot,\n            <span class=\"tw-font-bold\"\n              >you will need to contact the sign up creator in order to edit\n              your slot.</span\n            >\n          </div>\n\n          <div v-if=\"event.blindAvailabilityEnabled\">\n            The sign up creator has hidden attendees from each other.\n            <span class=\"tw-font-bold\"\n              >Your name will only be visible to you.</span\n            >\n          </div>\n\n          <div class=\"tw-flex\">\n            <v-spacer />\n            <v-btn\n              @click=\"submit\"\n              class=\"tw-bg-green\"\n              :dark=\"formValid\"\n              :disabled=\"!formValid\"\n            >\n              Join slot\n            </v-btn>\n          </div>\n        </v-form>\n      </v-card-text>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport { isPhone, validateEmail } from \"@/utils\"\nimport { mapState } from \"vuex\"\n\nimport SignUpBlock from \"./SignUpBlock.vue\"\n\nexport default {\n  name: \"SignUpForSlotDialog\",\n\n  emits: [\"input\", \"submit\"],\n\n  components: { SignUpBlock },\n\n  props: {\n    value: { type: Boolean, required: true },\n    event: { type: Object, required: true },\n    signUpBlock: { type: Object, required: true },\n  },\n\n  data() {\n    return {\n      formValid: false,\n      name: \"\",\n      email: \"\",\n      nameRules: [],\n      emailRules: [],\n    }\n  },\n\n  computed: {\n    ...mapState([\"authUser\"]),\n    isPhone() {\n      return isPhone(this.$vuetify)\n    },\n  },\n\n  methods: {\n    submit() {\n      console.log(this.signUpBlock)\n      // Set rules only on submit\n      this.nameRules = [\n        (name) => !!name || \"Name is required\",\n        // (name) =>\n        //   !this.signUpBlock.respondents.includes(name) || \"Name already taken\",\n      ]\n      this.emailRules = [\n        (email) => !!email || \"Email is required\",\n        (email) => !!validateEmail(email) || \"Invalid email\",\n      ]\n\n      this.$nextTick(() => {\n        if (!this.$refs.form.validate()) return\n\n        this.$emit(\"submit\", { name: this.name, email: this.email })\n      })\n    },\n  },\n\n  watch: {\n    value() {\n      if (this.value) {\n        this.name = \"\"\n        this.email = \"\"\n        this.nameRules = []\n        this.emailRules = []\n\n        this.$refs.form?.resetValidation()\n      }\n    },\n    name() {\n      // Default rules before submitting\n      this.nameRules = [\n        // (name) => !this.respondents.includes(name) || \"Name already taken\",\n      ]\n    },\n    email() {\n      // Default rules before submitting\n      this.emailRules = []\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SignUpForSlotDialog.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SignUpForSlotDialog.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SignUpForSlotDialog.vue?vue&type=template&id=5fd60ecc\"\nimport script from \"./SignUpForSlotDialog.vue?vue&type=script&lang=js\"\nexport * from \"./SignUpForSlotDialog.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-dialog',{attrs:{\"value\":_vm.value,\"width\":\"400\",\"content-class\":\"tw-m-0\"},on:{\"input\":(e) => _vm.$emit('input', e)}},[_c('v-card',{staticClass:\"tw-p-4 sm:tw-p-6\"},[_c('v-expand-transition',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.state === _vm.states.CHOICES),expression:\"state === states.CHOICES\"}]},[_c('div',{staticClass:\"tw-text-md mb-1 tw-text-center\"},[_vm._v(\" 您可以手动填写您的空余时间或者从日历中导入 \"),_c('br',{staticClass:\"tw-block sm:tw-hidden\"})]),_c('div',{staticClass:\"tw-pb-4 tw-text-center tw-text-xs tw-text-dark-gray\"},[_vm._v(\" 从日历导入后也可以继续手动修改哦 \")]),_c('div',{staticClass:\"tw-flex tw-flex-col tw-gap-2\"},[_c('v-btn',{staticClass:\"tw-bg-white\",attrs:{\"block\":\"\"},on:{\"click\":_vm.autofillWithGcal}},[_c('div',{staticClass:\"tw-flex tw-w-full tw-items-center tw-gap-2\"},[_c('v-img',{staticClass:\"tw-flex-initial\",attrs:{\"width\":\"20\",\"height\":\"20\",\"src\":require(\"@/assets/google_logo.svg\")}}),_c('v-spacer'),_vm._v(\" 导入 Google Calendar \"),_c('v-spacer')],1)]),_c('v-btn',{staticClass:\"tw-bg-white\",attrs:{\"block\":\"\"},on:{\"click\":_vm.autofillWithApple}},[_c('div',{staticClass:\"tw-flex tw-w-full tw-items-center tw-gap-2\"},[_c('v-img',{staticClass:\"tw-flex-initial\",attrs:{\"width\":\"20\",\"height\":\"20\",\"src\":require(\"@/assets/apple_logo.svg\")}}),_c('v-spacer'),_vm._v(\" 导入 Apple Calendar \"),_c('v-spacer')],1)]),_c('v-btn',{staticClass:\"tw-bg-white\",attrs:{\"block\":\"\"},on:{\"click\":_vm.autofillWithOutlook}},[_c('div',{staticClass:\"tw-flex tw-w-full tw-items-center tw-gap-2\"},[_c('v-img',{staticClass:\"tw-flex-initial\",attrs:{\"width\":\"20\",\"height\":\"20\",\"src\":require(\"@/assets/outlook_logo.svg\")}}),_c('v-spacer'),_vm._v(\" 导入 Outlook Calendar \"),_c('v-spacer')],1)]),_c('div',{staticClass:\"tw-flex tw-items-center tw-gap-3\"},[_c('v-divider'),_c('div',{staticClass:\"tw-text-center tw-text-xs tw-font-medium tw-text-dark-gray\"},[_vm._v(\" or \")]),_c('v-divider')],1),_c('v-btn',{staticClass:\"tw-text-white\",attrs:{\"block\":\"\",\"color\":\"success\"},on:{\"click\":_vm.setAvailabilityManually}},[_vm._v(\"手动填写\")])],1)])]),_c('v-expand-transition',[_c('CalendarPermissionsCard',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.state === _vm.states.GCAL_PERMISSIONS),expression:\"state === states.GCAL_PERMISSIONS\"}],attrs:{\"cancelLabel\":\"Back\"},on:{\"cancel\":_vm.showChoices,\"allow\":function($event){return _vm.$emit('allowGoogleCalendar')}}})],1),_c('v-expand-transition',[(_vm.state === _vm.states.CREATE_ACCOUNT_APPLE)?_c('CreateAccount',{on:{\"signInLinkApple\":function($event){return _vm.$emit('signInLinkApple')},\"back\":function($event){_vm.state = _vm.states.CHOICES},\"continue\":function($event){_vm.state = _vm.states.APPLE_CREDENTIALS}}}):_vm._e()],1),_c('v-expand-transition',[(_vm.state === _vm.states.APPLE_CREDENTIALS)?_c('AppleCredentials',{on:{\"back\":function($event){_vm.state = _vm.states.CHOICES},\"addedAppleCalendar\":function($event){return _vm.$emit('addedAppleCalendar')}}}):_vm._e()],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"tw-flex tw-flex-col tw-gap-6\"},[_c('div',{staticClass:\"tw-text-md tw-flex tw-flex-col tw-items-center tw-gap-2 tw-font-normal\"},[_vm._v(\" Create a Schej account to link your \"),_c('div',{staticClass:\"tw-flex tw-items-center tw-gap-1\"},[_c('v-img',{staticClass:\"-tw-mt-1 tw-flex-initial\",attrs:{\"width\":\"15\",\"height\":\"15\",\"src\":require(\"@/assets/apple_logo.svg\")}}),_c('span',{staticClass:\"tw-font-medium\"},[_vm._v(\"Apple Calendar\")])],1)]),(!_vm.authUser)?_c('div',[_c('SignInGoogleBtn',{staticClass:\"tw-mb-3 tw-w-full\",on:{\"click\":function($event){return _vm.$emit('signInLinkApple')}}}),_c('div',{staticClass:\"tw-text-center tw-text-xs tw-text-dark-gray\"},[_vm._v(\" By continuing, you agree to our \"),_c('router-link',{staticClass:\"tw-text-blue\",attrs:{\"target\":\"_blank\",\"to\":{ name: 'privacy-policy' }}},[_vm._v(\"privacy policy\")])],1)],1):_c('div',[_c('div',{staticClass:\"tw-flex tw-items-center tw-justify-center tw-text-sm tw-text-dark-gray\"},[_c('v-icon',{staticClass:\"tw-mx-2 tw-text-green\",attrs:{\"size\":\"16\"}},[_vm._v(\"mdi-check-circle\")]),_vm._v(\" Schej account created \")],1)]),_c('div',{staticClass:\"tw-flex tw-items-center tw-gap-2\"},[_c('v-btn',{staticClass:\"tw-grow\",attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.$emit('back')}}},[_vm._v(\"Back\")]),_c('v-btn',{staticClass:\"tw-grow\",attrs:{\"color\":\"primary\",\"disabled\":!_vm.authUser},on:{\"click\":function($event){return _vm.$emit('continue')}}},[_vm._v(\"Continue\")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-btn',{staticClass:\"gsi-material-button\",on:{\"click\":(e) => _vm.$emit('click', e)}},[_c('div',{staticClass:\"gsi-material-button-state\"}),_c('div',{staticClass:\"gsi-material-button-content-wrapper\"},[_c('div',{staticClass:\"gsi-material-button-icon\"},[_c('svg',{staticStyle:{\"display\":\"block\"},attrs:{\"version\":\"1.1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 48 48\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\"}},[_c('path',{attrs:{\"fill\":\"#EA4335\",\"d\":\"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z\"}}),_c('path',{attrs:{\"fill\":\"#4285F4\",\"d\":\"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z\"}}),_c('path',{attrs:{\"fill\":\"#FBBC05\",\"d\":\"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z\"}}),_c('path',{attrs:{\"fill\":\"#34A853\",\"d\":\"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z\"}}),_c('path',{attrs:{\"fill\":\"none\",\"d\":\"M0 0h48v48H0z\"}})])]),_c('span',{staticClass:\"gsi-material-button-contents\"},[_vm._v(_vm._s(_vm.text))]),_c('span',{staticStyle:{\"display\":\"none\"}},[_vm._v(_vm._s(_vm.text))])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-btn class=\"gsi-material-button\" @click=\"(e) => $emit('click', e)\">\n    <div class=\"gsi-material-button-state\"></div>\n    <div class=\"gsi-material-button-content-wrapper\">\n      <div class=\"gsi-material-button-icon\">\n        <svg\n          version=\"1.1\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 48 48\"\n          xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n          style=\"display: block\"\n        >\n          <path\n            fill=\"#EA4335\"\n            d=\"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z\"\n          ></path>\n          <path\n            fill=\"#4285F4\"\n            d=\"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z\"\n          ></path>\n          <path\n            fill=\"#FBBC05\"\n            d=\"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z\"\n          ></path>\n          <path\n            fill=\"#34A853\"\n            d=\"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z\"\n          ></path>\n          <path fill=\"none\" d=\"M0 0h48v48H0z\"></path>\n        </svg>\n      </div>\n      <span class=\"gsi-material-button-contents\">{{ text }}</span>\n      <span style=\"display: none\">{{ text }}</span>\n    </div>\n  </v-btn>\n</template>\n\n<style scoped>\n.gsi-material-button {\n  background-color: WHITE;\n  background-image: none;\n  border: 1px solid #fff;\n  -webkit-border-radius: 4px;\n  border-radius: 4px;\n  -webkit-box-sizing: border-box;\n  box-sizing: border-box;\n  color: #1f1f1f;\n  cursor: pointer;\n  font-size: 14px;\n  height: 40px !important;\n  outline: none;\n  overflow: hidden;\n  padding: 0 18px !important;\n  position: relative;\n  text-align: center;\n  vertical-align: middle;\n  white-space: nowrap;\n  width: auto;\n  max-width: 400px;\n  min-width: min-content;\n  -webkit-box-shadow: 0px 2px 6px 0px rgba(0, 0, 0, 0.25) !important;\n  -moz-box-shadow: 0px 2px 6px 0px rgba(0, 0, 0, 0.25) !important;\n  box-shadow: 0px 2px 6px 0px rgba(0, 0, 0, 0.25) !important;\n}\n\n.gsi-material-button .gsi-material-button-icon {\n  height: 20px;\n  margin-right: 12px;\n  min-width: 20px;\n  width: 20px;\n}\n\n.gsi-material-button .gsi-material-button-content-wrapper {\n  -webkit-align-items: center;\n  align-items: center;\n  display: flex;\n  -webkit-flex-direction: row;\n  flex-direction: row;\n  -webkit-flex-wrap: nowrap;\n  flex-wrap: nowrap;\n  height: 100%;\n  justify-content: space-between;\n  position: relative;\n  width: 100%;\n}\n\n.gsi-material-button .gsi-material-button-contents {\n  -webkit-flex-grow: 1;\n  flex-grow: 1;\n  font-weight: 500;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  vertical-align: top;\n}\n\n.gsi-material-button:disabled {\n  cursor: default;\n  background-color: #ffffff61;\n  border-color: #1f1f1f1f;\n}\n\n.gsi-material-button:disabled .gsi-material-button-contents {\n  opacity: 38%;\n}\n\n.gsi-material-button:disabled .gsi-material-button-icon {\n  opacity: 38%;\n}\n</style>\n\n<script>\nexport default {\n  name: \"SignInGoogleBtn\",\n\n  emits: [\"click\"],\n\n  props: {\n    text: { type: String, default: \"Continue with Google\" },\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SignInGoogleBtn.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SignInGoogleBtn.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SignInGoogleBtn.vue?vue&type=template&id=001cb6c2&scoped=true\"\nimport script from \"./SignInGoogleBtn.vue?vue&type=script&lang=js\"\nexport * from \"./SignInGoogleBtn.vue?vue&type=script&lang=js\"\nimport style0 from \"./SignInGoogleBtn.vue?vue&type=style&index=0&id=001cb6c2&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"001cb6c2\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"tw-flex tw-flex-col tw-gap-6\">\n    <div\n      class=\"tw-text-md tw-flex tw-flex-col tw-items-center tw-gap-2 tw-font-normal\"\n    >\n      Create a Schej account to link your\n      <div class=\"tw-flex tw-items-center tw-gap-1\">\n        <v-img\n          class=\"-tw-mt-1 tw-flex-initial\"\n          width=\"15\"\n          height=\"15\"\n          src=\"@/assets/apple_logo.svg\"\n        />\n        <span class=\"tw-font-medium\">Apple Calendar</span>\n      </div>\n    </div>\n    <div v-if=\"!authUser\">\n      <SignInGoogleBtn\n        @click=\"$emit('signInLinkApple')\"\n        class=\"tw-mb-3 tw-w-full\"\n      />\n      <div class=\"tw-text-center tw-text-xs tw-text-dark-gray\">\n        By continuing, you agree to our\n        <router-link\n          class=\"tw-text-blue\"\n          target=\"_blank\"\n          :to=\"{ name: 'privacy-policy' }\"\n          >privacy policy</router-link\n        >\n      </div>\n    </div>\n    <div v-else>\n      <div\n        class=\"tw-flex tw-items-center tw-justify-center tw-text-sm tw-text-dark-gray\"\n      >\n        <v-icon class=\"tw-mx-2 tw-text-green\" size=\"16\"\n          >mdi-check-circle</v-icon\n        >\n        Schej account created\n      </div>\n    </div>\n    <div class=\"tw-flex tw-items-center tw-gap-2\">\n      <v-btn text class=\"tw-grow\" @click=\"$emit('back')\">Back</v-btn>\n      <v-btn\n        color=\"primary\"\n        class=\"tw-grow\"\n        :disabled=\"!authUser\"\n        @click=\"$emit('continue')\"\n        >Continue</v-btn\n      >\n    </div>\n  </div>\n</template>\n\n<script>\nimport SignInGoogleBtn from \"../SignInGoogleBtn.vue\"\nimport { mapState } from \"vuex\"\n\nexport default {\n  name: \"CreateAccount\",\n\n  components: {\n    SignInGoogleBtn,\n  },\n\n  computed: {\n    ...mapState([\"authUser\"]),\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CreateAccount.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CreateAccount.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CreateAccount.vue?vue&type=template&id=51337110\"\nimport script from \"./CreateAccount.vue?vue&type=script&lang=js\"\nexport * from \"./CreateAccount.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <v-dialog\n    :value=\"value\"\n    @input=\"(e) => $emit('input', e)\"\n    width=\"400\"\n    content-class=\"tw-m-0\"\n  >\n    <v-card class=\"tw-p-4 sm:tw-p-6\">\n      <v-expand-transition>\n        <div v-show=\"state === states.CHOICES\">\n          <div class=\"tw-text-md mb-1 tw-text-center\">\n            您可以手动填写您的空余时间或者从日历中导入 <br class=\"tw-block sm:tw-hidden\" />\n        \n          </div>\n          <div class=\"tw-pb-4 tw-text-center tw-text-xs tw-text-dark-gray\">\n            从日历导入后也可以继续手动修改哦\n          </div>\n          <div class=\"tw-flex tw-flex-col tw-gap-2\">\n            <v-btn block @click=\"autofillWithGcal\" class=\"tw-bg-white\">\n              <div class=\"tw-flex tw-w-full tw-items-center tw-gap-2\">\n                <v-img\n                  class=\"tw-flex-initial\"\n                  width=\"20\"\n                  height=\"20\"\n                  src=\"@/assets/google_logo.svg\"\n                />\n                <v-spacer />\n                导入 Google Calendar\n                <v-spacer />\n              </div>\n            </v-btn>\n            <v-btn block @click=\"autofillWithApple\" class=\"tw-bg-white\">\n              <div class=\"tw-flex tw-w-full tw-items-center tw-gap-2\">\n                <v-img\n                  class=\"tw-flex-initial\"\n                  width=\"20\"\n                  height=\"20\"\n                  src=\"@/assets/apple_logo.svg\"\n                />\n                <v-spacer />\n                导入 Apple Calendar\n                <v-spacer />\n              </div>\n            </v-btn>\n            <v-btn block @click=\"autofillWithOutlook\" class=\"tw-bg-white\">\n              <div class=\"tw-flex tw-w-full tw-items-center tw-gap-2\">\n                <v-img\n                  class=\"tw-flex-initial\"\n                  width=\"20\"\n                  height=\"20\"\n                  src=\"@/assets/outlook_logo.svg\"\n                />\n                <v-spacer />\n                导入 Outlook Calendar\n                <v-spacer />\n              </div>\n            </v-btn>\n            <div class=\"tw-flex tw-items-center tw-gap-3\">\n              <v-divider />\n              <div\n                class=\"tw-text-center tw-text-xs tw-font-medium tw-text-dark-gray\"\n              >\n                or\n              </div>\n              <v-divider />\n            </div>\n            <v-btn @click=\"setAvailabilityManually\" block color=\"success\" class=\"tw-text-white\">手动填写</v-btn>\n          </div>\n        </div>\n      </v-expand-transition>\n      <v-expand-transition>\n        <CalendarPermissionsCard\n          v-show=\"state === states.GCAL_PERMISSIONS\"\n          cancelLabel=\"Back\"\n          @cancel=\"showChoices\"\n          @allow=\"$emit('allowGoogleCalendar')\"\n        />\n      </v-expand-transition>\n      <v-expand-transition>\n        <CreateAccount\n          v-if=\"state === states.CREATE_ACCOUNT_APPLE\"\n          @signInLinkApple=\"$emit('signInLinkApple')\"\n          @back=\"state = states.CHOICES\"\n          @continue=\"state = states.APPLE_CREDENTIALS\"\n        />\n      </v-expand-transition>\n      <v-expand-transition>\n        <AppleCredentials\n          v-if=\"state === states.APPLE_CREDENTIALS\"\n          @back=\"state = states.CHOICES\"\n          @addedAppleCalendar=\"$emit('addedAppleCalendar')\"\n        />\n      </v-expand-transition>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport { isPhone } from \"@/utils\"\nimport { mapActions, mapState } from \"vuex\"\nimport CalendarPermissionsCard from \"./CalendarPermissionsCard\"\nimport CreateAccount from \"./CreateAccount\"\nimport AppleCredentials from \"./AppleCredentials\"\n\nexport default {\n  name: \"MarkAvailabilityDialog\",\n\n  props: {\n    value: { type: Boolean, required: true },\n    initialState: { type: String, default: \"choices\" },\n  },\n\n  components: {\n    CalendarPermissionsCard,\n    CreateAccount,\n    AppleCredentials,\n  },\n\n  data() {\n    return {\n      states: {\n        CHOICES: \"choices\", // present user with choice of automatic or manual\n        GCAL_PERMISSIONS: \"gcal_permissions\", // present to user the gcal permissions we request\n        CREATE_ACCOUNT_APPLE: \"create_account_apple\", // present to user the create account dialog\n        APPLE_CREDENTIALS: \"apple_credentials\", // present to user the apple credentials dialog\n      },\n      state: this.initialState,\n    }\n  },\n\n  computed: {\n    ...mapState([\"authUser\"]),\n    isPhone() {\n      return isPhone(this.$vuetify)\n    },\n  },\n\n  methods: {\n    ...mapActions([\"showInfo\"]),\n    setAvailabilityManually() {\n      this.$emit(\"setAvailabilityManually\")\n    },\n    autofillWithGcal() {\n      this.$posthog?.capture(\"autofill_with_gcal_clicked\")\n      this.state = this.states.GCAL_PERMISSIONS\n    },\n    autofillWithApple() {\n      this.$posthog?.capture(\"autofill_with_apple_clicked\")\n      if (this.authUser) {\n        this.state = this.states.APPLE_CREDENTIALS\n      } else {\n        this.state = this.states.CREATE_ACCOUNT_APPLE\n      }\n    },\n    autofillWithOutlook() {\n      this.$posthog?.capture(\"autofill_with_outlook_clicked\")\n      this.$emit(\"allowOutlookCalendar\")\n    },\n    showChoices() {\n      this.state = this.states.CHOICES\n    },\n  },\n\n  watch: {\n    value() {\n      if (!this.value) setTimeout(() => (this.state = this.states.CHOICES), 100)\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MarkAvailabilityDialog.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MarkAvailabilityDialog.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./MarkAvailabilityDialog.vue?vue&type=template&id=4446d23e\"\nimport script from \"./MarkAvailabilityDialog.vue?vue&type=script&lang=js\"\nexport * from \"./MarkAvailabilityDialog.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-dialog',{attrs:{\"value\":_vm.value,\"content-class\":\"tw-max-w-[35rem] tw-m-0 tw-max-h-full\",\"transition\":_vm.isPhone ? `dialog-bottom-transition` : `dialog-transition`,\"persistent\":\"\"},on:{\"input\":(e) => _vm.$emit('input', e)}},[_c('v-expand-transition',[_c('v-card',{staticClass:\"tw-overflow-none tw-relative tw-flex tw-flex-col tw-rounded-lg tw-px-2 tw-py-5 tw-transition-all\"},[_c('v-card-text',[_c('div',{staticClass:\"tw-mb-5 tw-text-wrap tw-text-xl tw-font-medium tw-text-black\"},[(_vm.isOwner)?[_vm._v(\" Share calendar availability \")]:[_vm._v(\" Accept invitation to share your calendar availability with \\\"\"+_vm._s(_vm.group.name)+\"\\\"? \")]],2),_c('v-expand-transition',[(_vm.calendarPermissionGranted)?_c('div',[_c('CalendarAccounts',{attrs:{\"sync-with-backend\":false,\"allow-add-calendar-account\":false,\"toggle-state\":true,\"fill-space\":true},on:{\"toggleCalendarAccount\":_vm.toggleCalendarAccount,\"toggleSubCalendarAccount\":_vm.toggleSubCalendarAccount}}),_c('div',{staticClass:\"tw-mt-5 tw-space-y-4\"},[_c('div',{staticClass:\"tw-font-medium tw-text-black\"},[_vm._v(\" Your calendar availability from these calendars will be shared with: \")]),(_vm.membersToShareWith.length > 0)?_c('div',{staticClass:\"tw-flex tw-flex-wrap tw-gap-1\"},_vm._l((_vm.membersToShareWith),function(user){return _c('UserChip',{key:user.email,attrs:{\"user\":user}})}),1):_c('div',{staticClass:\"tw-flex tw-items-center tw-italic\"},[_c('div',[_vm._v(\"No members added yet\")])]),_c('div',{staticClass:\"tw-text-xs tw-text-dark-gray\"},[_vm._v(\" Your calendar events will NOT be visible to others \")])])],1):_vm._e()]),_c('v-expand-transition',[(!_vm.calendarPermissionGranted)?_c('div',{staticClass:\"tw-p-5 tw-text-black\"},[_c('CalendarPermissionsCard',{directives:[{name:\"show\",rawName:\"v-show\",value:(true),expression:\"true\"}],attrs:{\"cancelLabel\":\"\"},on:{\"allow\":() => {\n                  _vm.$emit('setAvailabilityAutomatically')\n                }}})],1):_vm._e()])],1),(_vm.isOwner)?_c('v-card-actions',[_c('v-btn',{staticClass:\"tw-px-6\",attrs:{\"text\":\"\"},on:{\"click\":_vm.goHome}},[_vm._v(\"Back\")]),_c('v-spacer'),_c('v-btn',{staticClass:\"tw-px-6\",attrs:{\"color\":\"primary\",\"disabled\":!_vm.calendarPermissionGranted},on:{\"click\":_vm.acceptInvitation}},[_vm._v(\"Share\")])],1):_c('v-card-actions',[_c('v-dialog',{attrs:{\"width\":\"400\",\"persistent\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({staticClass:\"tw-text-dark-gray\",attrs:{\"text\":\"\"}},'v-btn',attrs,false),on),[_vm._v(\"Reject invitation\")])]}}]),model:{value:(_vm.rejectDialog),callback:function ($$v) {_vm.rejectDialog=$$v},expression:\"rejectDialog\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\"Are you sure?\")]),_c('v-card-text',[_vm._v(\"Are you sure you want to reject this invite?\")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{staticClass:\"tw-text-dark-gray\",attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.rejectDialog = false}}},[_vm._v(\"Cancel\")]),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"error\"},on:{\"click\":_vm.rejectInvitation}},[_vm._v(\"I'm sure\")])],1)],1)],1),_c('v-spacer'),_c('v-btn',{staticClass:\"tw-bg-green tw-px-5 tw-text-white tw-transition-opacity\",attrs:{\"disabled\":!_vm.calendarPermissionGranted},on:{\"click\":_vm.acceptInvitation}},[_vm._v(\"Accept Invitation\")])],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-dialog\n    :value=\"value\"\n    @input=\"(e) => $emit('input', e)\"\n    content-class=\"tw-max-w-[35rem] tw-m-0 tw-max-h-full\"\n    :transition=\"isPhone ? `dialog-bottom-transition` : `dialog-transition`\"\n    persistent\n  >\n    <v-expand-transition>\n      <v-card\n        class=\"tw-overflow-none tw-relative tw-flex tw-flex-col tw-rounded-lg tw-px-2 tw-py-5 tw-transition-all\"\n      >\n        <v-card-text>\n          <div\n            class=\"tw-mb-5 tw-text-wrap tw-text-xl tw-font-medium tw-text-black\"\n          >\n            <template v-if=\"isOwner\"> Share calendar availability </template>\n            <template v-else>\n              Accept invitation to share your calendar availability with \"{{\n                group.name\n              }}\"?\n            </template>\n          </div>\n          <v-expand-transition>\n            <div v-if=\"calendarPermissionGranted\">\n              <CalendarAccounts\n                :sync-with-backend=\"false\"\n                :allow-add-calendar-account=\"false\"\n                :toggle-state=\"true\"\n                :fill-space=\"true\"\n                @toggleCalendarAccount=\"toggleCalendarAccount\"\n                @toggleSubCalendarAccount=\"toggleSubCalendarAccount\"\n              ></CalendarAccounts>\n\n              <div class=\"tw-mt-5 tw-space-y-4\">\n                <div class=\"tw-font-medium tw-text-black\">\n                  Your calendar availability from these calendars will be shared\n                  with:\n                </div>\n                <div\n                  class=\"tw-flex tw-flex-wrap tw-gap-1\"\n                  v-if=\"membersToShareWith.length > 0\"\n                >\n                  <UserChip\n                    v-for=\"user in membersToShareWith\"\n                    :key=\"user.email\"\n                    :user=\"user\"\n                  ></UserChip>\n                </div>\n                <div v-else class=\"tw-flex tw-items-center tw-italic\">\n                  <div>No members added yet</div>\n                </div>\n                <div class=\"tw-text-xs tw-text-dark-gray\">\n                  Your calendar events will NOT be visible to others\n                </div>\n              </div>\n            </div>\n          </v-expand-transition>\n\n          <v-expand-transition>\n            <div class=\"tw-p-5 tw-text-black\" v-if=\"!calendarPermissionGranted\">\n              <CalendarPermissionsCard\n                v-show=\"true\"\n                cancelLabel=\"\"\n                @allow=\"\n                  () => {\n                    $emit('setAvailabilityAutomatically')\n                  }\n                \"\n              />\n            </div>\n          </v-expand-transition>\n        </v-card-text>\n\n        <v-card-actions v-if=\"isOwner\">\n          <v-btn class=\"tw-px-6\" @click=\"goHome\" text>Back</v-btn>\n          <v-spacer />\n          <v-btn\n            color=\"primary\"\n            @click=\"acceptInvitation\"\n            :disabled=\"!calendarPermissionGranted\"\n            class=\"tw-px-6\"\n            >Share</v-btn\n          >\n        </v-card-actions>\n        <v-card-actions v-else>\n          <v-dialog v-model=\"rejectDialog\" width=\"400\" persistent>\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-btn text class=\"tw-text-dark-gray\" v-bind=\"attrs\" v-on=\"on\"\n                >Reject invitation</v-btn\n              >\n            </template>\n            <v-card>\n              <v-card-title>Are you sure?</v-card-title>\n              <v-card-text\n                >Are you sure you want to reject this invite?</v-card-text\n              >\n              <v-card-actions>\n                <v-spacer />\n                <v-btn\n                  text\n                  class=\"tw-text-dark-gray\"\n                  @click=\"rejectDialog = false\"\n                  >Cancel</v-btn\n                >\n                <v-btn text @click=\"rejectInvitation\" color=\"error\"\n                  >I'm sure</v-btn\n                >\n              </v-card-actions>\n            </v-card>\n          </v-dialog>\n          <v-spacer />\n          <v-btn\n            class=\"tw-bg-green tw-px-5 tw-text-white tw-transition-opacity\"\n            @click=\"acceptInvitation\"\n            :disabled=\"!calendarPermissionGranted\"\n            >Accept Invitation</v-btn\n          >\n        </v-card-actions>\n      </v-card>\n    </v-expand-transition>\n  </v-dialog>\n</template>\n\n<script>\nimport { mapState } from \"vuex\"\nimport { isPhone, post, generateEnabledCalendarsPayload } from \"@/utils\"\nimport CalendarAccounts from \"@/components/settings/CalendarAccounts.vue\"\nimport CalendarPermissionsCard from \"@/components/calendar_permission_dialogs/CalendarPermissionsCard.vue\"\nimport UserChip from \"@/components/general/UserChip.vue\"\n\nexport default {\n  name: \"InvitationDialog\",\n\n  emits: [\"input\"],\n\n  props: {\n    value: { type: Boolean, required: true },\n    group: { type: Object },\n    calendarPermissionGranted: { type: Boolean, required: true },\n  },\n\n  components: {\n    CalendarAccounts,\n    UserChip,\n    CalendarPermissionsCard,\n  },\n\n  data: () => ({\n    calendarAccounts: {},\n    rejectDialog: false,\n  }),\n\n  mounted() {\n    this.calendarAccounts = JSON.parse(\n      JSON.stringify(this.authUser.calendarAccounts)\n    )\n  },\n\n  computed: {\n    ...mapState([\"authUser\"]),\n    isPhone() {\n      return isPhone(this.$vuetify)\n    },\n    isOwner() {\n      return this.authUser._id === this.group.ownerId\n    },\n    membersToShareWith() {\n      return this.group.attendees?.filter(\n        (u) => !u.declined && u.email != this.authUser.email\n      )\n    },\n  },\n  methods: {\n    goHome() {\n      this.$router.push({ name: \"home\" })\n    },\n    rejectInvitation() {\n      post(`/events/${this.group._id}/decline`).then((res) => {\n        this.$router.replace({ name: \"home\" })\n      })\n    },\n\n    acceptInvitation() {\n      const payload = generateEnabledCalendarsPayload(this.calendarAccounts)\n\n      post(`/events/${this.group._id}/response`, payload).then((res) => {\n        this.$emit(\"input\", false)\n        this.$emit(\"refreshEvent\")\n      })\n    },\n\n    toggleCalendarAccount(payload) {\n      this.calendarAccounts[\n        `${payload.email}_${payload.calendarType}`\n      ].enabled = payload.enabled\n    },\n\n    toggleSubCalendarAccount(payload) {\n      this.calendarAccounts[\n        `${payload.email}_${payload.calendarType}`\n      ].subCalendars[payload.subCalendarId].enabled = payload.enabled\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./InvitationDialog.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./InvitationDialog.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./InvitationDialog.vue?vue&type=template&id=118e75a1\"\nimport script from \"./InvitationDialog.vue?vue&type=script&lang=js\"\nexport * from \"./InvitationDialog.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"tw-mt-1 tw-max-w-full sm:tw-mt-2 sm:tw-max-w-[calc(100%-236px)]\"},[(_vm.showDescription)?_c('div',{staticClass:\"tw-flex tw-w-full tw-cursor-pointer tw-items-center tw-gap-2 tw-rounded-md tw-border tw-border-light-gray-stroke tw-bg-light-gray tw-p-2 tw-text-xs tw-font-normal tw-text-very-dark-gray hover:tw-bg-[#eeeeee] sm:tw-text-sm\"},[_c('div',{staticClass:\"tw-grow tw-space-y-1\"},_vm._l((_vm.event.description.split('\\n')),function(line,i){return _c('div',{key:i,staticClass:\"tw-min-h-6 tw-leading-6\"},[_vm._v(\" \"+_vm._s(line)+\" \")])}),0),(_vm.canEdit)?_c('v-btn',{key:\"edit-description-btn\",staticClass:\"-tw-my-1\",attrs:{\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){_vm.isEditing = true}}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-pencil\")])],1):_vm._e()],1):(_vm.canEdit && !_vm.isEditing)?_c('v-btn',{staticClass:\"-tw-ml-2 tw-mt-0 tw-w-min tw-px-2 tw-text-dark-gray\",attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.isEditing = true}}},[_vm._v(\" + Add description \")]):_vm._e(),_c('div',{class:_vm.canEdit && !_vm.showDescription && _vm.isEditing\n        ? ''\n        : 'tw-absolute tw-opacity-0'},[_c('div',{staticClass:\"-tw-mt-[6px] tw-flex tw-w-full tw-flex-grow tw-items-center tw-gap-2\"},[_c('v-textarea',{staticClass:\"tw-flex-grow tw-p-2 tw-text-xs sm:tw-text-sm\",attrs:{\"placeholder\":\"Enter a description...\",\"autofocus\":\"\",\"rows\":1,\"auto-grow\":\"\",\"hide-details\":\"\"},model:{value:(_vm.newDescription),callback:function ($$v) {_vm.newDescription=$$v},expression:\"newDescription\"}}),_c('v-btn',{attrs:{\"icon\":\"\",\"small\":_vm.isPhone},on:{\"click\":function($event){_vm.newDescription = _vm.event.description\n          _vm.isEditing = false}}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1),_c('v-btn',{attrs:{\"icon\":\"\",\"small\":_vm.isPhone,\"color\":\"primary\"},on:{\"click\":_vm.saveDescription}},[_c('v-icon',[_vm._v(\"mdi-check\")])],1)],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"tw-mt-1 tw-max-w-full sm:tw-mt-2 sm:tw-max-w-[calc(100%-236px)]\">\n    <div\n      v-if=\"showDescription\"\n      class=\"tw-flex tw-w-full tw-cursor-pointer tw-items-center tw-gap-2 tw-rounded-md tw-border tw-border-light-gray-stroke tw-bg-light-gray tw-p-2 tw-text-xs tw-font-normal tw-text-very-dark-gray hover:tw-bg-[#eeeeee] sm:tw-text-sm\"\n    >\n      <div class=\"tw-grow tw-space-y-1\">\n        <div\n          class=\"tw-min-h-6 tw-leading-6\"\n          v-for=\"(line, i) in event.description.split('\\n')\"\n          :key=\"i\"\n        >\n          {{ line }}\n        </div>\n      </div>\n      <v-btn\n        v-if=\"canEdit\"\n        key=\"edit-description-btn\"\n        class=\"-tw-my-1\"\n        icon\n        small\n        @click=\"isEditing = true\"\n      >\n        <v-icon small>mdi-pencil</v-icon>\n      </v-btn>\n    </div>\n\n    <v-btn\n      v-else-if=\"canEdit && !isEditing\"\n      text\n      class=\"-tw-ml-2 tw-mt-0 tw-w-min tw-px-2 tw-text-dark-gray\"\n      @click=\"isEditing = true\"\n    >\n      + Add description\n    </v-btn>\n    <div\n      :class=\"\n        canEdit && !showDescription && isEditing\n          ? ''\n          : 'tw-absolute tw-opacity-0'\n      \"\n    >\n      <div\n        class=\"-tw-mt-[6px] tw-flex tw-w-full tw-flex-grow tw-items-center tw-gap-2\"\n      >\n        <v-textarea\n          v-model=\"newDescription\"\n          placeholder=\"Enter a description...\"\n          class=\"tw-flex-grow tw-p-2 tw-text-xs sm:tw-text-sm\"\n          autofocus\n          :rows=\"1\"\n          auto-grow\n          hide-details\n        ></v-textarea>\n        <v-btn\n          icon\n          :small=\"isPhone\"\n          @click=\"\n            newDescription = event.description\n            isEditing = false\n          \"\n        >\n          <v-icon>mdi-close</v-icon>\n        </v-btn>\n        <v-btn icon :small=\"isPhone\" color=\"primary\" @click=\"saveDescription\"\n          ><v-icon>mdi-check</v-icon></v-btn\n        >\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from \"vuex\"\nimport { isPhone, put } from \"@/utils\"\n\nexport default {\n  name: \"EventDescription\",\n\n  props: {\n    event: {\n      type: Object,\n      required: true,\n    },\n    canEdit: {\n      type: Boolean,\n      required: true,\n    },\n  },\n\n  data() {\n    return {\n      isEditing: false,\n      newDescription: this.event.description ?? \"\",\n      lineHeight: 28,\n    }\n  },\n\n  computed: {\n    isPhone() {\n      return isPhone(this.$vuetify)\n    },\n    showDescription() {\n      return this.event.description && !this.isEditing\n    },\n  },\n\n  methods: {\n    ...mapActions([\"showError\"]),\n    saveDescription() {\n      const oldEvent = { ...this.event }\n\n      const newEvent = {\n        ...this.event,\n        description: this.newDescription,\n      }\n\n      const eventPayload = {\n        name: this.event.name,\n        duration: this.event.duration,\n        dates: this.event.dates,\n        type: this.event.type,\n        description: this.newDescription,\n      }\n      \n      this.$emit(\"update:event\", newEvent)\n      this.isEditing = false\n      put(`/events/${this.event._id}`, eventPayload).catch((err) => {\n        console.error(err)\n        this.showError(\"Failed to save description! Please try again later.\")\n        this.$emit(\"update:event\", {\n          ...oldEvent,\n        })\n      })\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EventDescription.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EventDescription.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./EventDescription.vue?vue&type=template&id=aa26baf0\"\nimport script from \"./EventDescription.vue?vue&type=script&lang=js\"\nexport * from \"./EventDescription.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div v-if=\"event\" class=\"tw-mt-8 tw-h-full\">\n    <!-- Mark availability option dialog -->\n    <MarkAvailabilityDialog\n      v-model=\"choiceDialog\"\n      :initialState=\"linkApple ? 'create_account_apple' : 'choices'\"\n      @signInLinkApple=\"signInLinkApple\"\n      @allowGoogleCalendar=\"\n        () => setAvailabilityAutomatically(calendarTypes.GOOGLE)\n      \"\n      @allowOutlookCalendar=\"\n        () => setAvailabilityAutomatically(calendarTypes.OUTLOOK)\n      \"\n      @setAvailabilityManually=\"setAvailabilityManually\"\n      @addedAppleCalendar=\"addedAppleCalendar\"\n    />\n\n    <!-- Google sign in not supported dialog -->\n    <SignInNotSupportedDialog v-model=\"webviewDialog\" />\n\n    <!-- Guest dialog -->\n    <GuestDialog\n      v-model=\"guestDialog\"\n      @submit=\"handleGuestDialogSubmit\"\n      :event=\"event\"\n      :respondents=\"Object.keys(event.responses)\"\n    />\n\n    <!-- Join sign up slot dialog-->\n    <SignUpForSlotDialog\n      v-if=\"currSignUpBlock\"\n      v-model=\"signUpForSlotDialog\"\n      :signUpBlock=\"currSignUpBlock\"\n      @submit=\"signUpForBlock\"\n      :event=\"event\"\n    />\n\n    <!-- Edit event dialog -->\n    <NewDialog\n      v-model=\"editEventDialog\"\n      :type=\"eventType\"\n      :event=\"event\"\n      :contactsPayload=\"contactsPayload\"\n      edit\n      no-tabs\n    />\n\n    <!-- Group invitation dialog -->\n    <InvitationDialog\n      v-if=\"isGroup\"\n      v-model=\"invitationDialog\"\n      :group=\"event\"\n      :calendarPermissionGranted=\"calendarPermissionGranted\"\n      @refreshEvent=\"refreshEvent\"\n      @setAvailabilityAutomatically=\"setAvailabilityAutomatically\"\n    ></InvitationDialog>\n\n    <!-- Pages Not Visited dialog -->\n    <v-dialog\n      v-model=\"pagesNotVisitedDialog\"\n      max-width=\"400\"\n      content-class=\"tw-m-0\"\n    >\n      <v-card>\n        <v-card-title>请确认操作</v-card-title>\n        <v-card-text\n          ><span class=\"tw-font-medium\"\n            >您即将提交您的可用时间，但尚未填写所有页面。</span\n          >\n          请点击顶部的左右箭头切换页面。</v-card-text\n        >\n        <v-card-actions>\n          <v-spacer />\n          <v-btn text @click=\"pagesNotVisitedDialog = false\">取消</v-btn>\n          <v-btn\n            text\n            color=\"primary\"\n            @click=\"\n              () => {\n                saveChanges(true)\n                this.pagesNotVisitedDialog = false\n              }\n            \"\n            >提交</v-btn\n          >\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n\n    <div class=\"tw-mx-auto tw-mt-4 tw-max-w-5xl\">\n      <div v-if=\"!isSettingSpecificTimes\" class=\"tw-mx-4\">\n        <!-- Title and copy link -->\n        <div class=\"tw-flex tw-items-center tw-text-black\">\n          <div>\n            <div\n              class=\"sm:mb-2 tw-flex tw-flex-wrap tw-items-center tw-gap-x-4 tw-gap-y-2\"\n            >\n              <div class=\"tw-text-xl sm:tw-text-3xl\">{{ event.name }}</div>\n              <v-chip\n                v-if=\"event.when2meetHref?.length > 0\"\n                :href=\"`https://when2meet.com${event.when2meetHref}`\"\n                :small=\"isPhone\"\n                class=\"tw-cursor-pointer tw-select-none tw-rounded tw-bg-light-gray tw-px-2 tw-font-medium sm:tw-px-3\"\n                >来自when2meet的导入</v-chip\n              >\n              <template v-if=\"isGroup\">\n                <div class=\"\">\n                  <v-chip\n                    :small=\"isPhone\"\n                    class=\"tw-cursor-pointer tw-select-none tw-rounded tw-bg-light-gray tw-px-2 tw-font-medium sm:tw-px-3\"\n                    @click=\"helpDialog = true\"\n                    >可用性分组</v-chip\n                  >\n                </div>\n                <HelpDialog v-model=\"helpDialog\">\n                  <template v-slot:header>可用性分组</template>\n                  <div class=\"mb-4\">\n                    使用可用性分组可查看组员每周的Google日历空闲时间。您的实际日历事件对他人不可见。\n                  </div>\n                </HelpDialog>\n              </template>\n            </div>\n            <div class=\"tw-flex tw-items-baseline tw-gap-1\">\n              <div\n                class=\"tw-text-sm tw-font-normal tw-text-very-dark-gray sm:tw-text-base\"\n              >\n                {{ dateString }}\n              </div>\n              <template v-if=\"canEdit\">\n                <v-btn\n                  id=\"edit-event-btn\"\n                  @click=\"editEvent\"\n                  class=\"tw-px-2 tw-text-sm tw-text-green\"\n                  text\n                >\n                  编辑{{ isGroup ? \"分组\" : \"活动\" }}\n                </v-btn>\n              </template>\n            </div>\n          </div>\n          <v-spacer />\n          <div class=\"tw-flex tw-flex-row tw-items-center tw-gap-2.5\">\n            <div v-if=\"isGroup\">\n              <v-btn\n                v-if=\"event.startOnMonday ? weekOffset != 1 : weekOffset != 0\"\n                :icon=\"isPhone\"\n                text\n                class=\"tw-mr-1 tw-text-very-dark-gray sm:tw-mr-2.5\"\n                @click=\"resetWeekOffset\"\n              >\n                <v-icon class=\"sm:tw-mr-2\">mdi-calendar-today</v-icon>\n                <span v-if=\"!isPhone\">今天</span>\n              </v-btn>\n              <v-btn\n                :icon=\"isPhone\"\n                :outlined=\"!isPhone\"\n                class=\"tw-text-green\"\n                @click=\"refreshCalendar\"\n                :loading=\"loading\"\n              >\n                <v-icon class=\"tw-mr-1\" v-if=\"!isPhone\">mdi-refresh</v-icon>\n                <span v-if=\"!isPhone\" class=\"tw-mr-2\">刷新</span>\n                <v-icon class=\"tw-text-green\" v-else>mdi-refresh</v-icon>\n              </v-btn>\n            </div>\n            <div v-else>\n              <v-btn\n                :icon=\"isPhone\"\n                :outlined=\"!isPhone\"\n                class=\"tw-text-green\"\n                @click=\"copyLink\"\n              >\n                <span v-if=\"!isPhone\" class=\"tw-mr-2 tw-text-green\"\n                  >复制链接</span\n                >\n                <v-icon class=\"tw-text-green\" v-if=\"!isPhone\"\n                  >mdi-content-copy</v-icon\n                >\n                <v-icon class=\"tw-text-green\" v-else>mdi-share</v-icon>\n              </v-btn>\n            </div>\n            <div\n              v-if=\"!isPhone && (!isSignUp || canEdit)\"\n              class=\"tw-flex tw-w-40\"\n            >\n              <template v-if=\"!isEditing\">\n                <v-btn\n                  v-if=\"!isGroup && !authUser && selectedGuestRespondent\"\n                  min-width=\"10.25rem\"\n                  class=\"tw-bg-green tw-text-white tw-transition-opacity\"\n                  :style=\"{ opacity: availabilityBtnOpacity }\"\n                  @click=\"editGuestAvailability\"\n                >\n                  {{\n                    event.blindAvailabilityEnabled\n                      ? \"编辑可用时间\"\n                      : `编辑${selectedGuestRespondent}的可用时间`\n                  }}\n                </v-btn>\n                <v-btn\n                  v-else\n                  width=\"10.25rem\"\n                  class=\"tw-text-white tw-transition-opacity\"\n                  :class=\"'tw-bg-green'\"\n                  :disabled=\"loading && !userHasResponded\"\n                  :style=\"{ opacity: availabilityBtnOpacity }\"\n                  @click=\"() => addAvailability()\"\n                >\n                  {{ actionButtonText }}\n                </v-btn>\n              </template>\n              <template v-else>\n                <v-btn\n                  class=\"tw-mr-1 tw-w-20 tw-text-red\"\n                  @click=\"cancelEditing\"\n                  outlined\n                >\n                  取消\n                </v-btn>\n                <v-btn\n                  class=\"tw-w-20 tw-text-white\"\n                  :class=\"'tw-bg-green'\"\n                  @click=\"() => saveChanges()\"\n                >\n                  保存\n                </v-btn></template\n              >\n            </div>\n          </div>\n        </div>\n\n        <!-- Description -->\n        <EventDescription\n          :event.sync=\"event\"\n          :canEdit=\"event.ownerId != 0 && canEdit\"\n        />\n      </div>\n\n      <!-- Calendar -->\n\n      <ScheduleOverlap\n        ref=\"scheduleOverlap\"\n        :event=\"event\"\n        :fromEditEvent=\"fromEditEvent\"\n        :loadingCalendarEvents=\"loading\"\n        :calendarEventsMap=\"calendarEventsMap\"\n        :calendarPermissionGranted=\"calendarPermissionGranted\"\n        :calendar-availabilities=\"calendarAvailabilities\"\n        :weekOffset.sync=\"weekOffset\"\n        :curGuestId=\"curGuestId\"\n        :initial-timezone=\"initialTimezone\"\n        :addingAvailabilityAsGuest=\"addingAvailabilityAsGuest\"\n        @addAvailability=\"addAvailability\"\n        @addAvailabilityAsGuest=\"addAvailabilityAsGuest\"\n        @refreshEvent=\"refreshEvent\"\n        @highlightAvailabilityBtn=\"highlightAvailabilityBtn\"\n        @deleteAvailability=\"deleteAvailability\"\n        @setCurGuestId=\"(id) => (curGuestId = id)\"\n        @signUpForBlock=\"initiateSignUpFlow\"\n      />\n    </div>\n\n    <template v-if=\"showFeedbackBtn\">\n      <div class=\"tw-w-full tw-border-t tw-border-solid tw-border-gray\"></div>\n\n      <div class=\"tw-flex tw-flex-col tw-items-center\" v-if=\"showFeedbackBtn\">\n        <v-btn\n          class=\"tw-h-16\"\n          block\n          id=\"feedback-btn\"\n          text\n          href=\"https://forms.gle/9AgRy4PQfWfVuBnw8\"\n          target=\"_blank\"\n        >\n          意见反馈\n        </v-btn>\n        <div class=\"tw-w-full tw-border-t tw-border-solid tw-border-gray\"></div>\n        <v-btn\n          class=\"tw-h-16\"\n          block\n          text\n          href=\"https://www.paypal.com/donate/?hosted_button_id=KWCH6LGJCP6E6\"\n          target=\"_blank\"\n        >\n          支持我们\n        </v-btn>\n        <div class=\"tw-w-full tw-border-t tw-border-solid tw-border-gray\"></div>\n        <v-btn class=\"tw-h-16\" block text :to=\"{ name: 'privacy-policy' }\">\n          隐私政策\n        </v-btn>\n      </div>\n    </template>\n\n    <div\n      class=\"tw-mb-16 tw-hidden tw-flex-col tw-items-center tw-justify-between sm:tw-flex\"\n    >\n      <router-link\n        class=\"tw-text-xs tw-font-medium tw-text-gray\"\n        :to=\"{ name: 'privacy-policy' }\"\n      >\n        隐私政策\n      </router-link>\n    </div>\n\n    <div class=\"tw-h-8\"></div>\n    <!-- Bottom bar for phones -->\n    <div\n      v-if=\"!isSettingSpecificTimes && isPhone && (!isSignUp || canEdit)\"\n      class=\"tw-fixed tw-bottom-0 tw-z-20 tw-flex tw-h-16 tw-w-full tw-items-center tw-px-4\"\n      :class=\"`${isIOS ? 'tw-pb-2' : ''} ${\n        isScheduling ? 'tw-bg-blue' : 'tw-bg-green'\n      }`\"\n    >\n      <template v-if=\"!isEditing && !isScheduling\">\n        <v-btn\n          v-if=\"!event.daysOnly && numResponses > 0\"\n          text\n          class=\"tw-text-white\"\n          @click=\"scheduleEvent\"\n          >Schedule</v-btn\n        >\n        <v-spacer />\n        <v-btn\n          v-if=\"!isGroup && !authUser && selectedGuestRespondent\"\n          class=\"tw-bg-white tw-text-green tw-transition-opacity\"\n          :style=\"{ opacity: availabilityBtnOpacity }\"\n          @click=\"editGuestAvailability\"\n        >\n          {{ mobileGuestActionButtonText }}\n        </v-btn>\n        <v-btn\n          v-else\n          class=\"tw-bg-white tw-text-green tw-transition-opacity\"\n          :disabled=\"loading && !userHasResponded\"\n          :style=\"{ opacity: availabilityBtnOpacity }\"\n          @click=\"() => addAvailability()\"\n        >\n          {{ mobileActionButtonText }}\n        </v-btn>\n      </template>\n      <template v-else-if=\"isEditing\">\n        <v-btn text class=\"tw-text-white\" @click=\"cancelEditing\">\n          取消\n        </v-btn>\n        <v-spacer />\n        <v-btn class=\"tw-bg-white tw-text-green\" @click=\"() => saveChanges()\">\n          保存\n        </v-btn>\n      </template>\n      <template v-else-if=\"isScheduling\">\n        <v-btn text class=\"tw-text-white\" @click=\"cancelScheduleEvent\">\n          取消\n        </v-btn>\n        <v-spacer />\n        <v-btn\n          :disabled=\"!allowScheduleEvent\"\n          class=\"tw-bg-white tw-text-blue\"\n          @click=\"confirmScheduleEvent\"\n        >\n          安排\n        </v-btn>\n      </template>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {\n  get,\n  post,\n  signInGoogle,\n  signInOutlook,\n  isPhone,\n  processEvent,\n  getCalendarEventsMap,\n  getDateRangeStringForEvent,\n  isIOS,\n  isDstObserved,\n} from \"@/utils\"\nimport { mapActions, mapState, mapMutations } from \"vuex\"\n\nimport NewDialog from \"@/components/NewDialog.vue\"\nimport ScheduleOverlap from \"@/components/schedule_overlap/ScheduleOverlap.vue\"\nimport GuestDialog from \"@/components/GuestDialog.vue\"\nimport SignUpForSlotDialog from \"@/components/sign_up_form/SignUpForSlotDialog.vue\"\nimport { errors, authTypes, eventTypes, calendarTypes } from \"@/constants\"\nimport isWebview from \"is-ua-webview\"\nimport SignInNotSupportedDialog from \"@/components/SignInNotSupportedDialog.vue\"\nimport MarkAvailabilityDialog from \"@/components/calendar_permission_dialogs/MarkAvailabilityDialog.vue\"\nimport InvitationDialog from \"@/components/groups/InvitationDialog.vue\"\nimport HelpDialog from \"@/components/HelpDialog.vue\"\nimport EventDescription from \"@/components/event/EventDescription.vue\"\nexport default {\n  name: \"Event\",\n\n  props: {\n    eventId: { type: String, required: true },\n    fromSignIn: { type: Boolean, default: false },\n    editingMode: { type: Boolean, default: false },\n    linkApple: { type: Boolean, default: false },\n    initialTimezone: { type: Object, default: () => ({}) },\n    contactsPayload: { type: Object, default: () => ({}) },\n  },\n\n  components: {\n    GuestDialog,\n    SignUpForSlotDialog,\n    ScheduleOverlap,\n    NewDialog,\n    SignInNotSupportedDialog,\n    MarkAvailabilityDialog,\n    InvitationDialog,\n    HelpDialog,\n    EventDescription,\n  },\n\n  data: () => ({\n    fromEditEvent: false,\n\n    choiceDialog: false,\n    webviewDialog: false,\n    guestDialog: false,\n    signUpForSlotDialog: false,\n    editEventDialog: false,\n    invitationDialog: false,\n    pagesNotVisitedDialog: false,\n    helpDialog: false,\n\n    loading: true,\n    calendarEventsMap: {},\n    event: null,\n    scheduleOverlapComponent: null,\n    scheduleOverlapComponentLoaded: false,\n\n    curGuestId: \"\", // Id of the current guest being edited\n    calendarPermissionGranted: true,\n    addingAvailabilityAsGuest: false, // Whether a signed in user is current adding availability as a guest\n\n    weekOffset: 0,\n\n    availabilityBtnOpacity: 1,\n    hasRefetchedAuthUserCalendarEvents: false,\n\n    // Availability Groups\n    calendarAvailabilities: {}, // maps userId to their calendar events\n\n    // Sign Up Forms\n    currSignUpBlock: null,\n  }),\n\n  mounted() {\n    // If coming from enabling contacts, show the dialog. Checks if contactsPayload is not an Observer.\n    this.editEventDialog = Object.keys(this.contactsPayload).length > 0\n\n    // If coming from signing in to link apple calendar, show the mark availability dialog\n    if (this.linkApple) {\n      this.choiceDialog = true\n    }\n  },\n\n  computed: {\n    ...mapState([\"authUser\", \"events\"]),\n    allowScheduleEvent() {\n      return this.scheduleOverlapComponent?.allowScheduleEvent\n    },\n    calendarTypes() {\n      return calendarTypes\n    },\n    dateString() {\n      return getDateRangeStringForEvent(this.event)\n    },\n    isEditing() {\n      return this.scheduleOverlapComponent?.editing\n    },\n    isScheduling() {\n      return this.scheduleOverlapComponent?.scheduling\n    },\n    canEdit() {\n      return (\n        this.event.ownerId == 0 || this.authUser?._id === this.event.ownerId\n      )\n    },\n    isPhone() {\n      return isPhone(this.$vuetify)\n    },\n    isSpecificDates() {\n      return this.event?.type === eventTypes.SPECIFIC_DATES || !this.event?.type\n    },\n    isWeekly() {\n      return this.event?.type === eventTypes.DOW\n    },\n    isGroup() {\n      return this.event?.type === eventTypes.GROUP\n    },\n    isSignUp() {\n      return this.event?.isSignUpForm\n    },\n    eventType() {\n      if (this.isGroup) return \"group\"\n      else if (this.isSignUp) return \"signup\"\n      else return \"event\"\n    },\n    areUnsavedChanges() {\n      return this.scheduleOverlapComponent?.unsavedChanges\n    },\n    userHasResponded() {\n      return this.authUser?._id in this.event.responses\n    },\n    selectedGuestRespondent() {\n      return this.scheduleOverlapComponent?.selectedGuestRespondent\n    },\n    showFeedbackBtn() {\n      return this.isPhone\n    },\n    numResponses() {\n      return this.scheduleOverlapComponent?.respondents.length\n    },\n    actionButtonText() {\n      if (this.isSignUp) return \"Edit slots\"\n      else if (this.userHasResponded || this.isGroup) return \"Edit availability\"\n      return \"Add availability\"\n    },\n    mobileGuestActionButtonText() {\n      return this.event.blindAvailabilityEnabled\n        ? \"Edit availability\"\n        : `Edit ${this.selectedGuestRespondent}'s availability`\n    },\n    mobileActionButtonText() {\n      if (this.isSignUp) return \"Edit slots\"\n      return this.userHasResponded ? \"Edit availability\" : \"Add availability\"\n    },\n    isIOS() {\n      return isIOS()\n    },\n    isSettingSpecificTimes() {\n      return (\n        this.scheduleOverlapComponent?.state ===\n        this.scheduleOverlapComponent?.states.SET_SPECIFIC_TIMES\n      )\n    },\n  },\n\n  methods: {\n    ...mapActions([\"showError\", \"showInfo\", \"getEvents\"]),\n    ...mapMutations([\"setAuthUser\"]),\n    /** Show choice dialog if not signed in, otherwise, immediately start editing availability */\n    addAvailability() {\n      if (!this.scheduleOverlapComponent) return\n\n      // Start editing immediately if days only\n      if (this.event?.daysOnly) {\n        this.scheduleOverlapComponent.startEditing()\n        return\n      }\n\n      // Start editing if calendar permission granted or user has responded, otherwise show choice dialog\n      if (\n        (this.authUser && this.calendarPermissionGranted) ||\n        this.userHasResponded\n      ) {\n        this.scheduleOverlapComponent.startEditing()\n        if (!this.userHasResponded && !this.isSignUp) {\n          this.scheduleOverlapComponent.setAvailabilityAutomatically()\n        }\n      } else {\n        this.choiceDialog = true\n      }\n    },\n    /** Add guest availability while signed in */\n    addAvailabilityAsGuest() {\n      this.addingAvailabilityAsGuest = true\n      this.setAvailabilityManually()\n    },\n    cancelEditing() {\n      /* Cancels editing and resets availability to previous */\n      if (!this.scheduleOverlapComponent) return\n\n      if (!this.isSignUp)\n        this.scheduleOverlapComponent.resetCurUserAvailability()\n      else this.scheduleOverlapComponent.resetSignUpForm()\n      this.scheduleOverlapComponent.stopEditing()\n      this.curGuestId = \"\"\n      this.addingAvailabilityAsGuest = false\n    },\n    copyLink() {\n      /* Copies event link to clipboard */\n      navigator.clipboard.writeText(\n        `${window.location.origin}/e/${this.event.shortId ?? this.event._id}`\n      )\n      this.showInfo(\"Link copied to clipboard!\")\n    },\n    async deleteAvailability() {\n      if (!this.scheduleOverlapComponent) return\n\n      if (!this.authUser || this.addingAvailabilityAsGuest) {\n        if (this.curGuestId) {\n          await this.scheduleOverlapComponent.deleteAvailability(\n            this.curGuestId\n          )\n          this.curGuestId = \"\"\n        }\n      } else {\n        await this.scheduleOverlapComponent.deleteAvailability()\n      }\n\n      this.showInfo(this.isGroup ? \"Left group!\" : \"Availability deleted!\")\n      this.scheduleOverlapComponent.stopEditing()\n    },\n\n    editEvent() {\n      /* Show edit event dialog */\n      this.editEventDialog = true\n    },\n    /** Refresh event details */\n    async refreshEvent() {\n      let sanitizedId = this.eventId.replaceAll(\".\", \"\")\n      this.event = await get(`/events/${sanitizedId}`)\n      processEvent(this.event)\n    },\n\n    setAvailabilityAutomatically(calendarType = calendarTypes.GOOGLE) {\n      /* Prompts user to sign in when \"set availability automatically\" button clicked */\n      if (isWebview(navigator.userAgent)) {\n        // Show dialog prompting user to use a real browser\n        this.webviewDialog = true\n      } else {\n        // Or sign in if user is already using a real browser\n        let signInParams\n        if (this.authUser) {\n          // Request permission if calendar permissions not yet granted\n          signInParams = {\n            state: {\n              type: this.isGroup\n                ? authTypes.GROUP_ADD_AVAILABILITY\n                : authTypes.EVENT_ADD_AVAILABILITY,\n              eventId: this.eventId,\n            },\n            selectAccount: false,\n            requestCalendarPermission: true,\n          }\n        } else {\n          // Ask the user to select the account they want to sign in with if not logged in yet\n          signInParams = {\n            state: {\n              type: authTypes.EVENT_ADD_AVAILABILITY,\n              eventId: this.eventId,\n            },\n            selectAccount: true,\n            requestCalendarPermission: true,\n          }\n        }\n\n        if (calendarType === calendarTypes.GOOGLE) {\n          signInGoogle(signInParams)\n        } else if (calendarType === calendarTypes.OUTLOOK) {\n          signInOutlook(signInParams)\n        }\n      }\n      this.choiceDialog = false\n    },\n    setAvailabilityManually() {\n      /* Starts editing after \"set availability manually\" button clicked */\n      if (!this.scheduleOverlapComponent) return\n\n      this.$nextTick(() => {\n        this.scheduleOverlapComponent.startEditing()\n      })\n      this.choiceDialog = false\n    },\n    editGuestAvailability() {\n      /* Edits the selected guest's availability */\n      if (!this.scheduleOverlapComponent) return\n\n      this.curGuestId = this.selectedGuestRespondent\n      this.scheduleOverlapComponent.startEditing()\n      this.$nextTick(() => {\n        this.scheduleOverlapComponent.populateUserAvailability(\n          this.selectedGuestRespondent\n        )\n      })\n    },\n\n    async saveChanges(ignorePagesNotVisited = false) {\n      /* Shows guest dialog if not signed in, otherwise saves auth user's availability */\n      if (!this.scheduleOverlapComponent) return\n\n      // If user hasn't responded and they haven't gone to the next page, show pages not visited dialog\n      if (\n        !this.userHasResponded &&\n        this.curGuestId.length === 0 &&\n        !this.scheduleOverlapComponent.pageHasChanged &&\n        !ignorePagesNotVisited &&\n        this.scheduleOverlapComponent.hasPages\n      ) {\n        this.pagesNotVisitedDialog = true\n        return\n      }\n\n      if (!this.authUser || this.addingAvailabilityAsGuest) {\n        if (this.curGuestId) {\n          this.saveChangesAsGuest({\n            name: this.curGuestId,\n            email: this.event.responses[this.curGuestId].email,\n          })\n          this.curGuestId = \"\"\n          this.addingAvailabilityAsGuest = false\n        } else {\n          this.guestDialog = true\n        }\n        return\n      }\n\n      let changesPersisted = true\n\n      if (this.isSignUp) {\n        changesPersisted =\n          await this.scheduleOverlapComponent.submitNewSignUpBlocks()\n      } else {\n        await this.scheduleOverlapComponent.submitAvailability()\n      }\n\n      if (changesPersisted) {\n        this.showInfo(\"Changes saved!\")\n        this.scheduleOverlapComponent.stopEditing()\n      }\n    },\n    async saveChangesAsGuest(payload) {\n      /* After guest dialog is submitted, submit availability with the given name */\n      if (!this.scheduleOverlapComponent) return\n\n      if (payload.name.length > 0) {\n        await this.scheduleOverlapComponent.submitAvailability(payload)\n\n        this.showInfo(\"Changes saved!\")\n        this.scheduleOverlapComponent.resetCurUserAvailability()\n        this.scheduleOverlapComponent.stopEditing()\n        this.guestDialog = false\n        this.addingAvailabilityAsGuest = false\n      }\n    },\n\n    scheduleEvent() {\n      this.scheduleOverlapComponent?.scheduleEvent()\n    },\n    cancelScheduleEvent() {\n      this.scheduleOverlapComponent?.cancelScheduleEvent()\n    },\n    confirmScheduleEvent() {\n      this.scheduleOverlapComponent?.confirmScheduleEvent()\n    },\n\n    highlightAvailabilityBtn() {\n      if (!this.isPhone) {\n        window.scrollTo({ top: 0, behavior: \"instant\" })\n      }\n\n      this.availabilityBtnOpacity = 0.1\n      setTimeout(() => {\n        this.availabilityBtnOpacity = 1\n\n        setTimeout(() => {\n          this.availabilityBtnOpacity = 0.1\n          setTimeout(() => {\n            this.availabilityBtnOpacity = 1\n          }, 100)\n        }, 100)\n      }, 100)\n    },\n\n    /** Sign in with google to link apple calendar */\n    signInLinkApple() {\n      if (isWebview(navigator.userAgent)) {\n        // Show dialog prompting user to use a real browser\n        this.webviewDialog = true\n      } else {\n        signInGoogle({\n          state: {\n            type: authTypes.EVENT_SIGN_IN_LINK_APPLE,\n            eventId: this.eventId,\n          },\n          selectAccount: true,\n        })\n      }\n    },\n    /** Called when user adds apple calendar account */\n    addedAppleCalendar() {\n      this.choiceDialog = false\n      this.scheduleOverlapComponent?.startEditing()\n      this.scheduleOverlapComponent?.setAvailabilityAutomatically()\n    },\n\n    /** Refresh calendar availabilities of everybody in the group */\n    async fetchCalendarAvailabilities() {\n      if (this.event.type !== eventTypes.GROUP) return\n\n      // this.calendarAvailabilities = {}\n      const curWeekOffset = this.weekOffset\n      return getCalendarEventsMap(this.event, {\n        weekOffset: curWeekOffset,\n        eventId: this.event._id,\n      })\n        .then((calendarAvailabilities) => {\n          // Don't update calendar availabilities if user\n          // selected a different weekoffset by the time these calendar events load\n          if (curWeekOffset !== this.weekOffset) return\n\n          this.calendarAvailabilities = calendarAvailabilities\n\n          // Fix DST bug\n          for (const userId in this.calendarAvailabilities) {\n            for (const index in this.calendarAvailabilities[userId]) {\n              const event = this.calendarAvailabilities[userId][index]\n              const startDate = new Date(event.startDate)\n              const endDate = new Date(event.endDate)\n              if (!isDstObserved(startDate)) {\n                startDate.setHours(startDate.getHours() - 1)\n                endDate.setHours(endDate.getHours() - 1)\n              }\n              this.calendarAvailabilities[userId][index].startDate =\n                startDate.toISOString()\n              this.calendarAvailabilities[userId][index].endDate =\n                endDate.toISOString()\n            }\n          }\n        })\n        .catch((err) => {\n          console.error(err)\n        })\n    },\n\n    /** Fetch current user's calendar events */\n    async fetchAuthUserCalendarEvents() {\n      if (!this.authUser) {\n        this.calendarPermissionGranted = false\n        return\n      }\n\n      // this.calendarEventsMap = {}\n      const curWeekOffset = this.weekOffset\n      return getCalendarEventsMap(this.event, { weekOffset: curWeekOffset })\n        .then((eventsMap) => {\n          // If all calendars have error, then set calendarPermissionGranted to false\n          // TODO: What happens if user signed in without enabling calendar??\n          // let noError = false\n          // for (const key in eventsMap) {\n          //   if (!eventsMap[key].error) {\n          //     noError = true\n          //     break\n          //   }\n          // }\n          // if (!noError) {\n          //   this.calendarPermissionGranted = false\n          //   return\n          // }\n\n          // Don't set calendar events / set availability if user has already\n          // selected a different weekoffset by the time these calendar events load\n          if (curWeekOffset !== this.weekOffset) return\n\n          this.calendarEventsMap = eventsMap\n\n          // Fix DST bug\n          if (this.event.type === eventTypes.GROUP) {\n            for (const calendarId in this.calendarEventsMap) {\n              for (const index in this.calendarEventsMap[calendarId]\n                .calendarEvents) {\n                const event =\n                  this.calendarEventsMap[calendarId].calendarEvents[index]\n                const startDate = new Date(event.startDate)\n                const endDate = new Date(event.endDate)\n                if (!isDstObserved(startDate)) {\n                  startDate.setHours(startDate.getHours() - 1)\n                  endDate.setHours(endDate.getHours() - 1)\n                }\n                this.calendarEventsMap[calendarId].calendarEvents[\n                  index\n                ].startDate = startDate.toISOString()\n                this.calendarEventsMap[calendarId].calendarEvents[\n                  index\n                ].endDate = endDate.toISOString()\n              }\n            }\n          }\n\n          // Set user availability automatically if we're in editing mode and they haven't responded\n          if (\n            this.authUser &&\n            this.isEditing &&\n            !this.userHasResponded &&\n            !this.areUnsavedChanges &&\n            this.scheduleOverlapComponent\n          ) {\n            this.$nextTick(() => {\n              this.scheduleOverlapComponent?.setAvailabilityAutomatically()\n            })\n          }\n\n          // calendar permission granted is false when every calendar in the calendar map has an error, true otherwise\n          this.calendarPermissionGranted = !Object.values(\n            this.calendarEventsMap\n          ).every((c) => Boolean(c.error))\n\n          if (!this.hasRefetchedAuthUserCalendarEvents) {\n            const hasAtLeastOneError = Object.values(\n              this.calendarEventsMap\n            ).some((c) => Boolean(c.error))\n\n            // Refetch calendar if there is an error\n            if (hasAtLeastOneError) {\n              this.hasRefetchedAuthUserCalendarEvents = true\n              setTimeout(() => {\n                this.fetchAuthUserCalendarEvents()\n              }, 1000)\n            }\n          }\n        })\n        .catch((err) => {\n          console.error(err)\n          this.calendarPermissionGranted = false\n        })\n    },\n\n    /** Refreshes calendar avaliabilities and fetches current user calendar events */\n    refreshCalendar() {\n      const promises = []\n      promises.push(this.fetchCalendarAvailabilities())\n      promises.push(this.fetchAuthUserCalendarEvents())\n\n      const curWeekOffset = this.weekOffset\n      this.loading = true\n      Promise.allSettled(promises).then(() => {\n        // Only set loading to false if promises resolved at the same week offset they were fetched at\n        // i.e. no new promises are currently being run\n        if (curWeekOffset === this.weekOffset) {\n          this.loading = false\n        }\n      })\n    },\n\n    /** Resets week offset to 0 */\n    resetWeekOffset() {\n      if (this.event && this.event.startOnMonday) {\n        this.weekOffset = 1\n      } else {\n        this.weekOffset = 0\n      }\n    },\n\n    onBeforeUnload(e) {\n      if (this.areUnsavedChanges) {\n        e.preventDefault()\n        e.returnValue = \"\"\n        return\n      }\n\n      delete e[\"returnValue\"]\n    },\n\n    handleGuestDialogSubmit(guestPayload) {\n      this.saveChangesAsGuest(guestPayload)\n    },\n\n    // -----------------------------------\n    //#region Sign Up Form\n    // -----------------------------------\n\n    initiateSignUpFlow(signUpBlock) {\n      this.currSignUpBlock = signUpBlock\n      this.signUpForSlotDialog = true\n    },\n\n    async signUpForBlock(guestPayload) {\n      let payload\n\n      if (this.authUser) {\n        payload = {\n          guest: false,\n          signUpBlockIds: [this.currSignUpBlock._id],\n        }\n      } else {\n        payload = {\n          guest: true,\n          signUpBlockIds: [this.currSignUpBlock._id],\n          ...guestPayload,\n        }\n      }\n\n      await post(`/events/${this.event._id}/response`, payload)\n      await this.refreshEvent()\n\n      this.scheduleOverlapComponent.resetSignUpForm()\n      this.signUpForSlotDialog = false\n    },\n\n    //#endregion\n  },\n\n  async created() {\n    window.addEventListener(\"beforeunload\", this.onBeforeUnload)\n\n    // Get event details\n    try {\n      await this.refreshEvent()\n\n      // Redirect if we're at the wrong route\n      if (this.event.type === eventTypes.GROUP) {\n        if (this.$route.name === \"event\") {\n          this.$router.replace({\n            name: \"group\",\n            params: {\n              groupId: this.eventId,\n              initialTimezone: this.initialTimezone,\n              fromSignIn: this.fromSignIn,\n              contactsPayload: this.contactsPayload,\n            },\n          })\n        }\n      } else {\n        if (this.$route.name === \"group\") {\n          this.$router.replace({\n            name: \"event\",\n            params: {\n              eventId: this.eventId,\n              initialTimezone: this.initialTimezone,\n              fromSignIn: this.fromSignIn,\n              contactsPayload: this.contactsPayload,\n            },\n          })\n        }\n      }\n\n      const fromEditEvent = localStorage.getItem(\n        `from-edit-event-${this.event._id}`\n      )\n      if (fromEditEvent) {\n        localStorage.removeItem(`from-edit-event-${this.event._id}`)\n        this.fromEditEvent = true\n      }\n    } catch (err) {\n      switch (err.error) {\n        case errors.EventNotFound:\n          this.showError(\"The specified event does not exist!\")\n          this.$router.replace({ name: \"home\" })\n          return\n      }\n    }\n\n    const promises = []\n    promises.push(this.fetchCalendarAvailabilities())\n    promises.push(this.fetchAuthUserCalendarEvents())\n\n    this.loading = true\n    Promise.allSettled(promises).then(() => {\n      this.loading = false\n    })\n\n    get(\"/user/profile\")\n      .then((authUser) => {\n        this.setAuthUser(authUser)\n      })\n      .catch(() => {\n        this.setAuthUser(null)\n      })\n  },\n\n  beforeDestroy() {\n    window.removeEventListener(\"beforeunload\", this.onBeforeUnload)\n  },\n\n  watch: {\n    event() {\n      if (this.event) {\n        this.resetWeekOffset()\n        this.$nextTick(() => {\n          this.scheduleOverlapComponent = this.$refs.scheduleOverlap\n        })\n        document.title = `${this.event.name} - Schej`\n      }\n    },\n    scheduleOverlapComponent() {\n      if (!this.scheduleOverlapComponentLoaded) {\n        this.scheduleOverlapComponentLoaded = true\n\n        // Put into editing mode if just signed in\n        if ((this.fromSignIn || this.editingMode) && !this.isGroup) {\n          this.scheduleOverlapComponent.startEditing()\n        }\n\n        if (this.isGroup && !this.userHasResponded) {\n          this.invitationDialog = true\n        }\n      }\n    },\n    weekOffset() {\n      this.refreshCalendar()\n    },\n    [`authUser.calendarAccounts`]() {\n      this.fetchAuthUserCalendarEvents()\n    },\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Event.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Event.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Event.vue?vue&type=template&id=bae6a5cc\"\nimport script from \"./Event.vue?vue&type=script&lang=js\"\nexport * from \"./Event.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["model","value","choiceDialog","_vm","expression","_c","callback","webviewDialog","handleGuestDialogSubmit","attrs","signUpForBlock","$$v","isGroup","refreshEvent","invitationDialog","pagesNotVisitedDialog","staticClass","on","click","saveChanges","_v","isSettingSpecificTimes","event","name","helpDialog","scopedSlots","fn","proxy","isPhone","isEditing","style","class","opacity","ref","calendarEventsMap","curGuestId","$event","update:week-offset","weekOffset","addAvailability","addAvailabilityAsGuest","deleteAvailability","showFeedbackBtn","staticRenderFns","$emit","formValid","submit","collectEmails","_k","render","emits","props","type","Boolean","required","Object","respondents","Array","data","email","nameRules","emailRules","computed","$vuetify","methods","includes","validateEmail","$nextTick","$refs","form","validate","watch","resetValidation","component","components","SignUpBlock","signUpBlock","mapState","console","log","directives","rawName","state","CHOICES","autofillWithGcal","autofillWithApple","autofillWithOutlook","require","authUser","_self","staticStyle","_s","text","String","default","SignInGoogleBtn","initialState","CalendarPermissionsCard","CreateAccount","AppleCredentials","states","GCAL_PERMISSIONS","CREATE_ACCOUNT_APPLE","APPLE_CREDENTIALS","mapActions","setAvailabilityManually","$posthog","capture","showChoices","setTimeout","toggleSubCalendarAccount","membersToShareWith","user","goHome","acceptInvitation","key","rejectDialog","rejectInvitation","group","calendarPermissionGranted","CalendarAccounts","UserChip","calendarAccounts","mounted","JSON","parse","stringify","isOwner","_id","ownerId","attendees","filter","u","declined","$router","push","post","then","res","replace","payload","generateEnabledCalendarsPayload","toggleCalendarAccount","calendarType","enabled","subCalendars","subCalendarId","showDescription","_l","description","split","canEdit","newDescription","saveDescription","lineHeight","oldEvent","newEvent","eventPayload","duration","dates","put","catch","err","error","showError","eventId","fromSignIn","editingMode","linkApple","initialTimezone","contactsPayload","GuestDialog","SignUpForSlotDialog","ScheduleOverlap","NewDialog","SignInNotSupportedDialog","MarkAvailabilityDialog","InvitationDialog","HelpDialog","EventDescription","fromEditEvent","guestDialog","signUpForSlotDialog","editEventDialog","loading","scheduleOverlapComponent","scheduleOverlapComponentLoaded","addingAvailabilityAsGuest","availabilityBtnOpacity","hasRefetchedAuthUserCalendarEvents","calendarAvailabilities","currSignUpBlock","keys","length","allowScheduleEvent","calendarTypes","dateString","getDateRangeStringForEvent","editing","isScheduling","scheduling","isSpecificDates","eventTypes","SPECIFIC_DATES","isWeekly","DOW","GROUP","isSignUp","isSignUpForm","eventType","areUnsavedChanges","unsavedChanges","userHasResponded","responses","selectedGuestRespondent","numResponses","actionButtonText","mobileGuestActionButtonText","blindAvailabilityEnabled","mobileActionButtonText","isIOS","SET_SPECIFIC_TIMES","mapMutations","daysOnly","startEditing","setAvailabilityAutomatically","cancelEditing","resetSignUpForm","resetCurUserAvailability","stopEditing","copyLink","navigator","clipboard","writeText","window","location","origin","shortId","showInfo","editEvent","sanitizedId","replaceAll","get","processEvent","GOOGLE","isWebview","userAgent","signInParams","authTypes","GROUP_ADD_AVAILABILITY","EVENT_ADD_AVAILABILITY","selectAccount","requestCalendarPermission","signInGoogle","OUTLOOK","signInOutlook","editGuestAvailability","populateUserAvailability","ignorePagesNotVisited","pageHasChanged","hasPages","saveChangesAsGuest","changesPersisted","submitNewSignUpBlocks","submitAvailability","scheduleEvent","cancelScheduleEvent","confirmScheduleEvent","highlightAvailabilityBtn","scrollTo","top","behavior","signInLinkApple","EVENT_SIGN_IN_LINK_APPLE","addedAppleCalendar","fetchCalendarAvailabilities","curWeekOffset","getCalendarEventsMap","userId","index","startDate","Date","endDate","isDstObserved","setHours","getHours","toISOString","fetchAuthUserCalendarEvents","eventsMap","calendarId","calendarEvents","values","every","c","hasAtLeastOneError","some","refreshCalendar","promises","Promise","allSettled","resetWeekOffset","startOnMonday","onBeforeUnload","e","preventDefault","returnValue","guestPayload","initiateSignUpFlow","guest","signUpBlockIds","created","addEventListener","$route","params","groupId","localStorage","getItem","removeItem","errors","EventNotFound","setAuthUser","beforeDestroy","removeEventListener","scheduleOverlap","document","title"],"sourceRoot":""}