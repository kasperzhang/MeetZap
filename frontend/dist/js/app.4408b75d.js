(function(){var t={2491:function(t,e,s){"use strict";s.d(e,{A:function(){return d}});var i=s(6930),a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tw-flex tw-items-start tw-gap-1 tw-rounded tw-bg-light-gray tw-p-2 tw-text-dark-gray"},[e(i.A,{staticClass:"-tw-mt-px tw-text-base"},[t._v("mdi-alert-circle")]),e("span",[t._t("default")],2)],1)},n=[],o=s(1656),r={},l=(0,o.A)(r,a,n,!1,null,null,null),d=l.exports},8166:function(t,e,s){"use strict";s.d(e,{A:function(){return c}});var i=s(3942),a=function(){var t=this,e=t._self._c;return e("div",[e(i.A,{ref:"datePicker",staticClass:"tw-min-w-full tw-rounded-md tw-border-0 tw-drop-shadow sm:tw-min-w-0",attrs:{pickerDate:t.pickerDate,value:t.value,readonly:"","no-title":"",multiple:"",color:"primary","show-current":!1,min:t.minCalendarDate,"full-width":"",scrollable:!1,locale:"zh-CN"},on:{"update:pickerDate":function(e){t.pickerDate=e},"update:picker-date":function(e){t.pickerDate=e},"touchstart:date":t.touchstart,"mousedown:date":t.mousedown,"mouseover:date":t.mouseover}})],1)},n=[],o={name:"DatePicker",props:{value:{type:Array,required:!0},minCalendarDate:{type:String,default:""}},data(){return{datePickerEl:null,dragging:!1,dragState:"add",dragStates:{ADD:"add",REMOVE:"remove"},pickerDate:""}},methods:{mousedown(t){this.dragging=!0,this.setDragState(t),this.addRemoveDate(t)},touchstart(t){this.dragging=!0,this.setDragState(t),this.addRemoveDate(t)},mouseover(t){this.dragging&&this.addRemoveDate(t)},touchmove(t){if(this.dragging){t.preventDefault();var e=document.elementFromPoint(t.changedTouches[0].clientX,t.changedTouches[0].clientY);if(e&&this.datePickerEl.contains(e)&&e.classList.contains("v-btn__content")){const t=parseInt(e.innerHTML);if(NaN!=t){const e=`${t}`,s=`${this.pickerDate}-${e.padStart(2,"0")}`;this.addRemoveDate(s)}}}},mouseup(t){this.dragging&&(t.preventDefault(),t.stopPropagation(),this.dragging=!1)},setDragState(t){const e=new Set(this.value);e.has(t)?this.dragState=this.dragStates.REMOVE:this.dragState=this.dragStates.ADD},addRemoveDate(t){this.dragState===this.dragStates.ADD?this.addDate(t):this.dragState===this.dragStates.REMOVE&&this.removeDate(t)},addDate(t){const e=new Set(this.value);e.add(t),this.$emit("input",[...e])},removeDate(t){const e=new Set(this.value);e.delete(t),this.$emit("input",[...e])}},mounted(){this.datePickerEl=this.$refs.datePicker.$el,this.datePickerEl.addEventListener("mouseup",this.mouseup),this.datePickerEl.addEventListener("touchmove",this.touchmove),this.datePickerEl.addEventListener("touchend",this.mouseup,{capture:!0})},beforeDestroy(){this.datePickerEl.removeEventListener("mouseup",this.mouseup),this.datePickerEl.removeEventListener("touchmove",this.touchmove),this.datePickerEl.removeEventListener("touchend",this.mouseup)}},r=o,l=s(1656),d=(0,l.A)(r,a,n,!1,null,null,null),c=d.exports},173:function(t,e,s){"use strict";s.d(e,{A:function(){return m}});var i=s(3740),a=s(5961),n=s(6930),o=s(1034),r=function(){var t=this,e=t._self._c;return e("div",[e(i.A,{staticClass:"-tw-ml-2 tw-w-[calc(100%+1rem)] tw-justify-between tw-px-2",attrs:{block:"",text:""},on:{click:t.toggle}},[e("span",{staticClass:"-tw-ml-px tw-mr-1",class:t.labelClass},[t._v(" "+t._s(t.label)+" ")]),e(o.A),e(n.A,{class:`tw-rotate-${t.value?"180":"0"} ${t.iconClass}`,attrs:{size:30}},[t._v("mdi-chevron-down")])],1),e(a.Qo,[e("div",{directives:[{name:"show",rawName:"v-show",value:t.value,expression:"value"}]},[t._t("default")],2)]),e("div",{ref:"scrollTo"})],1)},l=[],d={name:"ExpandableSection",props:{value:{type:Boolean,required:!0},label:{type:String,default:""},labelClass:{type:String,default:"tw-text-base"},iconClass:{type:String,default:""},autoScroll:{type:Boolean,default:!1}},methods:{toggle(){this.$emit("input",!this.value)},scrollToElement(t){this.autoScroll&&t&&setTimeout((()=>t.scrollIntoView({behavior:"smooth"})),200)}},watch:{value(){this.value&&this.scrollToElement(this.$refs.scrollTo)}}},c=d,h=s(1656),u=(0,h.A)(c,r,l,!1,null,null,null),m=u.exports},9205:function(t,e,s){"use strict";s.d(e,{A:function(){return p}});var i=s(3740),a=s(3698),n=s(2938),o=s(1289),r=s(1034),l=function(){var t=this,e=t._self._c;return e(o.A,{attrs:{value:t.value,width:"425","content-class":"tw-m-0"},on:{input:e=>t.$emit("input",e)}},[e(a.A,[e(n.ri,[t._t("header",(function(){return[t._v("Help")]}))],2),e(n.OQ,[t._t("default")],2),e(n.SL,[e(r.A),e(i.A,{attrs:{text:""},on:{click:function(e){return t.$emit("input",!1)}}},[t._v("Ok")])],1)],1)],1)},d=[],c={name:"HelpDialog",props:{value:{type:Boolean,required:!0}}},h=c,u=s(1656),m=(0,u.A)(h,l,d,!1,null,null,null),p=m.exports},2083:function(t,e,s){"use strict";s.d(e,{A:function(){return nt}});var i=s(3740),a=s(3698),n=s(1289),o=s(6930),r=s(1034),l=function(){var t=this,e=t._self._c;return e(n.A,{attrs:{value:t.value,"no-click-animation":"",persistent:"","content-class":"tw-max-w-[28rem]",fullscreen:t.isPhone,scrollable:"",transition:t.isPhone?"dialog-bottom-transition":"dialog-transition"},on:{"click:outside":t.handleDialogInput}},[e("UnsavedChangesDialog",{on:{leave:t.exitDialog},model:{value:t.unsavedChangesDialog,callback:function(e){t.unsavedChangesDialog=e},expression:"unsavedChangesDialog"}}),e(a.A,{staticClass:"tw-pt-4"},[t._noTabs?t._e():e("div",{staticClass:"tw-flex tw-rounded sm:-tw-mt-4 sm:tw-px-8"},[e("div",{staticClass:"tw-pt-4"},t._l(t.tabs,(function(s){return e(i.A,{key:s.type,class:"tw-text-xs tw-text-dark-gray tw-transition-all "+(s.type==t.tab?"tw-bg-ligher-green tw-text-green":""),attrs:{"tab-value":s.type,text:"",small:""},on:{click:()=>t.tab=s.type}},[t._v(" "+t._s(s.title)+" ")])})),1),e(r.A),e(i.A,{staticClass:"tw-right-0 tw-mr-2 tw-self-center",attrs:{absolute:"",icon:""},on:{click:function(e){return t.$emit("input",!1)}}},[e(o.A,[t._v("mdi-close")])],1)],1),["event"===t.tab?e("NewEvent",{key:"event",ref:"event",attrs:{event:t.event,edit:t.edit,contactsPayload:"event"==this.type?t.contactsPayload:{},"show-help":!t._noTabs,"folder-id":t.folderId},on:{input:t.handleDialogInput,signIn:function(e){return t.$emit("signIn")}}}):"group"===t.tab?e("NewGroup",{key:"group",ref:"group",attrs:{event:t.event,edit:t.edit,"show-help":!t._noTabs,"folder-id":t.folderId,contactsPayload:"group"==this.type?t.contactsPayload:{}},on:{input:t.handleDialogInput}}):t._e(),"signup"===t.tab?e("NewSignUp",{key:"signup",ref:"signup",attrs:{event:t.event,edit:t.edit,"show-help":!t._noTabs,"folder-id":t.folderId,contactsPayload:"signup"==this.type?t.contactsPayload:{}},on:{input:t.handleDialogInput}}):t._e()]],2)],1)},d=[],c=(s(4114),s(5985)),h=s(8515),u=s(2938),m=function(){var t=this,e=t._self._c;return e(n.A,{attrs:{value:t.value,width:"400","content-class":"tw-m-0"},on:{input:e=>t.$emit("input",e)}},[e(a.A,[e(u.ri,[t._v("Unsaved changes")]),e(u.OQ,[e("div",[t._v("Are you sure you want to leave this page?")]),e("div",[t._v("Changes you made will not be saved.")])]),e(u.SL,[e(r.A),e(i.A,{staticClass:"tw-text-green",attrs:{text:""},on:{click:function(e){return t.$emit("input",!1)}}},[t._v("Cancel")]),e(i.A,{attrs:{text:""},on:{click:function(e){return t.$emit("leave")}}},[t._v("Leave page")])],1)],1)],1)},p=[],w={name:"UnsavedChangesDialog",props:{value:{type:Boolean,required:!0}}},g=w,v=s(1656),f=(0,v.A)(g,m,p,!1,null,null,null),y=f.exports,b=s(3501),A=s(6092),C=s(5961),T=s(174),x=s(1546),k=s(1844),E=s(7112),D=function(){var t=this,e=t._self._c;return e(a.A,{staticClass:"tw-relative tw-flex tw-max-w-[28rem] tw-flex-col tw-overflow-hidden tw-rounded-lg tw-transition-all",class:{"tw-py-4":!t.dialog,"tw-flex-1":t.dialog},attrs:{flat:t.dialog}},[e(u.ri,{staticClass:"tw-mb-2 tw-flex tw-gap-2 tw-px-4 sm:tw-px-8"},[e("div",[e("div",{staticClass:"tw-mb-1"},[t._v(" "+t._s(t.edit?"Edit group":"New group")+" ")]),t.dialog&&t.showHelp?e("div",{staticClass:"tw-text-xs tw-font-normal tw-italic tw-text-dark-gray"},[t._v(" Ideal for viewing weekly calendar availability ")]):t._e()]),e(r.A),t.dialog?[t.showHelp?e(i.A,{attrs:{icon:""},on:{click:function(e){t.helpDialog=!0}}},[e(o.A,[t._v("mdi-information-outline")])],1):e(i.A,{attrs:{icon:""},on:{click:function(e){return t.$emit("input",!1)}}},[e(o.A,[t._v("mdi-close")])],1),e("HelpDialog",{scopedSlots:t._u([{key:"header",fn:function(){return[t._v("Availability groups")]},proxy:!0}],null,!1,2127907199),model:{value:t.helpDialog,callback:function(e){t.helpDialog=e},expression:"helpDialog"}},[e("div",{staticClass:"mb-4"},[t._v(" Use availability groups to see group members' weekly calendar availabilities from Google Calendar. Your actual calendar events will NOT be visible to others. ")])])]:t._e()],2),e(u.OQ,{staticClass:"tw-flex-1 tw-overflow-auto tw-px-4 tw-py-1 sm:tw-px-8"},[e(T.A,{ref:"form",staticClass:"tw-flex tw-flex-col tw-space-y-6",attrs:{"lazy-validation":"",disabled:t.loading},model:{value:t.formValid,callback:function(e){t.formValid=e},expression:"formValid"}},[e(E.A,{ref:"name-field",attrs:{placeholder:"Name your group...","hide-details":"auto",solo:"",rules:t.nameRules,required:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.blurNameField.apply(null,arguments)}},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),e("div",[e("div",{staticClass:"tw-mb-2 tw-text-lg tw-text-black"},[t._v("Time range")]),e("div",{staticClass:"tw-flex tw-items-baseline tw-justify-center tw-space-x-2"},[e(k.A,{attrs:{"menu-props":"auto",items:t.times,"hide-details":"",solo:""},model:{value:t.startTime,callback:function(e){t.startTime=e},expression:"startTime"}}),e("div",[t._v("to")]),e(k.A,{attrs:{"menu-props":"auto",items:t.times,"hide-details":"",solo:""},model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}})],1)]),e("div",[e("div",{staticClass:"tw-mb-2 tw-text-lg tw-text-black"},[t._v("Day range")]),e(x.A,{attrs:{"hide-details":"auto",rules:t.selectedDaysRules},model:{value:t.selectedDaysOfWeek,callback:function(e){t.selectedDaysOfWeek=e},expression:"selectedDaysOfWeek"}},[e(b.A,{attrs:{multiple:"",solo:"",color:"primary"},model:{value:t.selectedDaysOfWeek,callback:function(e){t.selectedDaysOfWeek=e},expression:"selectedDaysOfWeek"}},[e(i.A,{directives:[{name:"show",rawName:"v-show",value:!t.startOnMonday,expression:"!startOnMonday"}],attrs:{depressed:""}},[t._v(" Sun ")]),e(i.A,{attrs:{depressed:""}},[t._v(" Mon ")]),e(i.A,{attrs:{depressed:""}},[t._v(" Tue ")]),e(i.A,{attrs:{depressed:""}},[t._v(" Wed ")]),e(i.A,{attrs:{depressed:""}},[t._v(" Thu ")]),e(i.A,{attrs:{depressed:""}},[t._v(" Fri ")]),e(i.A,{attrs:{depressed:""}},[t._v(" Sat ")]),e(i.A,{directives:[{name:"show",rawName:"v-show",value:t.startOnMonday,expression:"startOnMonday"}],attrs:{depressed:""}},[t._v(" Sun ")])],1)],1),e(A.A,{staticClass:"tw-mt-2",attrs:{"hide-details":""},scopedSlots:t._u([{key:"label",fn:function(){return[e("span",{staticClass:"tw-text-sm tw-text-very-dark-gray"},[t._v(" Start on Monday ")])]},proxy:!0}]),model:{value:t.startOnMonday,callback:function(e){t.startOnMonday=e},expression:"startOnMonday"}})],1),e("EmailInput",{ref:"emailInput",attrs:{addedEmails:t.addedEmails},on:{"update:emails":e=>t.emails=e,requestContactsAccess:t.requestContactsAccess},scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticClass:"tw-mb-2 tw-text-lg tw-text-black"},[t._v("Members")])]},proxy:!0}])}),e("div",[e(i.A,{staticClass:"tw-justify-start tw-pl-0",attrs:{block:"",text:""},on:{click:function(e){t.showAdvancedOptions=!t.showAdvancedOptions}}},[e("span",{staticClass:"tw-mr-1"},[t._v("Advanced options")]),e(o.A,{class:"tw-rotate-"+(t.showAdvancedOptions?"180":"0")},[t._v("mdi-chevron-down")])],1),e(C.Qo,[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showAdvancedOptions,expression:"showAdvancedOptions"}]},[e("div",{staticClass:"tw-my-2"},[e("TimezoneSelector",{attrs:{label:"Timezone"},model:{value:t.timezone,callback:function(e){t.timezone=e},expression:"timezone"}})],1)])])],1)],1)],1),e(u.SL,{staticClass:"tw-relative tw-px-4 sm:tw-px-8"},[e("div",{staticClass:"tw-relative tw-w-full"},[e(i.A,{staticClass:"tw-mt-4 tw-bg-green",attrs:{disabled:!t.formValid,block:"",loading:t.loading,color:"primary"},on:{click:t.submit}},[t._v(" "+t._s(t.edit?"Save edits":"Create group")+" ")]),e("div",{staticClass:"tw-mt-1 tw-text-xs tw-text-red",class:t.formValid?"tw-invisible":"tw-visible"},[t._v(" Please fix form errors before continuing ")])],1)])],1)},S=[],_=s(5353),O=s(6638),I=s(9205),U=s(1936),B=s(7202),P=s(8368),R=s(4353),N=s.n(R),j=s(3826),M=s.n(j),L=s(8569),H=s.n(L);N().extend(M()),N().extend(H());var z={name:"NewGroup",emits:["input"],props:{event:{type:Object},edit:{type:Boolean,default:!1},dialog:{type:Boolean,default:!0},showHelp:{type:Boolean,default:!1},contactsPayload:{type:Object,default:()=>({})},folderId:{type:String,default:null}},components:{HelpDialog:I.A,TimezoneSelector:B.A,EmailInput:P.A,CalendarPermissionsCard:U.A},data:()=>({formValid:!0,name:"",startTime:9,endTime:17,loading:!1,selectedDaysOfWeek:[],startOnMonday:!1,emails:[],showAdvancedOptions:!1,timezone:{},helpDialog:!1,initialEventData:{}}),computed:{...(0,_.aH)(["authUser"]),nameRules(){return[t=>!!t||"Group name is required"]},selectedDaysRules(){return[t=>t.length>0||"Please select at least one day"]},formEmpty(){return""===this.name&&0===this.emails.length&&0===this.selectedDaysOfWeek.length},isPhone(){return(0,c.tp)(this.$vuetify)},times(){const t=[];for(let e=1;e<12;++e)t.push({text:`${e} am`,value:e});for(let e=0;e<12;++e)t.push({text:`${0==e?12:e} pm`,value:e+12});return t.push({text:"12 am",value:0}),t},otherEventAttendees(){return this.event&&this.event.attendees?this.event.attendees.map((t=>t.email)).filter((t=>t!==this.authUser.email)):[]},addedEmails(){return Object.keys(this.contactsPayload).length>0?this.contactsPayload.emails:this.otherEventAttendees}},mounted(){Object.keys(this.contactsPayload).length>0&&(this.name=this.contactsPayload.name,this.startTime=this.contactsPayload.startTime,this.endTime=this.contactsPayload.endTime,this.selectedDaysOfWeek=this.contactsPayload.selectedDaysOfWeek,this.startOnMonday=this.contactsPayload.startOnMonday,this.$refs.form.resetValidation())},methods:{...(0,_.i0)(["showError","setEventFolder"]),blurNameField(){this.$refs["name-field"].blur()},reset(){this.name="",this.startTime=9,this.endTime=17,this.selectedDaysOfWeek=[],this.$refs.form.resetValidation()},submit(){if(!this.$refs.form.validate())return;let t=this.endTime-this.startTime;t<0&&(t+=24);const e=[],s=(0,c.f7)(this.startTime);this.selectedDaysOfWeek.sort(((t,e)=>t-e)),this.selectedDaysOfWeek=this.selectedDaysOfWeek.filter((t=>this.startOnMonday?0!==t:7!==t));for(const r of this.selectedDaysOfWeek){const t=O.Fu[r],i=N().tz(`${t} ${s}`,this.timezone.value);e.push(i.toDate())}this.loading=!0;const i=this.name,a=O.mu.GROUP,n=this.emails,o=this.startOnMonday;this.edit?(0,c.yJ)(`/events/${this.event._id}`,{name:i,duration:t,dates:e,attendees:n,type:a,startOnMonday:o}).then((()=>{this.$posthog?.capture("Availability group edited",{eventId:this.event._id,eventName:i,eventDuration:t,eventDates:JSON.stringify(e),eventAttendees:n,eventType:a,eventStartOnMonday:o}),this.$emit("input",!1),this.reset(),window.location.reload()})).catch((t=>{this.showError("There was a problem editing this group! Please try again later.")})).finally((()=>{this.loading=!1})):(0,c.bE)("/events",{name:i,duration:t,dates:e,attendees:n,type:a,startOnMonday:o,creatorPosthogId:this.$posthog?.get_distinct_id()}).then((async({eventId:s,shortId:r})=>{await this.setEventFolder({eventId:s,folderId:this.folderId}),this.$router.push({name:"group",params:{groupId:r??s,initialTimezone:this.timezone}}),this.$emit("input",!1),this.$posthog?.capture("Availability group created",{eventId:s,eventName:i,eventDuration:t,eventDates:JSON.stringify(e),eventAttendees:n,eventType:a,eventStartOnMonday:o})})).catch((t=>{this.showError("There was a problem creating that group! Please try again later."),console.error(t)})).finally((()=>{this.loading=!1}))},requestContactsAccess({emails:t}){const e={emails:t,name:this.name,startTime:this.startTime,endTime:this.endTime,selectedDaysOfWeek:this.selectedDaysOfWeek};(0,c.n3)({state:{type:O.QV.EVENT_CONTACTS,eventId:this.event?this.event.shortId??this.event._id:"",openNewGroup:!0,payload:e},requestContactsPermission:!0})},updateFieldsFromEvent(){if(this.event){this.name=this.event.name,this.startTime=Math.floor((0,c.XQ)(this.event.dates[0])),this.endTime=(this.startTime+this.event.duration)%24,this.startOnMonday=this.event.startOnMonday;const t=[];for(let e of this.event.dates)e=(0,c.Ax)(e),this.startOnMonday&&0===e.getUTCDay()?t.push(7):t.push(e.getUTCDay());this.selectedDaysOfWeek=t,this.emails=this.otherEventAttendees}},resetToEventData(){this.updateFieldsFromEvent(),this.$refs.emailInput.reset()},setInitialEventData(){this.initialEventData={name:this.name,startTime:this.startTime,endTime:this.endTime,selectedDaysOfWeek:this.selectedDaysOfWeek,emails:[...this.emails]}},hasEventBeenEdited(){return this.name!==this.initialEventData.name||this.startTime!==this.initialEventData.startTime||this.endTime!==this.initialEventData.endTime||JSON.stringify(this.selectedDaysOfWeek)!==JSON.stringify(this.initialEventData.selectedDaysOfWeek)||JSON.stringify(this.emails)!==JSON.stringify(this.initialEventData.emails)}},watch:{event:{immediate:!0,handler(){this.updateFieldsFromEvent(),this.setInitialEventData()}},formEmpty(t){this.$emit("update:formEmpty",t)}}},F=z,G=(0,v.A)(F,D,S,!1,null,null,null),$=G.exports,V=function(){var t=this,e=t._self._c;return e(a.A,{staticClass:"tw-relative tw-flex tw-max-w-[28rem] tw-flex-col tw-overflow-hidden tw-rounded-lg tw-transition-all",class:{"tw-py-4":!t.dialog,"tw-flex-1":t.dialog},attrs:{flat:t.dialog}},[e(u.ri,{staticClass:"tw-mb-2 tw-flex tw-gap-2 tw-px-4 sm:tw-px-8"},[e("div",[e("div",{staticClass:"tw-mb-1"},[t._v(" "+t._s(t.edit?"Edit sign up":"New sign up")+" ")]),t.dialog&&t.showHelp?e("div",{staticClass:"tw-text-xs tw-font-normal tw-italic tw-text-dark-gray"},[t._v(" Ideal for events with sign up slots ")]):t._e()]),e(r.A),t.dialog?[t.showHelp?e(i.A,{attrs:{icon:""},on:{click:function(e){t.helpDialog=!0}}},[e(o.A,[t._v("mdi-information-outline")])],1):e(i.A,{attrs:{icon:""},on:{click:function(e){return t.$emit("input",!1)}}},[e(o.A,[t._v("mdi-close")])],1),e("HelpDialog",{scopedSlots:t._u([{key:"header",fn:function(){return[t._v("Events")]},proxy:!0}],null,!1,1293929725),model:{value:t.helpDialog,callback:function(e){t.helpDialog=e},expression:"helpDialog"}},[e("div",{staticClass:"tw-mb-4"},[t._v(" Use events to collect people's availabilities and compare them across certain days. ")])])]:t._e()],2),e(u.OQ,{ref:"cardText",staticClass:"tw-relative tw-flex-1 tw-overflow-auto tw-px-4 tw-py-1 sm:tw-px-8"},[e(T.A,{ref:"form",staticClass:"tw-flex tw-flex-col tw-gap-y-6",attrs:{"lazy-validation":"",disabled:t.loading},model:{value:t.formValid,callback:function(e){t.formValid=e},expression:"formValid"}},[e(E.A,{ref:"name-field",attrs:{placeholder:"Name your event...","hide-details":"auto",solo:"",rules:t.nameRules,required:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.blurNameField.apply(null,arguments)}},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),e("div",[e(C.Qo,[t.daysOnly?t._e():e("div",[e("div",{staticClass:"tw-mb-2 tw-text-lg tw-text-black"},[t._v(" What times might work? ")]),e("div",{staticClass:"tw-mb-6 tw-flex tw-items-baseline tw-justify-center tw-space-x-2"},[e(k.A,{attrs:{value:t.startTime,"menu-props":"auto",items:t.times,"return-object":"","hide-details":"",solo:""},on:{input:e=>t.startTime=e.time}}),e("div",[t._v("to")]),e(k.A,{attrs:{value:t.endTime,"menu-props":"auto",items:t.times,"return-object":"","hide-details":"",solo:""},on:{input:e=>t.endTime=e.time}})],1)])]),e("div",{staticClass:"tw-mb-2 tw-text-lg tw-text-black"},[t._v(" What "+t._s(t.selectedDateOption===t.dateOptions.SPECIFIC?"dates":"days")+" might work? ")]),t.edit||t.daysOnly?t._e():e(k.A,{staticClass:"tw-mb-4",attrs:{items:Object.values(t.dateOptions),solo:"","hide-details":""},model:{value:t.selectedDateOption,callback:function(e){t.selectedDateOption=e},expression:"selectedDateOption"}}),e(C.Qo,[t.selectedDateOption===t.dateOptions.SPECIFIC||t.daysOnly?e("div",[e("div",{staticClass:"tw-mb-2 tw-text-xs tw-text-dark-gray"},[t._v(" Drag to select multiple dates ")]),e(x.A,{key:"date-picker",attrs:{"hide-details":"auto",rules:t.selectedDaysRules},model:{value:t.selectedDays,callback:function(e){t.selectedDays=e},expression:"selectedDays"}},[e("DatePicker",{attrs:{minCalendarDate:t.minCalendarDate},model:{value:t.selectedDays,callback:function(e){t.selectedDays=e},expression:"selectedDays"}})],1)],1):t.selectedDateOption===t.dateOptions.DOW?e("div",[e(x.A,{key:"days-of-week",staticClass:"tw-w-fit",attrs:{"hide-details":"auto",rules:t.selectedDaysRules},model:{value:t.selectedDaysOfWeek,callback:function(e){t.selectedDaysOfWeek=e},expression:"selectedDaysOfWeek"}},[e(b.A,{attrs:{multiple:"",solo:"",color:"primary"},model:{value:t.selectedDaysOfWeek,callback:function(e){t.selectedDaysOfWeek=e},expression:"selectedDaysOfWeek"}},[e(i.A,{directives:[{name:"show",rawName:"v-show",value:!t.startOnMonday,expression:"!startOnMonday"}],attrs:{depressed:""}},[t._v(" Sun ")]),e(i.A,{attrs:{depressed:""}},[t._v(" Mon ")]),e(i.A,{attrs:{depressed:""}},[t._v(" Tue ")]),e(i.A,{attrs:{depressed:""}},[t._v(" Wed ")]),e(i.A,{attrs:{depressed:""}},[t._v(" Thu ")]),e(i.A,{attrs:{depressed:""}},[t._v(" Fri ")]),e(i.A,{attrs:{depressed:""}},[t._v(" Sat ")]),e(i.A,{directives:[{name:"show",rawName:"v-show",value:t.startOnMonday,expression:"startOnMonday"}],attrs:{depressed:""}},[t._v(" Sun ")])],1)],1),e(A.A,{staticClass:"tw-mt-2",attrs:{"hide-details":""},scopedSlots:t._u([{key:"label",fn:function(){return[e("span",{staticClass:"tw-text-sm tw-text-very-dark-gray"},[t._v(" Start on Monday ")])]},proxy:!0}]),model:{value:t.startOnMonday,callback:function(e){t.startOnMonday=e},expression:"startOnMonday"}})],1):t._e()])],1),e(A.A,{staticClass:"tw-mt-2",attrs:{"hide-details":""},scopedSlots:t._u([{key:"label",fn:function(){return[e("span",{staticClass:"tw-text-sm tw-text-very-dark-gray"},[t._v("Email me each time someone signs up")])]},proxy:!0}]),model:{value:t.notificationsEnabled,callback:function(e){t.notificationsEnabled=e},expression:"notificationsEnabled"}}),e(A.A,{scopedSlots:t._u([{key:"label",fn:function(){return[e("span",{staticClass:"tw-text-sm tw-text-very-dark-gray"},[t._v(" Collect email address on sign up ")])]},proxy:!0}]),model:{value:t.collectEmails,callback:function(e){t.collectEmails=e},expression:"collectEmails"}}),e("div",{staticClass:"tw-flex tw-flex-col tw-gap-2"},[e("ExpandableSection",{attrs:{label:"Advanced options","auto-scroll":t.dialog},model:{value:t.showAdvancedOptions,callback:function(e){t.showAdvancedOptions=e},expression:"showAdvancedOptions"}},[e("div",{staticClass:"tw-flex tw-flex-col tw-gap-5 tw-pt-2"},[t.authUser?e(A.A,{attrs:{messages:"Only show attendees to sign up creator"},scopedSlots:t._u([{key:"label",fn:function(){return[e("span",{staticClass:"tw-text-sm tw-text-black"},[t._v(" Hide attendees from each other ")])]},proxy:!0},{key:"message",fn:function({key:s,message:i}){return[e("div",{staticClass:"-tw-mt-1 tw-ml-[32px] tw-text-xs tw-text-dark-gray"},[t._v(" "+t._s(i)+" ")])]}}],null,!1,1273382346),model:{value:t.blindAvailabilityEnabled,callback:function(e){t.blindAvailabilityEnabled=e},expression:"blindAvailabilityEnabled"}}):e(A.A,{attrs:{disabled:"",messages:"Only show responses to event creator. ","off-icon":"mdi-checkbox-blank-off-outline"},scopedSlots:t._u([{key:"label",fn:function(){return[e("span",{staticClass:"tw-text-sm"},[t._v("Hide responses from respondents")])]},proxy:!0},{key:"message",fn:function({key:s,message:i}){return[e("div",{staticClass:"tw-pointer-events-auto -tw-mt-1 tw-ml-[32px] tw-text-xs tw-text-dark-gray"},[t._v(" "+t._s(i)+" "),e("span",{staticClass:"tw-font-medium tw-text-very-dark-gray"},[e("a",{on:{click:function(e){return t.$emit("signIn")}}},[t._v("Sign in")]),t._v(" to use this feature ")])])]}}])}),e("TimezoneSelector",{attrs:{label:"Timezone"},model:{value:t.timezone,callback:function(e){t.timezone=e},expression:"timezone"}})],1)])],1)],1)],1),e(u.SL,{staticClass:"tw-relative tw-px-4 sm:tw-px-8"},[e("div",{staticClass:"tw-relative tw-w-full"},[e(i.A,{staticClass:"tw-mt-4 tw-bg-green",attrs:{disabled:!t.formValid,block:"",loading:t.loading,color:"primary"},on:{click:t.submit}},[t._v(" "+t._s(t.edit?"Save edits":"Create event")+" ")]),e("div",{staticClass:"tw-mt-1 tw-text-xs tw-text-red",class:t.formValid?"tw-invisible":"tw-visible"},[t._v(" Please fix form errors before continuing ")])],1)]),t.hasMounted?e("OverflowGradient",{staticClass:"tw-bottom-[90px]",attrs:{scrollContainer:t.$refs.cardText}}):t._e()],1)},W=[],Y=s(8166),q=s(7545),Q=s(2491),J=s(2715),X=s(173);N().extend(M()),N().extend(H());var Z={name:"NewSignUp",emits:["input"],props:{event:{type:Object},edit:{type:Boolean,default:!1},dialog:{type:Boolean,default:!0},contactsPayload:{type:Object,default:()=>({})},showHelp:{type:Boolean,default:!1}},components:{TimezoneSelector:B.A,HelpDialog:I.A,EmailInput:P.A,DatePicker:Y.A,SlideToggle:q.A,ExpandableSection:X.A,AlertText:Q.A,OverflowGradient:J.A},data:()=>({formValid:!0,name:"",startTime:9,endTime:17,loading:!1,selectedDays:[],selectedDaysOfWeek:[],startOnMonday:!1,notificationsEnabled:!1,daysOnly:!1,daysOnlyOptions:Object.freeze([{text:"Dates and times",value:!1},{text:"Dates only",value:!0}]),dateOptions:Object.freeze({SPECIFIC:"Specific dates",DOW:"Days of the week"}),selectedDateOption:"Specific dates",showEmailReminders:!1,emails:[],showAdvancedOptions:!1,collectEmails:!1,blindAvailabilityEnabled:!1,timezone:{},sendEmailAfterXResponsesEnabled:!1,sendEmailAfterXResponses:3,helpDialog:!1,initialEventData:{},hasMounted:!1}),mounted(){Object.keys(this.contactsPayload).length>0&&(this.toggleEmailReminders(!0),this.name=this.contactsPayload.name,this.startTime=this.contactsPayload.startTime,this.endTime=this.contactsPayload.endTime,this.daysOnly=this.contactsPayload.daysOnly,this.selectedDateOption=this.contactsPayload.selectedDateOption,this.selectedDaysOfWeek=this.contactsPayload.selectedDaysOfWeek,this.selectedDays=this.contactsPayload.selectedDays,this.notificationsEnabled=this.contactsPayload.notificationsEnabled,this.timezone=this.contactsPayload.timezone,this.$refs.form.resetValidation()),this.$nextTick((()=>{this.hasMounted=!0}))},computed:{...(0,_.aH)(["authUser","daysOnlyEnabled"]),nameRules(){return[t=>!!t||"Event name is required"]},selectedDaysRules(){return[t=>t.length>0||"Please select at least one day"]},addedEmails(){return Object.keys(this.contactsPayload).length>0?this.contactsPayload.emails:this.event&&this.event.remindees?this.event.remindees.map((t=>t.email)):[]},times(){return(0,c.Sk)()},minCalendarDate(){if(this.edit)return"";let t=new Date,e=String(t.getDate()).padStart(2,"0"),s=String(t.getMonth()+1).padStart(2,"0"),i=t.getFullYear();return i+"-"+s+"-"+e},isPhone(){return(0,c.tp)(this.$vuetify)}},methods:{...(0,_.i0)(["showError"]),blurNameField(){this.$refs["name-field"].blur()},reset(){this.name="",this.startTime=9,this.endTime=17,this.selectedDays=[],this.selectedDaysOfWeek=[],this.notificationsEnabled=!1,this.daysOnly=!1,this.selectedDateOption="Specific dates",this.emails=[],this.showAdvancedOptions=!1,this.blindAvailabilityEnabled=!1,this.sendEmailAfterXResponsesEnabled=!1,this.sendEmailAfterXResponses=3,this.collectEmails=!1,this.$refs.form.resetValidation()},submit(){if(!this.$refs.form.validate())return;this.selectedDays.sort();let t=this.endTime-this.startTime;t<=0&&(t+=24);let e=[],s="";if(this.daysOnly){t=0,s=O.mu.SIGNUP;for(const t of this.selectedDays){const s=new Date(`${t} 00:00:00Z`);e.push(s)}}else{const t=(0,c.f7)(this.startTime);if(this.selectedDateOption===this.dateOptions.SPECIFIC){s=O.mu.SPECIFIC_DATES;for(const s of this.selectedDays){const i=N().tz(`${s} ${t}`,this.timezone.value);e.push(i.toDate())}}else if(this.selectedDateOption===this.dateOptions.DOW){s=O.mu.DOW,this.selectedDaysOfWeek.sort(((t,e)=>t-e)),this.selectedDaysOfWeek=this.selectedDaysOfWeek.filter((t=>this.startOnMonday?0!==t:7!==t));for(const s of this.selectedDaysOfWeek){const i=O.Fu[s],a=N().tz(`${i} ${t}`,this.timezone.value);e.push(a.toDate())}}}this.loading=!0;const i={name:this.name,duration:t,dates:e,notificationsEnabled:this.notificationsEnabled,blindAvailabilityEnabled:this.blindAvailabilityEnabled,daysOnly:this.daysOnly,remindees:this.emails,type:s,isSignUpForm:!0,sendEmailAfterXResponses:this.sendEmailAfterXResponsesEnabled?parseInt(this.sendEmailAfterXResponses):-1,collectEmails:this.collectEmails,startOnMonday:this.startOnMonday,creatorPosthogId:this.$posthog?.get_distinct_id()},a={eventName:this.name,eventDuration:t,eventDates:JSON.stringify(e),eventNotificationsEnabled:this.notificationsEnabled,eventBlindAvailabilityEnabled:this.blindAvailabilityEnabled,eventDaysOnly:this.daysOnly,eventRemindees:this.emails,eventType:s,eventIsSignUpForm:!0,eventSendEmailAfterXResponses:this.sendEmailAfterXResponsesEnabled?parseInt(this.sendEmailAfterXResponses):-1,eventCollectEmails:this.collectEmails,eventStartOnMonday:this.startOnMonday};this.edit?this.event&&(0,c.yJ)(`/events/${this.event._id}`,i).then((()=>{a.eventId=this.event._id,this.$posthog?.capture("Sign up form edited",a),this.$emit("input",!1),this.reset(),window.location.reload()})).catch((t=>{this.showError("There was a problem editing this event! Please try again later.")})).finally((()=>{this.loading=!1})):(0,c.bE)("/events",i).then((({eventId:t,shortId:e})=>{this.$router.push({name:"signUp",params:{signUpId:e??t,initialTimezone:this.timezone,editingMode:!0}}),this.$emit("input",!1),this.reset(),a.eventId=t,this.$posthog?.capture("Sign up form created",a)})).catch((t=>{this.showError("There was a problem creating that event! Please try again later.")})).finally((()=>{this.loading=!1}))},toggleEmailReminders(t=!1){t?setTimeout((()=>this.showEmailReminders=!this.showEmailReminders),300):this.showEmailReminders=!this.showEmailReminders},requestContactsAccess({emails:t}){const e={emails:t,name:this.name,startTime:this.startTime,endTime:this.endTime,daysOnly:this.daysOnly,selectedDays:this.selectedDays,selectedDaysOfWeek:this.selectedDaysOfWeek,selectedDateOption:this.selectedDateOption,notificationsEnabled:this.notificationsEnabled,timezone:this.timezone};(0,c.n3)({state:{type:O.QV.EVENT_CONTACTS,eventId:this.event?this.event.shortId??this.event._id:"",openNewGroup:!1,payload:e},requestContactsPermission:!0})},contactsAccessGranted({curScheduledEvent:t,...e}){this.curScheduledEvent=t,this.$refs.confirmDetailsDialog?.setData(e),this.confirmDetailsDialog=!0},updateFieldsFromEvent(){if(this.event)if(this.name=this.event.name,this.startTime=Math.floor((0,c.XQ)((0,c.Ax)(this.event.dates[0]),!0)),this.startTime%=24,this.endTime=(this.startTime+this.event.duration)%24,this.notificationsEnabled=this.event.notificationsEnabled,this.blindAvailabilityEnabled=this.event.blindAvailabilityEnabled,this.daysOnly=this.event.daysOnly,null!==this.event.sendEmailAfterXResponses&&this.event.sendEmailAfterXResponses>0&&(this.sendEmailAfterXResponsesEnabled=!0,this.sendEmailAfterXResponses=this.event.sendEmailAfterXResponses),this.event.daysOnly){this.selectedDateOption=this.dateOptions.SPECIFIC;const t=[];for(let e of this.event.dates)t.push((0,c.Lv)(e,!0));this.selectedDays=t}else if(this.event.type===O.mu.SPECIFIC_DATES){this.selectedDateOption=this.dateOptions.SPECIFIC;const t=[];for(let e of this.event.dates)e=(0,c.Ax)(e),t.push((0,c.Lv)(e,!0));this.selectedDays=t}else if(this.event.type===O.mu.DOW){this.selectedDateOption=this.dateOptions.DOW;const t=[];for(let e of this.event.dates)e=(0,c.Ax)(e),this.event.startOnMonday&&0===e.getUTCDay()?t.push(7):t.push(e.getUTCDay());this.selectedDaysOfWeek=t,this.event.startOnMonday&&(this.startOnMonday=!0)}},resetToEventData(){this.updateFieldsFromEvent()},setInitialEventData(){this.initialEventData={name:this.name,startTime:this.startTime,endTime:this.endTime,daysOnly:this.daysOnly,selectedDays:this.selectedDays,selectedDaysOfWeek:this.selectedDaysOfWeek,selectedDateOption:this.selectedDateOption,notificationsEnabled:this.notificationsEnabled,emails:[...this.emails],blindAvailabilityEnabled:this.blindAvailabilityEnabled,sendEmailAfterXResponsesEnabled:this.sendEmailAfterXResponsesEnabled,sendEmailAfterXResponses:this.sendEmailAfterXResponses}},hasEventBeenEdited(){return this.name!==this.initialEventData.name||this.startTime!==this.initialEventData.startTime||this.endTime!==this.initialEventData.endTime||this.selectedDateOption!==this.initialEventData.selectedDateOption||JSON.stringify(this.selectedDays)!==JSON.stringify(this.initialEventData.selectedDays)||JSON.stringify(this.selectedDaysOfWeek)!==JSON.stringify(this.initialEventData.selectedDaysOfWeek)||this.daysOnly!==this.initialEventData.daysOnly||this.notificationsEnabled!==this.initialEventData.notificationsEnabled||JSON.stringify(this.emails)!==JSON.stringify(this.initialEventData.emails)||this.blindAvailabilityEnabled!==this.initialEventData.blindAvailabilityEnabled||this.sendEmailAfterXResponsesEnabled!==this.initialEventData.sendEmailAfterXResponsesEnabled||this.sendEmailAfterXResponses!==this.initialEventData.sendEmailAfterXResponses}},watch:{event:{immediate:!0,handler(){this.updateFieldsFromEvent(),this.setInitialEventData()}},selectedDateOption(){this.selectedDateOption===this.dateOptions.SPECIFIC?this.selectedDaysOfWeek=[]:this.selectedDateOption===this.dateOptions.DOW&&(this.selectedDays=[])}}},K=Z,tt=(0,v.A)(K,V,W,!1,null,null,null),et=tt.exports,st={name:"NewDialog",emits:["input"],props:{value:{type:Boolean,required:!0},type:{type:String,default:"event"},event:{type:Object},edit:{type:Boolean,default:!1},contactsPayload:{type:Object,default:()=>({})},noTabs:{type:Boolean,default:!1},folderId:{type:String,default:null}},components:{NewEvent:h.A,NewGroup:$,NewSignUp:et,UnsavedChangesDialog:y},data(){return{tab:this.type,tabs:[{title:"Event",type:"event"},{title:"Sign up form",type:"signup"},{title:"Availability group",type:"group"}],unsavedChangesDialog:!1}},computed:{...(0,_.aH)(["groupsEnabled","signUpFormEnabled"]),isPhone(){return(0,c.tp)(this.$vuetify)},_noTabs(){return!this.groupsEnabled||this.noTabs}},methods:{handleDialogInput(){this.edit&&this.$refs[this.tab].hasEventBeenEdited()?this.unsavedChangesDialog=!0:this.exitDialog()},exitDialog(){this.$emit("input",!1),this.edit?this.$refs[this.tab].resetToEventData():this.$refs[this.tab].reset()}},watch:{groupsEnabled:{immediate:!0,handler(){this.tabs=[{title:"Event",type:"event"},{title:"Sign up form",type:"signup"}],this.groupsEnabled&&this.tabs.push({title:"Availability group",type:"group"})}},signUpFormEnabled:{immediate:!0,handler(){this.tabs=[{title:"Event",type:"event"}],this.signUpFormEnabled&&this.tabs.push({title:"Sign up form",type:"signup"}),this.tabs.push({title:"Availability group",type:"group"})}},value:{immediate:!0,handler(){this.value&&(this.tab=this.type)}},type:{immediate:!0,handler(){this.tab=this.type}}}},it=st,at=(0,v.A)(it,l,d,!1,null,null,null),nt=at.exports},8515:function(t,e,s){"use strict";s.d(e,{A:function(){return j}});var i=s(3740),a=s(3698),n=s(2938),o=s(5961),r=s(174),l=s(6930),d=s(1546),c=s(1844),h=s(1034),u=s(7112),m=s(7270),p=function(){var t=this,e=t._self._c;return e(a.A,{staticClass:"tw-relative tw-flex tw-max-w-[28rem] tw-flex-col tw-overflow-hidden tw-rounded-lg tw-transition-all",class:{"tw-py-4":!t.dialog,"tw-flex-1":t.dialog},attrs:{flat:t.dialog}},[e(n.ri,{staticClass:"tw-mb-2 tw-flex tw-gap-2 tw-px-4 sm:tw-px-8"},[e("div",[e("div",{staticClass:"tw-mb-1"},[t._v(" "+t._s(t.edit?"编辑活动":"创建活动")+" ")]),t.dialog&&t.showHelp?e("div",{staticClass:"tw-text-xs tw-font-normal tw-italic tw-text-dark-gray"},[t._v(" Ideal for one-time / recurring meetings ")]):t._e()]),e(h.A),t.dialog?[t.showHelp?e(i.A,{attrs:{icon:""},on:{click:function(e){t.helpDialog=!0}}},[e(l.A,[t._v("mdi-information-outline")])],1):e(i.A,{attrs:{icon:""},on:{click:function(e){return t.$emit("input",!1)}}},[e(l.A,[t._v("mdi-close")])],1),e("HelpDialog",{scopedSlots:t._u([{key:"header",fn:function(){return[t._v("Events")]},proxy:!0}],null,!1,1293929725),model:{value:t.helpDialog,callback:function(e){t.helpDialog=e},expression:"helpDialog"}},[e("div",{staticClass:"tw-mb-4"},[t._v(" Use events to collect people's availabilities and compare them across certain days. ")])])]:t._e()],2),e(n.OQ,{ref:"cardText",staticClass:"tw-relative tw-flex-1 tw-overflow-auto tw-px-4 tw-py-1 sm:tw-px-8"},[t.edit&&0==t.event?.ownerId?e("AlertText",{staticClass:"tw-mb-4"},[t._v(" 活动一旦创建，所有人都可以编辑这个活动噢 ")]):t._e(),e(r.A,{ref:"form",staticClass:"tw-flex tw-flex-col tw-gap-y-6",attrs:{"lazy-validation":"",disabled:t.loading},model:{value:t.formValid,callback:function(e){t.formValid=e},expression:"formValid"}},[e(u.A,{ref:"name-field",attrs:{placeholder:"事件名称...","hide-details":"auto",solo:"",rules:t.nameRules,autofocus:"",required:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.blurNameField.apply(null,arguments)}},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),e("div",[e(o.Qo,[t.daysOnly?t._e():e("div",[e("div",{staticClass:"tw-mb-2 tw-text-lg tw-text-black"},[t._v(" 会议可能的时间 ")]),e(o.Qo,[t.specificTimesEnabled?t._e():e("div",[e("div",{staticClass:"tw-mb-2 tw-flex tw-items-baseline tw-justify-center tw-space-x-2"},[e(c.A,{attrs:{value:t.startTime,"menu-props":"auto",items:t.times,"return-object":"","hide-details":"",solo:""},on:{input:e=>t.startTime=e.time}}),e("div",[t._v("to")]),e(c.A,{attrs:{value:t.endTime,"menu-props":"auto",items:t.times,"return-object":"","hide-details":"",solo:""},on:{input:e=>t.endTime=e.time}})],1)])]),e("div",{staticClass:"tw-mb-2"})],1)]),e("div",{staticClass:"tw-mb-2 tw-mt-8 tw-text-lg tw-text-black"},[t._v(" 请选择日期 ")]),e(o.Qo,[e("div",[e("div",{staticClass:"tw-mb-2 tw-text-xs tw-text-dark-gray"},[t._v(" 拖动来选择多个日期 ")]),e(d.A,{key:"date-picker",attrs:{"hide-details":"auto",rules:t.selectedDaysRules},model:{value:t.selectedDays,callback:function(e){t.selectedDays=e},expression:"selectedDays"}},[e("DatePicker",{attrs:{minCalendarDate:t.minCalendarDate},model:{value:t.selectedDays,callback:function(e){t.selectedDays=e},expression:"selectedDays"}})],1)],1)])],1),e("TimezoneSelector",{attrs:{label:"时区"},on:{input:t.trackTimezoneChange},model:{value:t.timezone,callback:function(e){t.timezone=e},expression:"timezone"}}),e("div",{staticClass:"tw-flex tw-flex-col tw-gap-2"},[t.authUser&&!t.guestEvent?e("ExpandableSection",{attrs:{label:"Email reminders","auto-scroll":t.dialog},model:{value:t.showEmailReminders,callback:function(e){t.showEmailReminders=e},expression:"showEmailReminders"}},[e("div",{staticClass:"tw-flex tw-flex-col tw-gap-5 tw-pt-2"},[e("EmailInput",{directives:[{name:"show",rawName:"v-show",value:t.authUser,expression:"authUser"}],ref:"emailInput",attrs:{labelColor:"tw-text-very-dark-gray",addedEmails:t.addedEmails},on:{requestContactsAccess:t.requestContactsAccess,"update:emails":e=>t.emails=e},scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticClass:"tw-flex tw-gap-1"},[e("div",{staticClass:"tw-text-very-dark-gray"},[t._v(" Remind people to fill out the event ")]),e(m.A,{attrs:{top:"","content-class":"tw-bg-very-dark-gray tw-shadow-lg tw-opacity-100 tw-py-4"},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:i}){return[e(l.A,t._g(t._b({attrs:{small:""}},"v-icon",i,!1),s),[t._v("mdi-information-outline ")])]}}],null,!1,2487635978)},[e("div",[t._v(" Reminder emails will be sent the day of event creation,"),e("br"),t._v("one day after, and three days after. You will also receive "),e("br"),t._v("an email when everybody has filled out the event. ")])])],1)]},proxy:!0}],null,!1,1240804891)})],1)]):t._e()],1)],1)],1),e(n.SL,{staticClass:"tw-relative tw-px-4 sm:tw-px-8"},[e("div",{staticClass:"tw-relative tw-w-full"},[e(i.A,{staticClass:"tw-mt-4 tw-bg-green",attrs:{disabled:!t.formValid,block:"",loading:t.loading,color:"primary"},on:{click:t.submit}},[t._v(" "+t._s(t.specificTimesEnabled?"Next":t.edit?"Save edits":"创建事件")+" ")]),e("div",{staticClass:"tw-mt-1 tw-text-xs tw-text-red",class:t.formValid?"tw-invisible":"tw-visible"},[t._v(" 请检查信息是否填写完整 ")])],1)]),t.hasMounted?e("OverflowGradient",{staticClass:"tw-bottom-[90px]",attrs:{scrollContainer:t.$refs.cardText}}):t._e()],1)},w=[],g=(s(4114),s(6638)),v=s(5985),f=s(5353),y=s(7202),b=s(9205),A=s(8368),C=s(8166),T=s(7545),x=s(2491),k=s(2715),E=(s(5093),s(4353)),D=s.n(E),S=s(3826),_=s.n(S),O=s(8569),I=s.n(O),U=s(173);D().extend(_()),D().extend(I());var B={name:"NewEvent",emits:["input"],props:{event:{type:Object},edit:{type:Boolean,default:!1},dialog:{type:Boolean,default:!0},contactsPayload:{type:Object,default:()=>({})},showHelp:{type:Boolean,default:!1},folderId:{type:String,default:null}},components:{TimezoneSelector:y.A,HelpDialog:b.A,EmailInput:A.A,DatePicker:C.A,SlideToggle:T.A,ExpandableSection:U.A,AlertText:x.A,OverflowGradient:k.A},data:()=>({formValid:!0,name:"",startTime:9,endTime:17,loading:!1,selectedDays:[],notificationsEnabled:!0,showEmailReminders:!1,emails:[],showAdvancedOptions:!1,timeIncrement:15,collectEmails:!1,blindAvailabilityEnabled:!1,timezone:{},sendEmailAfterXResponsesEnabled:!1,sendEmailAfterXResponses:3,helpDialog:!1,initialEventData:{},hasMounted:!1}),mounted(){Object.keys(this.contactsPayload).length>0&&(this.toggleEmailReminders(!0),this.name=this.contactsPayload.name,this.startTime=this.contactsPayload.startTime,this.endTime=this.contactsPayload.endTime,this.selectedDays=this.contactsPayload.selectedDays,this.notificationsEnabled=this.contactsPayload.notificationsEnabled,this.timezone=this.contactsPayload.timezone,this.$refs.form.resetValidation()),this.$nextTick((()=>{this.hasMounted=!0}))},computed:{...(0,f.aH)(["authUser"]),nameRules(){return[t=>!!t||"事件名称是必需填写的喔"]},selectedDaysRules(){return[t=>t.length>0||"请至少选择一个日期"]},addedEmails(){return Object.keys(this.contactsPayload).length>0?this.contactsPayload.emails:this.event&&this.event.remindees?this.event.remindees.map((t=>t.email)):[]},times(){return(0,v.Sk)()},minCalendarDate(){if(this.edit)return"";let t=new Date,e=String(t.getDate()).padStart(2,"0"),s=String(t.getMonth()+1).padStart(2,"0"),i=t.getFullYear();return i+"-"+s+"-"+e},isPhone(){return(0,v.tp)(this.$vuetify)},guestEvent(){return this.event&&this.event.ownerId==g.LJ},timeIncrementItems(){return[{text:"15 min",value:15},{text:"30 min",value:30},{text:"60 min",value:60}]}},methods:{...(0,f.i0)(["showError","setEventFolder"]),blurNameField(){this.$refs["name-field"].blur()},reset(){this.name="",this.startTime=9,this.endTime=17,this.specificTimesEnabled=!1,this.selectedDays=[],this.selectedDaysOfWeek=[],this.notificationsEnabled=!0,this.daysOnly=!1,this.selectedDateOption="Specific dates",this.emails=[],this.showAdvancedOptions=!1,this.blindAvailabilityEnabled=!1,this.sendEmailAfterXResponsesEnabled=!1,this.sendEmailAfterXResponses=3,this.collectEmails=!1,this.$refs.form.resetValidation()},submit(){if(!this.$refs.form.validate())return;this.selectedDays.sort();let t=this.endTime-this.startTime;t<=0&&(t+=24);let e=[],s=g.mu.SPECIFIC_DATES;const i=(0,v.f7)(this.startTime);for(const o of this.selectedDays){const t=D().tz(`${o} ${i}`,this.timezone.value);e.push(t.toDate())}this.loading=!0;const a={name:this.name,duration:t,dates:e,hasSpecificTimes:this.specificTimesEnabled,notificationsEnabled:!!this.authUser&&this.notificationsEnabled,blindAvailabilityEnabled:this.blindAvailabilityEnabled,remindees:this.emails,type:s,sendEmailAfterXResponses:this.sendEmailAfterXResponsesEnabled?parseInt(this.sendEmailAfterXResponses):-1,collectEmails:this.collectEmails,timeIncrement:this.timeIncrement,creatorPosthogId:this.$posthog?.get_distinct_id()},n={eventName:this.name,eventDuration:t,eventDates:JSON.stringify(e),eventHasSpecificTimes:this.specificTimesEnabled,eventNotificationsEnabled:!!this.authUser&&this.notificationsEnabled,eventBlindAvailabilityEnabled:this.blindAvailabilityEnabled,eventRemindees:this.emails,eventType:s,eventSendEmailAfterXResponses:this.sendEmailAfterXResponsesEnabled?parseInt(this.sendEmailAfterXResponses):-1,eventCollectEmails:this.collectEmails,eventTimeIncrement:this.timeIncrement};this.edit?this.event&&(0,v.yJ)(`/events/${this.event._id}`,a).then((()=>{n.eventId=this.event._id,this.$posthog?.capture("Event edited",n),localStorage.setItem(`from-edit-event-${this.event._id}`,"true"),window.location.reload()})).catch((t=>{this.showError("There was a problem editing this event! Please try again later."),console.log(t)})).finally((()=>{this.loading=!1})):(0,v.bE)("/events",a).then((async({eventId:t,shortId:e})=>{await this.setEventFolder({eventId:t,folderId:this.folderId}),this.$router.push({name:"event",params:{eventId:e??t,initialTimezone:this.timezone}}),this.$emit("input",!1),this.reset(),n.eventId=t,this.$posthog?.capture("Event created",n),this.authUser||(0,v.V3)(t)})).catch((t=>{this.showError("There was a problem creating that event! Please try again later."),console.error(t)})).finally((()=>{this.loading=!1}))},toggleEmailReminders(t=!1){t?setTimeout((()=>this.showEmailReminders=!this.showEmailReminders),300):this.showEmailReminders=!this.showEmailReminders},requestContactsAccess({emails:t}){const e={emails:t,name:this.name,startTime:this.startTime,endTime:this.endTime,selectedDays:this.selectedDays,notificationsEnabled:this.notificationsEnabled,timezone:this.timezone};(0,v.n3)({state:{type:g.QV.EVENT_CONTACTS,eventId:this.event?this.event.shortId??this.event._id:"",openNewGroup:!1,payload:e},requestContactsPermission:!0})},contactsAccessGranted({curScheduledEvent:t,...e}){this.curScheduledEvent=t,this.$refs.confirmDetailsDialog?.setData(e),this.confirmDetailsDialog=!0},updateFieldsFromEvent(){this.event&&(this.name=this.event.name,this.startTime=Math.floor((0,v.XQ)((0,v.Ax)(this.event.dates[0]),!0)),this.startTime%=24,this.endTime=(this.startTime+this.event.duration)%24,this.notificationsEnabled=this.event.notificationsEnabled,this.blindAvailabilityEnabled=this.event.blindAvailabilityEnabled,this.event.dates&&this.event.dates.length>0&&(this.selectedDays=this.event.dates.map((t=>(0,v.Lv)((0,v.Ax)(t))))))},resetToEventData(){this.updateFieldsFromEvent(),this.$refs.emailInput.reset()},setInitialEventData(){this.initialEventData={name:this.name,startTime:this.startTime,endTime:this.endTime,selectedDays:this.selectedDays,notificationsEnabled:this.notificationsEnabled,emails:[...this.emails],blindAvailabilityEnabled:this.blindAvailabilityEnabled,sendEmailAfterXResponsesEnabled:this.sendEmailAfterXResponsesEnabled,sendEmailAfterXResponses:this.sendEmailAfterXResponses,timeIncrement:this.timeIncrement}},hasEventBeenEdited(){return this.name!==this.initialEventData.name||this.startTime!==this.initialEventData.startTime||this.endTime!==this.initialEventData.endTime||JSON.stringify(this.selectedDays)!==JSON.stringify(this.initialEventData.selectedDays)||this.notificationsEnabled!==this.initialEventData.notificationsEnabled||JSON.stringify(this.emails)!==JSON.stringify(this.initialEventData.emails)||this.blindAvailabilityEnabled!==this.initialEventData.blindAvailabilityEnabled||this.sendEmailAfterXResponsesEnabled!==this.initialEventData.sendEmailAfterXResponsesEnabled||this.sendEmailAfterXResponses!==this.initialEventData.sendEmailAfterXResponses},trackTimezoneChange(t){this.$posthog?.capture("timezone_selected_in_new_event_dialog",{timezone:t?.value})}},watch:{event:{immediate:!0,handler(){this.updateFieldsFromEvent(),this.setInitialEventData()}}}},P=B,R=s(1656),N=(0,R.A)(P,p,w,!1,null,null,null),j=N.exports},2715:function(t,e,s){"use strict";s.d(e,{A:function(){return h}});var i=s(3740),a=s(6930),n=function(){var t=this,e=t._self._c;return t.showGradient?e("div",{staticClass:"tw-pointer-events-none tw-absolute tw-bottom-0 tw-left-0 tw-right-0 tw-z-20 tw-flex tw-h-16 tw-items-end tw-justify-center",style:{background:"linear-gradient(to bottom, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 100%)"}},[t.showArrow?e(i.A,{staticClass:"tw-pointer-events-auto tw-transform",attrs:{fab:"","x-small":""},on:{click:t.scrollToBottom}},[e(a.A,[t._v("mdi-chevron-down")])],1):t._e()],1):t._e()},o=[],r={name:"OverflowGradient",props:{scrollContainer:{type:HTMLElement,required:!0},showArrow:{type:Boolean,default:!0}},data(){return{showGradient:!1}},mounted(){this.checkScroll(),this.scrollContainer.addEventListener("scroll",this.checkScroll)},beforeDestroy(){this.scrollContainer.removeEventListener("scroll",this.checkScroll)},methods:{checkScroll(){const{scrollHeight:t,clientHeight:e,scrollTop:s}=this.scrollContainer;this.showGradient=t>e&&s<t-e-1},scrollToBottom(){this.scrollContainer.scrollTop=this.scrollContainer.scrollHeight}}},l=r,d=s(1656),c=(0,d.A)(l,n,o,!1,null,null,null),h=c.exports},156:function(t,e,s){"use strict";s.d(e,{A:function(){return p}});var i=s(3740),a=s(3698),n=s(2938),o=s(1289),r=s(1034),l=function(){var t=this,e=t._self._c;return e(o.A,{attrs:{value:t.value,width:"400","content-class":"tw-m-0"}},[e(a.A,[e(n.ri,[t._v("Google sign in not supported")]),e(n.OQ,[e("p",[t._v(" This usually happens when you open a schej link from Instagram or Messenger. ")]),e("p",[t._v(' To get around this issue, click the three dots in the top right and then "Open in system browser" or "Open in Chrome" ')])]),e(n.SL,[e(r.A),e(i.A,{staticClass:"tw-text-green",attrs:{text:""},on:{click:function(e){return t.$emit("input",!1)}}},[t._v(" Ok ")])],1)],1)],1)},d=[],c={name:"SignInNotSupportedDialog",props:{value:{type:Boolean,required:!0}}},h=c,u=s(1656),m=(0,u.A)(h,l,d,!1,null,null,null),p=m.exports},7545:function(t,e,s){"use strict";s.d(e,{A:function(){return d}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tw-relative tw-flex tw-w-fit tw-items-center tw-rounded-md tw-border tw-border-light-gray-stroke"},[e("div",{staticClass:"tw-absolute tw-h-full tw-rounded-md tw-border tw-transition-all",class:t.options[t.index].borderClass??t.defaultBorderClass,style:{...t.options[t.index].borderStyle??t.defaultBorderStyle,transform:`translateX(${100*t.index}%)`,width:100/t.options.length+"%"}}),t._l(t.options,(function(s,i){return[e("div",{staticClass:"tw-line-clamp-1 tw-flex-1 tw-cursor-pointer tw-overflow-hidden tw-px-4 tw-py-2.5 tw-text-center tw-text-sm tw-font-medium tw-transition-all",class:i===t.index?s.activeClass??t.defaultActiveClass:t.inactiveClass,on:{click:function(e){return t.$emit("input",s.value)}}},[t._v(" "+t._s(s.text)+" ")])]}))],2)},a=[],n={name:"AvailabilityTypeToggle",props:{value:{required:!0},options:{type:Array,required:!0}},data(){return{index:0,defaultActiveClass:"tw-text-green tw-bg-green/5",defaultBorderClass:"tw-border-green",defaultBorderStyle:{boxShadow:"0px 2px 8px 0px #00994C40"},inactiveClass:"tw-text-dark-gray tw-bg-off-white"}},watch:{value:{immediate:!0,handler(){this.index=this.options.findIndex((t=>t.value===this.value)),-1===this.index&&(this.index=0)}}}},o=n,r=s(1656),l=(0,r.A)(o,i,a,!1,null,null,null),d=l.exports},6:function(t,e,s){"use strict";s.d(e,{A:function(){return u}});var i=s(4112),a=s(6930),n=function(){var t=this,e=t._self._c;return t.user?e(i.A,{attrs:{size:t.size}},[t.user.picture?e("img",{attrs:{src:t.user.picture,referrerpolicy:"no-referrer"}}):t.user.calendarType===t.calendarTypes.APPLE?e(a.A,{staticClass:"-tw-mt-1",attrs:{size:t.size}},[t._v(" mdi-apple ")]):t.user.calendarType===t.calendarTypes.OUTLOOK?e(a.A,{attrs:{size:t.size}},[t._v(" mdi-microsoft-outlook ")]):e("div",{class:`tw-flex tw-size-full tw-items-center tw-justify-center tw-bg-[linear-gradient(-25deg,#2b6cb0,#63b3ed,#2b6cb0)] tw-text-${t.textSize} tw-text-white`},[t._v(" "+t._s(t.user.firstName?.charAt(0)??t.user.email?.charAt(0)??"")+" ")])],1):t._e()},o=[],r=s(6638),l={name:"UserAvatarContent",props:{user:Object,size:{type:Number,default:48}},computed:{calendarTypes(){return r.MD},textSize(){return this.size<=24?"xs":"lg"}}},d=l,c=s(1656),h=(0,c.A)(d,n,o,!1,null,null,null),u=h.exports},6007:function(t,e,s){"use strict";s.d(e,{A:function(){return w}});var i=s(3740),a=s(5420),n=s(7112),o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tw-flex tw-flex-col tw-gap-6"},[e("div",{staticClass:"tw-flex tw-flex-col tw-gap-3"},[e("div",{staticClass:"tw-text-md tw-flex tw-flex-row tw-items-center tw-justify-start tw-gap-2 tw-font-medium"},[t._v(" Connect your "),e("div",{staticClass:"tw-flex tw-items-center tw-gap-1"},[e(a.A,{staticClass:"-tw-mt-1 tw-flex-initial",attrs:{width:"15",height:"15",src:s(1228)}}),e("span",{staticClass:"tw-font-medium"},[t._v("Apple Calendar")])],1)]),t._m(0)]),e("div",{staticClass:"tw-flex tw-flex-col tw-gap-3"},[e(n.A,{attrs:{solo:"",placeholder:"Apple ID","hide-details":""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),e(n.A,{attrs:{solo:"",placeholder:"App password","hide-details":"",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),e("div",{staticClass:"tw-flex tw-items-center tw-gap-2"},[e(i.A,{staticClass:"tw-grow",attrs:{text:""},on:{click:function(e){return t.$emit("back")}}},[t._v("Back")]),e(i.A,{staticClass:"tw-grow",attrs:{disabled:!t.enableSubmit,color:"primary",loading:t.loading},on:{click:t.submit}},[t._v("Submit")])],1)],1)])},r=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"tw-flex tw-flex-col tw-gap-2"},[e("div",{staticClass:"tw-text-sm tw-text-very-dark-gray"},[t._v(" Generate an "),e("span",{staticClass:"tw-font-medium tw-text-black"},[t._v("app-specific password")]),t._v(" to use with Schej at "),e("a",{attrs:{href:"https://appleid.apple.com/account/manage",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://appleid.apple.com/account/manage")]),t._v(". Copy and paste the generated app password below. ")]),e("div",{staticClass:"tw-text-sm tw-text-very-dark-gray"},[t._v(" Your credentials will be stored and encrypted. ")])])}],l=s(5985),d=s(5353),c=s(6638),h={name:"AppleCredentials",data(){return{email:"",password:"",loading:!1}},computed:{enableSubmit(){return this.email&&this.password}},methods:{...(0,d.i0)(["showError","refreshAuthUser"]),submit(){this.loading=!0,(0,l.bE)("/user/add-apple-calendar-account",{email:this.email,password:this.password}).then((async()=>{await this.refreshAuthUser(),this.$emit("addedAppleCalendar"),this.$posthog?.capture("Apple Calendar Added")})).catch((t=>{t.error===c.sO.InvalidCredentials?this.showError("Your Apple ID or app password is incorrect."):this.showError("An error occurred while adding your Apple Calendar! Please try again later.")})).finally((()=>{this.loading=!1}))}}},u=h,m=s(1656),p=(0,m.A)(u,o,r,!1,null,null,null),w=p.exports},1936:function(t,e,s){"use strict";s.d(e,{A:function(){return h}});var i=s(3740),a=s(5420),n=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"tw-text-md tw-mb-4 tw-font-medium"},[t._v(" We need the following permissions to access your Google Calendar events ")]),e("div",{staticClass:"tw-mb-8 tw-ml-4 tw-flex tw-flex-col tw-gap-4"},[e("div",{staticClass:"tw-flex tw-gap-2 tw-text-sm"},[e(a.A,{staticClass:"tw-flex-none",attrs:{src:s(1639),height:"20",width:"20"}}),e("div",[t._v("View events on all your calendars.")])],1),e("div",{staticClass:"tw-flex tw-gap-2 tw-text-sm"},[e(a.A,{staticClass:"tw-flex-none",attrs:{src:s(1639),height:"20",width:"20"}}),e("div",[t._v("See the list of Google calendars you’re subscribed to.")])],1)]),e("div",{staticClass:"tw-text-md tw-mb-4 tw-font-medium"},[t._v("These permissions will")]),t._m(0),e("div",{staticClass:"tw-flex"},[""!=t.cancelLabel?e(i.A,{staticClass:"tw-mr-2 tw-flex-1",attrs:{text:""},on:{click:function(e){return t.$emit("cancel")}}},[t._v(" "+t._s(t.cancelLabel)+" ")]):t._e(),e(i.A,{staticClass:"tw-flex-1 tw-bg-green",attrs:{dark:""},on:{click:function(e){return t.$emit("allow")}}},[t._v(" "+t._s(t.allowLabel)+" ")])],1)])},o=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"tw-mb-8 tw-flex tw-flex-col tw-gap-4 tw-text-sm tw-text-very-dark-gray"},[e("div",[t._v("Allow us to display the names/times of your calendar events")]),e("div",[t._v(" Allow us to display calendar events on all calendars, not just your primary calendar ")])])}],r={name:"CalendarPermissionsCard",props:{cancelLabel:{type:String,default:"Cancel"},allowLabel:{type:String,default:"Allow"}}},l=r,d=s(1656),c=(0,d.A)(l,n,o,!1,null,null,null),h=c.exports},8368:function(t,e,s){"use strict";s.d(e,{A:function(){return v}});var i=s(1301),a=s(5961),n=s(6930),o=s(3138),r=s(288),l=function(){var t=this,e=t._self._c;return e("div",[t._t("header"),e(i.A,{staticClass:"tw-mt-2 tw-text-sm",attrs:{"search-input":t.query,items:t.searchedContacts,"item-text":"queryString","item-value":"queryString",placeholder:"Type an email address and press enter...",multiple:"","append-icon":"",solo:"",rules:[t.validEmails]},on:{"update:searchInput":function(e){t.query=e},"update:search-input":function(e){t.query=e}},scopedSlots:t._u([{key:"selection",fn:function(s,i){return[e("UserChip",{attrs:{user:t.isContact(s.item)?s.item:{email:s.item,picture:""},removable:!0,removeEmail:t.removeEmail}})]}},{key:"item",fn:function({item:s}){return[e(o.A,[s.picture.length>0?e("img",{attrs:{src:s.picture,referrerpolicy:"no-referrer"}}):e(n.A,[t._v("mdi-account")])],1),e(r.pr,[e(r.UZ,{domProps:{textContent:t._s(`${s.firstName} ${s.lastName}`)}}),e(r.w,{domProps:{textContent:t._s(s.email)}})],1)]}}]),model:{value:t.remindees,callback:function(e){t.remindees=e},expression:"remindees"}}),e("div",{staticClass:"tw-transition-all tw-relative",class:t.emailsAreValid?"-tw-mt-5":"",on:{click:t.requestContactsAccess}},[e(a.Qo,[t.hasContactsAccess?t._e():e("div",{staticClass:"tw-text-xs tw-text-dark-gray"},[e("a",{staticClass:"tw-underline",on:{click:t.requestContactsAccess}},[t._v("Enable contacts access")]),t._v(" for email auto-suggestions. ")])])],1)],2)},d=[],c=(s(4114),s(6)),h=s(6920),u=s(5985),m={name:"EmailReminders",props:{addedEmails:{type:Array,default:()=>[]}},data:()=>({remindees:[],searchedContacts:[],timeout:null,searchDebounceTime:250,hasContactsAccess:!0,query:"",emailsAreValid:!0}),mounted(){(0,u.Jt)("/user/searchContacts?query=").catch((t=>{403!==t.error?.code&&401!==t.error?.code||(this.hasContactsAccess=!1)})),this.remindees=this.addedEmails},methods:{requestContactsAccess(){this.$emit("requestContactsAccess",{emails:this.remindees})},searchContacts(){this.hasContactsAccess&&(this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((()=>{(0,u.Jt)(`/user/searchContacts?query=${this.query}`).then((t=>{this.searchedContacts=t,this.searchedContacts.map((t=>{t["queryString"]=this.contactToQueryString(t)}))}))}),this.searchDebounceTime))},removeEmail(t){for(let e=0;e<this.remindees.length;e++)this.isContact(this.remindees[e])?this.remindees[e].email==t&&this.remindees.splice(e,1):this.remindees[e]==t&&this.remindees.splice(e,1)},isContact(t){return"object"===typeof t},contactToQueryString(t){return`${t["firstName"].split(" ")[0]} ${t["lastName"]} ${t["email"]}`},validEmails(t){for(const e of t)if(e?.length>0&&!(0,u.DT)(e))return this.emailsAreValid=!1,"Please enter a valid email.";return this.emailsAreValid=!0,!0},reset(){this.remindees=this.addedEmails}},watch:{remindees(){this.$emit("update:emails",this.remindees.map((t=>this.isContact(t)?t.email:t)))},query(){if(this.query&&this.query.length>0){if(/[,\s]/.test(this.query)){let t=!1;const e=this.query.split(/[,\s]+/).filter((t=>""!==t.trim()));if(e.forEach((e=>{(0,u.DT)(e)&&!this.remindees.includes(e)&&(t=!0,this.remindees.push(e))})),t)return void(this.query="")}this.searchContacts()}else clearTimeout(this.timeout),this.searchedContacts=[]}},computed:{},components:{UserAvatarContent:c.A,UserChip:h.A}},p=m,w=s(1656),g=(0,w.A)(p,l,d,!1,null,null,null),v=g.exports},6920:function(t,e,s){"use strict";s.d(e,{A:function(){return u}});var i=s(4112),a=s(3180),n=s(6930),o=function(){var t=this,e=t._self._c;return e(a.A,{key:t.user.email,staticClass:"tw-flex tw-w-fit tw-items-center tw-bg-light-gray tw-text-very-dark-gray",attrs:{size:"x-small"}},[e(i.A,{staticClass:"bg-accent text-uppercase tw-mr-2",attrs:{start:""}},[t.user.picture?e("img",{attrs:{src:t.user.picture,referrerpolicy:"no-referrer",width:"10px"}}):e(n.A,[t._v("mdi-account")])],1),t._v(" "+t._s(t.user.email)+" "),t.removable?e(n.A,{staticClass:"tw-ml-1",attrs:{small:""},on:{click:()=>t.removeEmail(t.user.email)}},[t._v("mdi-close")]):t._e()],1)},r=[],l={name:"UserChip",props:{user:{type:Object,required:!0},removable:{type:Boolean,default:!1},removeEmail:{type:Function,default:()=>{}}},components:{},data:()=>({}),created(){},computed:{},methods:{}},d=l,c=s(1656),h=(0,c.A)(d,o,r,!1,null,null,null),u=h.exports},1121:function(t,e,s){"use strict";s.d(e,{A:function(){return _}});var i=s(3740),a=s(3698),n=s(6092),o=s(1289),r=s(5961),l=function(){var t=this,e=t._self._c;return e(o.A,{attrs:{value:t.value,width:"600","content-class":"tw-m-0"},on:{input:e=>t.$emit("input",e)}},[e(a.A,{staticClass:"tw-rounded-lg tw-p-4 tw-pb-2 sm:tw-p-8 sm:tw-pb-4"},[e("div",{staticClass:"tw-mb-4 tw-flex tw-flex-col tw-items-start tw-gap-4"},[e("h2",{staticClass:"tw-text-xl tw-font-medium"},[t._v(" Upgrade to "),e("span",{staticClass:"tw-bg-gradient-to-r tw-from-darkest-green tw-to-light-green tw-bg-clip-text tw-text-transparent"},[t._v("Schej Premium")])]),e("div",{staticClass:"tw-text-sm tw-font-medium tw-text-dark-gray"},[t.upgradeDialogType===t.upgradeDialogTypes.CREATE_EVENT?[t._v(" You've run out of free events. Upgrade to create unlimited events. "),e("br",{staticClass:"tw-hidden sm:tw-block"}),t._v(" Your payment helps us keep the site running. ")]:t.upgradeDialogType===t.upgradeDialogTypes.SCHEDULE_EVENT?[t._v(" Upgrade to schedule events with Schej. Your payment helps us keep the site running. ")]:t.upgradeDialogType===t.upgradeDialogTypes.UPGRADE_MANUALLY?[t._v(" Create unlimited events with Schej Premium. Your payment helps us keep the site running. ")]:t._e()],2)]),t.isStudent?e("div",{staticClass:"tw-mb-8 tw-rounded-lg tw-border tw-border-light-gray-stroke tw-p-4"},[e("div",{staticClass:"tw-mb-4 tw-text-sm tw-font-medium tw-text-dark-gray"},[t._v(" Schej is free for students! But you have to prove it. And make sure to spread Schej to as many of your friends as possible. Pinky promise. ")]),e("div",{staticClass:"tw-text-sm tw-font-medium tw-text-dark-gray"},[t._v(" Email "),e("span",{staticClass:"tw-font-medium tw-text-green tw-underline"},[t._v("schej.team@gmail.com")]),t._v(" from your student email with: "),e("ul",{staticClass:"tw-list-decimal tw-py-4 tw-pl-4"},[e("li",[t._v("Email address you use for Schej")]),e("li",[t._v("Proof of enrollment")])]),t._v(' and we\'ll get back to you within 24 hours (but probably sooner). The subject of your email should be "I AM A STUDENT". ')])]):e("div",{staticClass:"tw-mb-8 tw-flex tw-flex-col tw-gap-1 sm:tw-flex-row sm:tw-gap-4"},[t.showMonthly?e("div",{staticClass:"tw-flex tw-flex-1 tw-flex-col tw-items-center tw-gap-2 tw-rounded-lg tw-border tw-border-light-green/20 tw-p-4"},[e("div",{staticClass:"tw-inline-block tw-w-fit tw-rounded tw-px-2 tw-py-1 tw-text-sm tw-font-medium"},[t._v(" Monthly ")]),e("div",{staticClass:"tw-relative"},[e("div",{staticClass:"tw-font-medium"},[e("span",{staticClass:"tw-mr-1 tw-text-dark-gray tw-line-through"},[t._v("$20")]),e("span",{staticClass:"tw-mr-1 tw-text-4xl"},[t._v(t._s(t.isStudent?t.formattedPrice(t.monthlyStudentPrice):t.formattedPrice(t.monthlyPrice)))]),e("span",{staticClass:"tw-text-dark-gray"},[t._v("USD")])]),e(r.mM,[null===t.monthlyPrice?e("div",{staticClass:"tw-absolute tw-left-0 tw-top-0 tw-h-full tw-w-full tw-bg-white"}):t._e()])],1),e("div",{staticClass:"tw-mb-4 tw-text-center tw-text-sm tw-text-very-dark-gray"},[t._v(" Per month."),e("br"),t._v("Billed monthly. ")]),e(i.A,{staticClass:"tw-mb-0.5",attrs:{color:"primary",outlined:"",block:"",dark:t.isStudent?!t.loadingCheckoutUrl[t.monthlyStudentPrice?.id]:!t.loadingCheckoutUrl[t.monthlyPrice?.id],disabled:t.isStudent?t.loadingCheckoutUrl[t.monthlyStudentPrice?.id]:t.loadingCheckoutUrl[t.monthlyPrice?.id],loading:t.isStudent?t.loadingCheckoutUrl[t.monthlyStudentPrice?.id]:t.loadingCheckoutUrl[t.monthlyPrice?.id]},on:{click:function(e){t.isStudent?t.handleUpgrade(t.monthlyStudentPrice):t.handleUpgrade(t.monthlyPrice)}}},[t._v(" Upgrade ")])],1):t._e(),t.showYearly?e("div",{staticClass:"tw-relative tw-flex tw-flex-1 tw-flex-col tw-items-center tw-gap-2 tw-rounded-lg tw-border tw-border-light-green tw-bg-white tw-p-4 tw-shadow-lg"},[e("div",{staticClass:"tw-absolute -tw-top-3 tw-rounded-full tw-bg-light-green tw-px-2 tw-py-0.5 tw-text-xs tw-font-medium tw-text-white"},[t._v(" Save "+t._s(t.yearlyDiscount)+"% ")]),e("div",{staticClass:"tw-inline-block tw-w-fit tw-rounded tw-bg-light-green/10 tw-px-2 tw-py-1 tw-text-sm tw-font-medium tw-text-light-green"},[t._v(" Yearly ")]),e("div",{staticClass:"tw-relative"},[e("div",{staticClass:"tw-font-medium"},[e("span",{staticClass:"tw-mr-1 tw-text-dark-gray tw-line-through"},[t._v("$10")]),e("span",{staticClass:"tw-mr-1 tw-text-4xl"},[t._v(t._s(t.formattedPrice(t.yearlyPrice)))]),e("span",{staticClass:"tw-text-dark-gray"},[t._v("USD")])]),e(r.mM,[null===t.lifetimePrice?e("div",{staticClass:"tw-absolute tw-left-0 tw-top-0 tw-h-full tw-w-full tw-bg-white"}):t._e()])],1),e("div",{staticClass:"tw-mb-4 tw-text-center tw-text-sm tw-text-very-dark-gray"},[t._v(" Per month."),e("br"),t._v("Billed annually. ")]),e(i.A,{staticClass:"tw-mb-0.5",attrs:{color:"primary",block:"",dark:!t.loadingCheckoutUrl[t.yearlyPrice?.id],disabled:t.loadingCheckoutUrl[t.yearlyPrice?.id],loading:t.loadingCheckoutUrl[t.yearlyPrice?.id]},on:{click:function(e){return t.handleUpgrade(t.yearlyPrice)}}},[t._v(" Upgrade ")])],1):t._e(),t.showLifetime?e("div",{staticClass:"tw-relative tw-flex tw-flex-1 tw-flex-col tw-items-center tw-gap-2 tw-rounded-lg tw-border tw-border-light-green tw-bg-white tw-p-4 tw-shadow-lg"},[e("div",{staticClass:"tw-absolute -tw-top-3 tw-rounded-full tw-bg-light-green tw-px-2 tw-py-0.5 tw-text-xs tw-font-medium tw-text-white"},[t._v(" Limited time offer ")]),e("div",{staticClass:"tw-inline-block tw-w-fit tw-rounded tw-bg-light-green/10 tw-px-2 tw-py-1 tw-text-sm tw-font-medium tw-text-light-green"},[t._v(" Lifetime access ")]),e("div",{staticClass:"tw-relative"},[e("div",{staticClass:"tw-font-medium"},[e("span",{staticClass:"tw-mr-1 tw-text-dark-gray tw-line-through"},[t._v("$100")]),e("span",{staticClass:"tw-mr-1 tw-text-4xl"},[t._v(t._s(t.isStudent?t.formattedPrice(t.lifetimeStudentPrice):t.formattedPrice(t.lifetimePrice)))]),e("span",{staticClass:"tw-text-dark-gray"},[t._v("USD")])]),e(r.mM,[null===t.lifetimePrice?e("div",{staticClass:"tw-absolute tw-left-0 tw-top-0 tw-h-full tw-w-full tw-bg-white"}):t._e()])],1),e("div",{staticClass:"tw-mb-4 tw-text-center tw-text-sm tw-text-very-dark-gray"},[t._v(" One-time payment."),e("br"),t._v("No subscription. ")]),e(i.A,{staticClass:"tw-mb-0.5",attrs:{color:"primary",block:"",dark:t.isStudent?!t.loadingCheckoutUrl[t.lifetimeStudentPrice?.id]:!t.loadingCheckoutUrl[t.lifetimePrice?.id],disabled:t.isStudent?t.loadingCheckoutUrl[t.lifetimeStudentPrice?.id]:t.loadingCheckoutUrl[t.lifetimePrice?.id],loading:t.isStudent?t.loadingCheckoutUrl[t.lifetimeStudentPrice?.id]:t.loadingCheckoutUrl[t.lifetimePrice?.id]},on:{click:function(e){t.isStudent?t.handleUpgrade(t.lifetimeStudentPrice):t.handleUpgrade(t.lifetimePrice)}}},[t._v(" Upgrade ")])],1):t._e()]),e("div",{staticClass:"tw-flex tw-w-full tw-items-center tw-justify-center tw-pb-4"},[e(n.A,{attrs:{id:"student-checkbox",dense:"","hide-details":""},model:{value:t.isStudent,callback:function(e){t.isStudent=e},expression:"isStudent"}}),e("label",{staticClass:"tw-cursor-pointer tw-select-none tw-text-sm tw-text-very-dark-gray",attrs:{for:"student-checkbox"}},[t._v("I'm a student")])],1),e("div",{staticClass:"tw-flex tw-w-full tw-items-center tw-justify-center tw-gap-4 tw-text-center"},[e("a",{staticClass:"tw-cursor-pointer tw-py-2 tw-text-xs tw-font-medium tw-text-dark-gray tw-underline",attrs:{target:"_blank",href:"https://forms.gle/aaBzFvoKkHLPDjio7"}},[t._v(" I don't want to pay ")]),e("div",{staticClass:"tw-cursor-pointer tw-py-2 tw-text-xs tw-font-medium tw-text-dark-gray tw-underline",on:{click:function(e){t.showDonatedDialog=!0}}},[t._v(" I already donated :) ")])]),e(i.A,{attrs:{text:"",block:""},on:{click:function(e){return t.$emit("input",!1)}}},[t._v(" Cancel ")])],1),e("AlreadyDonatedDialog",{model:{value:t.showDonatedDialog,callback:function(e){t.showDonatedDialog=e},expression:"showDonatedDialog"}}),e("StudentProofDialog",{model:{value:t.showStudentProofDialog,callback:function(e){t.showStudentProofDialog=e},expression:"showStudentProofDialog"}})],1)},d=[],c=(s(4114),s(5985)),h=s(5353),u=s(6638),m=function(){var t=this,e=t._self._c;return e(o.A,{attrs:{value:t.value,width:"400","content-class":"tw-m-0"},on:{input:e=>t.$emit("input",e)}},[e(a.A,{staticClass:"tw-rounded-lg tw-p-6 tw-pb-4 sm:tw-p-8 sm:tw-pb-4"},[e("h2",{staticClass:"tw-mb-4 tw-text-lg tw-font-medium"},[t._v("Already Donated?")]),e("p",{staticClass:"tw-mb-6 tw-text-sm tw-text-dark-gray"},[t._v(" Thank you so much for your previous donation! To get free lifetime access to Schej Premium, please send an email to "),e("span",{staticClass:"tw-font-medium tw-text-dark-green tw-underline"},[t._v("schej.team@gmail.com")]),t._v(" from the email address associated with your donation. We'll upgrade your account manually. ")]),e(i.A,{attrs:{text:"",block:""},on:{click:function(e){return t.$emit("input",!1)}}},[t._v(" Close ")])],1)],1)},p=[],w={name:"AlreadyDonatedDialog",props:{value:{type:Boolean,required:!0}}},g=w,v=s(1656),f=(0,v.A)(g,m,p,!1,null,null,null),y=f.exports,b=function(){var t=this,e=t._self._c;return e(o.A,{attrs:{value:t.value,width:"400","content-class":"tw-m-0"},on:{input:e=>t.$emit("input",e)}},[e(a.A,{staticClass:"tw-rounded-lg tw-p-6 tw-pb-4 sm:tw-p-8 sm:tw-pb-4"},[e("div",{staticClass:"tw-mb-4"},[e("h2",{staticClass:"tw-text-lg tw-font-medium"},[t._v("Student Verification")])]),e("p",{staticClass:"tw-mb-6 tw-text-sm tw-text-dark-gray"},[t._v(" Please email "),e("span",{staticClass:"tw-font-medium tw-text-dark-green tw-underline"},[t._v("schej.team@gmail.com")]),t._v(' with proof that you are a student to get the discounted price. The subject of your email should be "Student Discount". ')]),e(i.A,{attrs:{text:"",block:""},on:{click:function(e){return t.$emit("input",!1)}}},[t._v("OK")])],1)],1)},A=[],C={name:"StudentProofDialog",props:{value:{type:Boolean,required:!0}}},T=C,x=(0,v.A)(T,b,A,!1,null,null,null),k=x.exports,E={name:"UpgradeDialog",components:{AlreadyDonatedDialog:y,StudentProofDialog:k},props:{value:{type:Boolean,required:!0}},data(){return{lifetimePrice:null,monthlyPrice:null,yearlyPrice:null,monthlyStudentPrice:null,lifetimeStudentPrice:null,loadingCheckoutUrl:{},showDonatedDialog:!1,isStudent:!1,showStudentProofDialog:!1,showMonthly:!0,showYearly:!0,showLifetime:!1}},computed:{...(0,h.aH)(["featureFlagsLoaded","pricingPageConversion","authUser","upgradeDialogType","upgradeDialogData"]),upgradeDialogTypes(){return u.Sk},yearlyDiscount(){return this.yearlyPrice&&this.monthlyPrice?100-Math.round(this.yearlyPrice.unit_amount/12/this.monthlyPrice.unit_amount*100):0},pricesShown(){let t=[];return this.showMonthly&&t.push(`MONTHLY: ${this.formattedPrice(this.monthlyPrice)}/mo`),this.showYearly&&t.push(`YEARLY: ${this.formattedPrice(this.yearlyPrice)}/mo`),this.showLifetime&&t.push(`LIFETIME: ${this.formattedPrice(this.lifetimePrice)}`),t.join(", ")}},methods:{...(0,h.i0)(["showError"]),formattedPrice(t){if(!t)return"";let e=t.unit_amount/100;return"year"===t.recurring?.interval&&(e=Math.round(t.unit_amount/100/12*100)/100),"$"+(e%1===0?e.toFixed(0):e.toFixed(2))},async init(){this.featureFlagsLoaded&&(this.lifetimePrice&&this.monthlyPrice||await this.fetchPrice())},async fetchPrice(){const t=await(0,c.Jt)("/stripe/price?exp="+this.pricingPageConversion),{lifetime:e,monthly:s,yearly:i,lifetimeStudent:a,monthlyStudent:n}=t;this.lifetimePrice=e,this.monthlyPrice=s,this.yearlyPrice=i,this.lifetimeStudentPrice=a,this.monthlyStudentPrice=n},async handleUpgrade(t){this.$posthog?.capture("upgrade_clicked",{price:this.formattedPrice(t)}),this.$set(this.loadingCheckoutUrl,t.id,!0);try{let e=window.location.href;this.upgradeDialogData&&this.upgradeDialogType===u.Sk.SCHEDULE_EVENT&&(e=`${e}?scheduled_event=${encodeURIComponent(JSON.stringify(this.upgradeDialogData.scheduledEvent))}`);const s=await(0,c.bE)("/stripe/create-checkout-session",{priceId:t.id,userId:this.authUser._id,isSubscription:null!==t.recurring,originUrl:e});window.location.href=s.url}catch(e){console.error(e),this.showError("There was an error generating a checkout url. Please try again later.")}finally{this.$set(this.loadingCheckoutUrl,t.id,!1)}}},watch:{isStudent:{handler(t){t&&this.$posthog?.capture("student_pricing_viewed",{prices:"FREE"})}},featureFlagsLoaded:{handler(){this.init()},immediate:!0},value:{handler(){this.value&&((0,c.bE)("/analytics/upgrade-dialog-viewed",{userId:this.authUser?._id??this.$posthog?.get_distinct_id(),price:this.pricesShown,type:this.upgradeDialogType}),this.$posthog?.capture("upgrade_dialog_viewed",{price:this.pricesShown,type:this.upgradeDialogType}))}}}},D=E,S=(0,v.A)(D,l,d,!1,null,null,null),_=S.exports},3208:function(t,e,s){"use strict";s.d(e,{A:function(){return Re}});var i=s(3740),a=s(3698),n=s(2938),o=s(1289),r=s(5961),l=s(6930),d=s(1554),c=s(1034),h=s(3e3),u=function(){var t=this,e=t._self._c;return e("span",[e("Tooltip",{attrs:{content:t.tooltipContent}},[e("div",{staticClass:"tw-select-none tw-py-4",staticStyle:{"-webkit-touch-callout":"none"}},[e("div",{staticClass:"tw-flex tw-flex-col sm:tw-flex-row"},[e("div",{staticClass:"tw-flex tw-grow tw-pl-4",class:t.isSignUp?"":"tw-pr-4"},[t.event.daysOnly?[e("div",{staticClass:"tw-grow"},[e("div",{staticClass:"tw-flex tw-items-center tw-justify-between"},[e(i.A,{staticClass:"tw-border-gray",class:t.hasPrevPage?"tw-visible":"tw-invisible",attrs:{outlined:"",icon:""},on:{click:t.prevPage}},[e(l.A,[t._v("mdi-chevron-left")])],1),e("div",{staticClass:"tw-text-lg tw-font-medium tw-capitalize sm:tw-text-xl"},[t._v(" "+t._s(t.curMonthText)+" ")]),e(i.A,{staticClass:"tw-border-gray",class:t.hasNextPage?"tw-visible":"tw-invisible",attrs:{outlined:"",icon:""},on:{click:t.nextPage}},[e(l.A,[t._v("mdi-chevron-right")])],1)],1),e("div",{staticClass:"tw-flex tw-w-full"},t._l(t.daysOfWeek,(function(s){return e("div",{staticClass:"tw-flex-1 tw-p-2 tw-text-center tw-text-base tw-capitalize tw-text-dark-gray"},[t._v(" "+t._s(s)+" ")])})),0),e("div",{staticClass:"tw-grid tw-grid-cols-7",attrs:{id:"drag-section"},on:{mouseleave:t.resetCurTimeslot}},t._l(t.monthDays,(function(s,i){return e("div",t._g({key:s.time,staticClass:"timeslot tw-aspect-square tw-p-2 tw-text-sm sm:tw-text-base",class:t.dayTimeslotClassStyle[i].class,style:t.dayTimeslotClassStyle[i].style},t.dayTimeslotVon[i]),[t._v(" "+t._s(t.dayjs(s.time).format("M月D日"))+" ")])})),0),e(r.Qo,[!t.isPhone&&t.hintTextShown?e("div",{key:t.hintText,staticClass:"tw-sticky tw-bottom-4 tw-z-10 tw-flex"},[e("div",{staticClass:"tw-mt-2 tw-flex tw-w-full tw-items-center tw-justify-between tw-gap-1 tw-rounded-md tw-bg-off-white tw-p-2 tw-px-[7px] tw-text-sm tw-text-very-dark-gray"},[e("div",{staticClass:"tw-flex tw-items-center tw-gap-1"},[e(l.A,{attrs:{small:""}},[t._v("mdi-information-outline")]),t._v(" "+t._s(t.hintText)+" ")],1),e(l.A,{attrs:{small:""},on:{click:t.closeHint}},[t._v("mdi-close")])],1)]):t._e()]),t.isPhone||t.calendarOnly?t._e():e("ToolRow",{attrs:{event:t.event,state:t.state,states:t.states,"cur-timezone":t.curTimezone,"show-best-times":t.showBestTimes,"hide-if-needed":t.hideIfNeeded,"is-weekly":t.isWeekly,"calendar-permission-granted":t.calendarPermissionGranted,"week-offset":t.weekOffset,"num-responses":t.respondents.length,"mobile-num-days":t.mobileNumDays,"allow-schedule-event":t.allowScheduleEvent,"show-event-options":t.showEventOptions,"time-type":t.timeType},on:{"update:curTimezone":function(e){t.curTimezone=e},"update:cur-timezone":function(e){t.curTimezone=e},"update:showBestTimes":function(e){t.showBestTimes=e},"update:show-best-times":function(e){t.showBestTimes=e},"update:hideIfNeeded":function(e){t.hideIfNeeded=e},"update:hide-if-needed":function(e){t.hideIfNeeded=e},"update:mobileNumDays":function(e){t.mobileNumDays=e},"update:mobile-num-days":function(e){t.mobileNumDays=e},"update:timeType":function(e){t.timeType=e},"update:time-type":function(e){t.timeType=e},toggleShowEventOptions:t.toggleShowEventOptions,"update:weekOffset":e=>t.$emit("update:weekOffset",e),scheduleEvent:t.scheduleEvent,cancelScheduleEvent:t.cancelScheduleEvent,confirmScheduleEvent:t.confirmScheduleEvent}})],1)]:[e("div",{staticClass:"tw-w-8 tw-flex-none sm:tw-w-12",class:t.calendarOnly?"tw-w-12":""},[e("div",{staticClass:"tw-sticky tw-top-14 tw-z-10 -tw-ml-3 tw-mb-3 tw-h-11 tw-bg-white sm:tw-top-16 sm:tw-ml-0",class:t.calendarOnly?"tw-invisible":"tw-visible"},[e("div",{staticClass:"tw-sticky tw-top-14 tw-ml-0.5 tw-self-start tw-pt-1.5 sm:tw-top-16 sm:-tw-ml-2",class:t.hasPrevPage?"tw-visible":"tw-invisible"},[e(i.A,{staticClass:"tw-border-gray",attrs:{outlined:"",icon:""},on:{click:t.prevPage}},[e(l.A,[t._v("mdi-chevron-left")])],1)],1)]),e("div",{staticClass:"-tw-mt-[8px] sm:tw-ml-0",class:t.calendarOnly?"":"-tw-ml-3"},t._l(t.splitTimes[0],(function(s,i){return e("div",{key:i,staticClass:"tw-pr-1 tw-text-right tw-text-xs tw-font-light tw-uppercase sm:tw-pr-2",style:{height:`${t.timeslotHeight}px`},attrs:{id:s.id}},[t._v(" "+t._s(s.text)+" ")])})),0),t.splitTimes[1].length>0?[e("div",{style:{height:`${t.SPLIT_GAP_HEIGHT}px`}}),t.splitTimes[1].length>0?e("div",{staticClass:"sm:tw-ml-0",class:t.calendarOnly?"":"-tw-ml-3"},t._l(t.splitTimes[1],(function(s,i){return e("div",{key:i,staticClass:"tw-pr-1 tw-text-right tw-text-xs tw-font-light tw-uppercase sm:tw-pr-2",style:{height:`${t.timeslotHeight}px`},attrs:{id:s.id}},[t._v(" "+t._s(s.text)+" ")])})),0):t._e()]:t._e()],2),e("div",{staticClass:"tw-grow"},[e("div",{ref:"calendar",staticClass:"tw-relative tw-flex tw-flex-col",on:{scroll:t.onCalendarScroll}},[e("div",{staticClass:"tw-z-10 tw-flex tw-h-14 tw-items-center tw-bg-white sm:tw-top-16",class:t.sampleCalendarEventsByDay?void 0:"tw-sticky tw-top-14"},[t._l(t.days,(function(s,i){return[s.isConsecutive?t._e():e("div",{key:`${i}-gap`,style:{width:`${t.SPLIT_GAP_WIDTH}px`}}),e("div",{key:i,staticClass:"tw-flex-1 tw-bg-white"},[e("div",{staticClass:"tw-text-center"},[t.isSpecificDates||t.isGroup?e("div",{staticClass:"tw-text-[12px] tw-font-light tw-capitalize tw-text-very-dark-gray sm:tw-text-xs"},[t._v(" "+t._s(s.dateString)+" ")]):t._e(),e("div",{staticClass:"tw-text-base tw-capitalize sm:tw-text-lg"},[t._v(" "+t._s(s.dayText)+" ")])])])]}))],2),e("div",{staticClass:"tw-flex tw-flex-col"},[e("div",{staticClass:"tw-flex-1"},[e("div",{staticClass:"tw-relative tw-flex",attrs:{id:"drag-section","data-long-press-delay":"500"},on:{mouseleave:t.resetCurTimeslot}},[t.showLoader?e("div",{staticClass:"tw-absolute tw-z-10 tw-grid tw-h-full tw-w-full tw-place-content-center"},[e(d.A,{staticClass:"tw-text-green",attrs:{indeterminate:""}})],1):t._e(),t._l(t.days,(function(s,i){return[s.isConsecutive?t._e():e("div",{key:`${i}-gap`,style:{width:`${t.SPLIT_GAP_WIDTH}px`}}),e("div",{key:i,staticClass:"tw-relative tw-flex-1",class:(t.isGroup&&t.loadingCalendarEvents||t.loadingResponses.loading)&&"tw-opacity-50"},[t._l(t.splitTimes[0],(function(s,a){return e("div",{key:`${i}-${a}-0`,staticClass:"tw-w-full"},[e("div",t._g({staticClass:"timeslot",class:t.timeslotClassStyle[i*t.times.length+a]?.class,style:t.timeslotClassStyle[i*t.times.length+a]?.style},t.timeslotVon[i*t.times.length+a]))])})),t.splitTimes[1].length>0?[e("div",{style:{height:`${t.SPLIT_GAP_HEIGHT}px`}}),t._l(t.splitTimes[1],(function(s,a){return e("div",{key:`${i}-${a}-1`,staticClass:"tw-w-full"},[e("div",t._g({staticClass:"timeslot",class:t.timeslotClassStyle[i*t.times.length+a+t.splitTimes[0].length]?.class,style:t.timeslotClassStyle[i*t.times.length+a+t.splitTimes[0].length]?.style},t.timeslotVon[i*t.times.length+a+t.splitTimes[0].length]))])}))]:t._e(),t._l(t.calendarEventsByDay[i+t.page*t.maxDaysPerPage],(function(s){return!t.loadingCalendarEvents&&(t.editing||t.alwaysShowCalendarEvents||t.showCalendarEvents)?[e("CalendarEventBlock",{key:s.id,attrs:{blockStyle:t.getTimeBlockStyle(s),calendarEvent:s,isGroup:t.isGroup,isEditingAvailability:t.state===t.states.EDIT_AVAILABILITY,noEventNames:t.noEventNames,transitionName:t.isGroup?"":"fade-transition"}})]:t._e()})),t.state===t.states.SCHEDULE_EVENT?e("div",[t.dragStart&&t.dragStart.col===i||!t.dragStart&&t.curScheduledEvent&&t.curScheduledEvent.col===i?e("div",{staticClass:"tw-absolute tw-w-full tw-select-none tw-p-px",staticStyle:{"pointer-events":"none"},style:t.scheduledEventStyle},[e("div",{staticClass:"tw-h-full tw-w-full tw-overflow-hidden tw-text-ellipsis tw-rounded tw-border tw-border-solid tw-border-blue tw-bg-blue tw-p-px tw-text-xs"},[e("div",{staticClass:"tw-font-medium tw-text-white"},[t._v(" "+t._s(t.event.name)+" ")])])]):t._e()]):t._e(),t.state===t.states.EDIT_SIGN_UP_BLOCKS?e("div",[t.dragStart&&t.dragStart.col===i?e("div",{staticClass:"tw-absolute tw-w-full tw-select-none tw-p-px",staticStyle:{"pointer-events":"none"},style:t.signUpBlockBeingDraggedStyle},[e("SignUpCalendarBlock",{attrs:{title:t.newSignUpBlockName,titleOnly:"",unsaved:""}})],1):t._e()]):t._e(),t.isSignUp?e("div",[t._l(t.signUpBlocksByDay[i+t.page*t.maxDaysPerPage],(function(s){return e("div",{key:s._id},[e("div",{staticClass:"tw-absolute tw-w-full tw-select-none tw-p-px",style:{top:`calc(${s.hoursOffset} * 4 * 1rem)`,height:`calc(${s.hoursLength} * 4 * 1rem)`},on:{click:function(e){return t.handleSignUpBlockClick(s)}}},[e("SignUpCalendarBlock",{attrs:{signUpBlock:s}})],1)])})),t._l(t.signUpBlocksToAddByDay[i+t.page*t.maxDaysPerPage],(function(t){return e("div",{key:t._id},[e("div",{staticClass:"tw-absolute tw-w-full tw-select-none tw-p-px",style:{top:`calc(${t.hoursOffset} * 4 * 1rem)`,height:`calc(${t.hoursLength} * 4 * 1rem)`}},[e("SignUpCalendarBlock",{attrs:{title:t.name,titleOnly:"",unsaved:""}})],1)])}))],2):t._e(),t.overlayAvailability?e("div",t._l(t.overlaidAvailability[i],(function(s,i){return e("div",{key:i,staticClass:"tw-absolute tw-w-full tw-select-none tw-p-px",staticStyle:{"pointer-events":"none"},style:t.getTimeBlockStyle(s)},[e("div",{staticClass:"tw-h-full tw-w-full tw-border-2",class:"available"===s.type?"overlay-avail-shadow-green tw-border-[#00994CB3] tw-bg-[#00994C66]":"overlay-avail-shadow-yellow tw-border-[#997700CC] tw-bg-[#FFE8B8B3]"})])})),0):t._e()],2)]}))],2)])]),t.hasPrevPage?e("ZigZag",{staticClass:"tw-absolute tw-left-0 tw-top-0 tw-h-full tw-w-3",attrs:{left:""}}):t._e(),t.hasNextPage?e("ZigZag",{staticClass:"tw-absolute tw-right-0 tw-top-0 tw-h-full tw-w-3",attrs:{right:""}}):t._e()],1),e(r.Qo,[!t.isPhone&&t.hintTextShown?e("div",{key:t.hintText,staticClass:"tw-sticky tw-bottom-4 tw-z-10 tw-flex"},[e("div",{staticClass:"tw-mt-2 tw-flex tw-w-full tw-items-center tw-justify-between tw-gap-1 tw-rounded-md tw-bg-off-white tw-p-2 tw-px-[7px] tw-text-sm tw-text-very-dark-gray"},[e("div",{staticClass:"tw-flex tw-items-center tw-gap-1"},[e(l.A,{attrs:{small:""}},[t._v("mdi-information-outline")]),t._v(" "+t._s(t.hintText)+" ")],1),e(l.A,{attrs:{small:""},on:{click:t.closeHint}},[t._v("mdi-close")])],1)]):t._e()]),e(r.Qo,[t.state===t.states.EDIT_AVAILABILITY||t.max===t.respondents.length||0===Object.keys(t.fetchedResponses).length||t.loadingResponses.loading?t._e():e("div",[e("div",{staticClass:"tw-mt-2 tw-text-sm tw-text-dark-gray"},[t._v(" Note: There's no time when all "+t._s(t.respondents.length)+" respondents are available. ")])])]),t.isPhone||t.calendarOnly?t._e():e("ToolRow",{attrs:{event:t.event,state:t.state,states:t.states,"cur-timezone":t.curTimezone,"show-best-times":t.showBestTimes,"hide-if-needed":t.hideIfNeeded,"is-weekly":t.isWeekly,"calendar-permission-granted":t.calendarPermissionGranted,"week-offset":t.weekOffset,"num-responses":t.respondents.length,"mobile-num-days":t.mobileNumDays,"allow-schedule-event":t.allowScheduleEvent,"show-event-options":t.showEventOptions,"time-type":t.timeType},on:{"update:curTimezone":function(e){t.curTimezone=e},"update:cur-timezone":function(e){t.curTimezone=e},"update:showBestTimes":function(e){t.showBestTimes=e},"update:show-best-times":function(e){t.showBestTimes=e},"update:hideIfNeeded":function(e){t.hideIfNeeded=e},"update:hide-if-needed":function(e){t.hideIfNeeded=e},"update:mobileNumDays":function(e){t.mobileNumDays=e},"update:mobile-num-days":function(e){t.mobileNumDays=e},"update:timeType":function(e){t.timeType=e},"update:time-type":function(e){t.timeType=e},toggleShowEventOptions:t.toggleShowEventOptions,"update:weekOffset":e=>t.$emit("update:weekOffset",e),scheduleEvent:t.scheduleEvent,cancelScheduleEvent:t.cancelScheduleEvent,confirmScheduleEvent:t.confirmScheduleEvent}})],1),t.calendarOnly?t._e():e("div",{staticClass:"tw-sticky tw-top-14 tw-z-10 tw-mb-4 tw-h-11 tw-bg-white sm:tw-top-16",class:t.calendarOnly?"tw-invisible":"tw-visible"},[e("div",{staticClass:"tw-sticky tw-top-14 -tw-mr-2 tw-self-start tw-pt-1.5 sm:tw-top-16",class:t.hasNextPage?"tw-visible":"tw-invisible"},[e(i.A,{staticClass:"tw-border-gray",attrs:{outlined:"",icon:""},on:{click:t.nextPage}},[e(l.A,[t._v("mdi-chevron-right")])],1)],1)])]],2),t.calendarOnly?t._e():e("div",{staticClass:"tw-px-4 tw-py-4 sm:tw-sticky sm:tw-top-16 sm:tw-flex-none sm:tw-self-start sm:tw-py-0 sm:tw-pl-0 sm:tw-pr-0 sm:tw-pt-14",style:{width:t.rightSideWidth}},[t.isSignUp?[e("div",{staticClass:"tw-mb-2 tw-text-lg tw-text-black"},[t._v("Slots")]),t.isOwner?t._e():e("div",{staticClass:"tw-mb-3 tw-flex tw-flex-col"},[e("div",{staticClass:"tw-flex tw-flex-col tw-gap-1 tw-rounded-md tw-bg-light-gray tw-p-3 tw-text-xs tw-italic tw-text-dark-gray"},[!t.authUser||t.alreadyRespondedToSignUpForm?e("div",[e("a",{staticClass:"tw-underline",attrs:{href:`mailto:${t.event.ownerId}`}},[t._v("Contact sign up creator")]),t._v(" to edit your slot ")]):t._e(),t.event.blindAvailabilityEnabled?e("div",[t._v(" Responses are only visible to creator ")]):t._e()])]),e("SignUpBlocksList",{ref:"signUpBlocksList",attrs:{signUpBlocks:t.signUpBlocksByDay.flat(),signUpBlocksToAdd:t.signUpBlocksToAddByDay.flat(),isEditing:t.state==t.states.EDIT_SIGN_UP_BLOCKS,isOwner:t.isOwner,alreadyResponded:t.alreadyRespondedToSignUpForm,anonymous:t.event.blindAvailabilityEnabled},on:{"update:signUpBlock":t.editSignUpBlock,"delete:signUpBlock":t.deleteSignUpBlock,signUpForBlock:function(e){return t.$emit("signUpForBlock",e)}}})]:t.state===t.states.SET_SPECIFIC_TIMES?[t.isPhone?t._e():e("SpecificTimesInstructions",{attrs:{numTempTimes:t.tempTimes.size},on:{saveTempTimes:t.saveTempTimes}})]:[t.state==t.states.EDIT_AVAILABILITY?e("div",{staticClass:"tw-flex tw-flex-col tw-gap-5"},[!t.calendarPermissionGranted||t.event.daysOnly||t.addingAvailabilityAsGuest?e("div",{staticClass:"tw-text-sm tw-italic tw-text-dark-gray"}):t._e(),t.isGroup||t.isPhone?t._e():e("AvailabilityTypeToggle",{staticClass:"tw-w-full",model:{value:t.availabilityType,callback:function(e){t.availabilityType=e},expression:"availabilityType"}}),!t.calendarPermissionGranted||t.event.daysOnly||t.addingAvailabilityAsGuest?t._e():e("CalendarAccounts",{attrs:{toggleState:!0,eventId:t.event._id,"calendar-events-map":t.calendarEventsMap,syncWithBackend:!t.isGroup,allowAddCalendarAccount:!t.isGroup,initialCalendarAccountsData:t.isGroup?t.sharedCalendarAccounts:t.authUser.calendarAccounts},on:{toggleCalendarAccount:t.toggleCalendarAccount,toggleSubCalendarAccount:t.toggleSubCalendarAccount}}),t.showOverlayAvailabilityToggle?e("div",[e(h.A,{attrs:{id:"overlay-availabilities-toggle",inset:"","input-value":t.overlayAvailability,"hide-details":""},on:{change:t.updateOverlayAvailability},scopedSlots:t._u([{key:"label",fn:function(){return[e("div",{staticClass:"tw-text-sm tw-text-black"},[t._v(" 显示他人可用时间 ")])]},proxy:!0}],null,!1,3598933957)}),e("div",{staticClass:"tw-mt-2 tw-text-xs tw-text-dark-gray"},[t._v(" 填写时显示所有人的可用时间 ")])],1):t._e(),!t.addingAvailabilityAsGuest&&t.userHasResponded||t.curGuestId?e("div",[e(o.A,{attrs:{width:"500",persistent:""},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:i}){return[e("span",t._g(t._b({staticClass:"tw-cursor-pointer tw-text-sm tw-text-red"},"span",i,!1),s),[t._v(" "+t._s(t.isGroup?"Leave group":"删除可用时间")+" ")])]}}],null,!1,3426907077),model:{value:t.deleteAvailabilityDialog,callback:function(e){t.deleteAvailabilityDialog=e},expression:"deleteAvailabilityDialog"}},[e(a.A,[e(n.ri,[t._v("Are you sure?")]),e(n.OQ,{staticClass:"tw-text-sm tw-text-dark-gray"},[t._v("Are you sure you want to "+t._s(t.isGroup?"leave this group?":"delete your availability from this event?"))]),e(n.SL,[e(c.A),e(i.A,{attrs:{text:""},on:{click:function(e){t.deleteAvailabilityDialog=!1}}},[t._v("Cancel")]),e(i.A,{attrs:{text:"",color:"error"},on:{click:function(e){t.$emit("deleteAvailability"),t.deleteAvailabilityDialog=!1}}},[t._v(t._s(t.isGroup?"Leave":"Delete"))])],1)],1)],1)],1):t._e()],1):[e("RespondentsList",{ref:"respondentsList",attrs:{event:t.event,eventId:t.event._id,days:t.allDays,times:t.times,curDate:t.getDateFromRowCol(t.curTimeslot.row,t.curTimeslot.col),curRespondent:t.curRespondent,curRespondents:t.curRespondents,curTimeslot:t.curTimeslot,curTimeslotAvailability:t.curTimeslotAvailability,respondents:t.respondents,parsedResponses:t.parsedResponses,isOwner:t.isOwner,isGroup:t.isGroup,attendees:t.event.attendees,showCalendarEvents:t.showCalendarEvents,responsesFormatted:t.responsesFormatted,timezone:t.curTimezone,"show-best-times":t.showBestTimes,"hide-if-needed":t.hideIfNeeded,"start-calendar-on-monday":t.startCalendarOnMonday,"show-event-options":t.showEventOptions,guestAddedAvailability:t.guestAddedAvailability,addingAvailabilityAsGuest:t.addingAvailabilityAsGuest},on:{"update:showCalendarEvents":function(e){t.showCalendarEvents=e},"update:show-calendar-events":function(e){t.showCalendarEvents=e},"update:showBestTimes":function(e){t.showBestTimes=e},"update:show-best-times":function(e){t.showBestTimes=e},"update:hideIfNeeded":function(e){t.hideIfNeeded=e},"update:hide-if-needed":function(e){t.hideIfNeeded=e},"update:startCalendarOnMonday":function(e){t.startCalendarOnMonday=e},"update:start-calendar-on-monday":function(e){t.startCalendarOnMonday=e},toggleShowEventOptions:t.toggleShowEventOptions,addAvailability:function(e){return t.$emit("addAvailability")},addAvailabilityAsGuest:function(e){return t.$emit("addAvailabilityAsGuest")},mouseOverRespondent:t.mouseOverRespondent,mouseLeaveRespondent:t.mouseLeaveRespondent,clickRespondent:t.clickRespondent,editGuestAvailability:t.editGuestAvailability,refreshEvent:t.refreshEvent}})]]],2)]),t.isPhone&&!t.calendarOnly?e("ToolRow",{staticClass:"tw-px-4",attrs:{event:t.event,state:t.state,states:t.states,"cur-timezone":t.curTimezone,"show-best-times":t.showBestTimes,"hide-if-needed":t.hideIfNeeded,"start-calendar-on-monday":t.startCalendarOnMonday,"is-weekly":t.isWeekly,"calendar-permission-granted":t.calendarPermissionGranted,"week-offset":t.weekOffset,"num-responses":t.respondents.length,"mobile-num-days":t.mobileNumDays,"allow-schedule-event":t.allowScheduleEvent,"show-event-options":t.showEventOptions,"time-type":t.timeType},on:{"update:curTimezone":function(e){t.curTimezone=e},"update:cur-timezone":function(e){t.curTimezone=e},"update:showBestTimes":function(e){t.showBestTimes=e},"update:show-best-times":function(e){t.showBestTimes=e},"update:hideIfNeeded":function(e){t.hideIfNeeded=e},"update:hide-if-needed":function(e){t.hideIfNeeded=e},"update:startCalendarOnMonday":function(e){t.startCalendarOnMonday=e},"update:start-calendar-on-monday":function(e){t.startCalendarOnMonday=e},"update:mobileNumDays":function(e){t.mobileNumDays=e},"update:mobile-num-days":function(e){t.mobileNumDays=e},"update:timeType":function(e){t.timeType=e},"update:time-type":function(e){t.timeType=e},toggleShowEventOptions:t.toggleShowEventOptions,"update:weekOffset":e=>t.$emit("update:weekOffset",e),scheduleEvent:t.scheduleEvent,cancelScheduleEvent:t.cancelScheduleEvent,confirmScheduleEvent:t.confirmScheduleEvent}}):t._e(),t.isPhone&&!t.calendarOnly?e("div",{staticClass:"tw-fixed tw-bottom-16 tw-z-20 tw-w-full"},[e(r.Qo,[t.hintTextShown?[e("div",{key:t.hintText},[e("div",{class:"tw-flex tw-w-full tw-items-center tw-justify-between tw-gap-1 tw-bg-light-gray tw-px-2 tw-py-2 tw-text-sm tw-text-very-dark-gray"},[e("div",{class:"tw-flex tw-gap-"+(t.hintText.length>60?2:1)},[e(l.A,{attrs:{small:""}},[t._v("mdi-information-outline")]),e("div",[t._v(" "+t._s(t.hintText)+" ")])],1),e(l.A,{attrs:{small:""},on:{click:t.closeHint}},[t._v("mdi-close")])],1)])]:t._e()],2),e(r.Qo,[t.isGroup||!t.editing||t.isSignUp?t._e():e("div",[e("div",{staticClass:"tw-bg-white tw-p-4"},[e("AvailabilityTypeToggle",{staticClass:"tw-w-full",model:{value:t.availabilityType,callback:function(e){t.availabilityType=e},expression:"availabilityType"}})],1)])]),e(r.Qo,[t.isWeekly&&t.editing&&t.calendarPermissionGranted?e("div",[e("div",{staticClass:"tw-h-16 tw-text-sm"},[e("GCalWeekSelector",{attrs:{"week-offset":t.weekOffset,event:t.event,"start-on-monday":t.event.startOnMonday},on:{"update:weekOffset":e=>t.$emit("update:weekOffset",e)}})],1)]):t._e()]),e(r.Qo,[t.delayedShowStickyRespondents?e("div",[e("div",{staticClass:"tw-bg-white tw-p-4"},[e("RespondentsList",{attrs:{"max-height":100,event:t.event,eventId:t.event._id,days:t.allDays,times:t.times,curDate:t.getDateFromRowCol(t.curTimeslot.row,t.curTimeslot.col),curRespondent:t.curRespondent,curRespondents:t.curRespondents,curTimeslot:t.curTimeslot,curTimeslotAvailability:t.curTimeslotAvailability,respondents:t.respondents,parsedResponses:t.parsedResponses,isOwner:t.isOwner,isGroup:t.isGroup,attendees:t.event.attendees,showCalendarEvents:t.showCalendarEvents,responsesFormatted:t.responsesFormatted,timezone:t.curTimezone,"show-best-times":t.showBestTimes,"hide-if-needed":t.hideIfNeeded,"show-event-options":t.showEventOptions,guestAddedAvailability:t.guestAddedAvailability,addingAvailabilityAsGuest:t.addingAvailabilityAsGuest},on:{"update:showCalendarEvents":function(e){t.showCalendarEvents=e},"update:show-calendar-events":function(e){t.showCalendarEvents=e},"update:showBestTimes":function(e){t.showBestTimes=e},"update:show-best-times":function(e){t.showBestTimes=e},"update:hideIfNeeded":function(e){t.hideIfNeeded=e},"update:hide-if-needed":function(e){t.hideIfNeeded=e},toggleShowEventOptions:t.toggleShowEventOptions,addAvailability:function(e){return t.$emit("addAvailability")},addAvailabilityAsGuest:function(e){return t.$emit("addAvailabilityAsGuest")},mouseOverRespondent:t.mouseOverRespondent,mouseLeaveRespondent:t.mouseLeaveRespondent,clickRespondent:t.clickRespondent,editGuestAvailability:t.editGuestAvailability,refreshEvent:t.refreshEvent}})],1)]):t._e()]),e(r.Qo,[t.state===t.states.SET_SPECIFIC_TIMES?e("div",{staticClass:"-tw-mb-16 tw-bg-white tw-p-4"},[e("SpecificTimesInstructions",{attrs:{numTempTimes:t.tempTimes.size},on:{saveTempTimes:t.saveTempTimes}})],1):t._e()])],1):t._e()],1)])],1)},m=[],p=(s(4114),s(4603),s(7566),s(8721),s(5985)),w=s(6638),g=s(5353),v=s(6),f=s(8058),y=s(5420),b=function(){var t=this,e=t._self._c;return t.showAd?e("div",{staticClass:"tw-flex tw-cursor-pointer",on:{click:t.navigateToAd}},[e(y.A,{staticClass:"tw-relative tw-shadow-md sm:tw-shadow-none",attrs:{alt:"tomotime ad",src:t.isPhone?s(4532):s(6409),width:"0",transition:"fade-transition"}},[e("div",{staticClass:"tw-absolute tw-left-0 tw-top-0 tw-ml-0 tw-mt-0 tw-flex tw-h-8 tw-w-8 tw-items-center tw-justify-center tw-rounded-br-lg tw-bg-gray tw-bg-opacity-60 tw-text-xs sm:tw-ml-[6px] sm:tw-mt-[5px] sm:tw-h-10 sm:tw-w-10 sm:tw-rounded-tl-lg"},[t._v(" AD ")])])],1):t._e()},A=[],C={name:"Advertisement",props:{ownerId:{type:String,default:""}},data:()=>({link:"https://tomotime.app",eduOnly:!0,owner:null}),async mounted(){this.ownerId!==w.LJ&&(this.owner=await(0,p.Jt)(`/users/${this.ownerId}`))},computed:{isPhone(){return(0,p.tp)(this.$vuetify)}},methods:{navigateToAd(){this.$posthog?.capture("Clicked ad",{link:this.link}),window.open(this.link,"_blank")},isEduEmail(t){const e=t.split(".");return"edu"===e[e.length-1]}},watch:{},computed:{...(0,g.aH)(["authUser"]),isPhone(){return(0,p.tp)(this.$vuetify)},showAd(){return!this.eduOnly||(this.authUser&&this.isEduEmail(this.authUser.email)||this.owner&&this.isEduEmail(this.owner.email))}},components:{}},T=C,x=s(1656),k=(0,x.A)(T,b,A,!1,null,null,null),E=k.exports,D=s(6155),S=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tw-h-full tw-w-full tw-cursor-pointer tw-overflow-hidden tw-rounded-md tw-border-2 tw-border-solid tw-bg-white",class:t.unsaved?"tw-border-light-green":"tw-border-gray"},[e("div",{staticClass:"tw-h-full tw-w-full tw-overflow-hidden tw-text-ellipsis tw-p-1 tw-text-xs",style:{backgroundColor:t.backgroundColor}},[t.titleOnly?e("div",[e("div",{staticClass:"tw-text-xs tw-italic",class:t.fontColor},[t._v(" "+t._s(t.title)+" ")])]):e("div",[e("div",{staticClass:"ph-no-capture tw-font-medium",class:t.fontColor},[t._v(" "+t._s(t.signUpBlock.name)+" ")]),e("div",{staticClass:"ph-no-capture tw-font-medium",class:t.fontColor},[t._v(" ("+t._s(t.numberResponses)+"/"+t._s(t.signUpBlock.capacity)+") ")])])])])},_=[],O={name:"SignUpCalendarBlock",props:{signUpBlock:{type:Object,default:null},unsaved:{type:Boolean,default:!1},titleOnly:{type:Boolean,default:!1},title:{type:String,default:""}},data:()=>({}),computed:{numberResponses(){return this.signUpBlock&&this.signUpBlock.responses?this.signUpBlock.responses.length:0},backgroundColor(){const t=this.signUpBlock?this.signUpBlock.capacity:1,e=this.numberResponses/t,s="#00994C";let i=Math.floor(225*e).toString(16).toUpperCase().substring(0,2).padStart(2,"0");return 1==e&&(i="FF"),`${s}${i}`},fontColor(){return this.numberResponses!=this.signUpBlock?.capacity||this.unsaved?"tw-text-dark-gray":"tw-text-white"}},methods:{}},I=O,U=(0,x.A)(I,S,_,!1,null,null,null),B=U.exports,P=function(){var t=this,e=t._self._c;return e("div",{ref:"scrollableSection",staticClass:"tw-flex tw-flex-col",style:t.isPhone?"":`max-height: ${t.signUpBlocksListMaxHeight}px !important;`},[e("div",{ref:"signUpBlocksScrollView",class:t.isPhone?"tw-overflow-hidden":"tw-overflow-y-auto tw-overflow-x-hidden"},[t.isOwner&&0===t.signUpBlocks.length&&0===t.signUpBlocksToAdd.length?e("div",{staticClass:"tw-text-sm tw-italic tw-text-dark-gray"},[t._v(" Click and drag on the grid to create a slot ")]):t._e(),e("div",{staticClass:"tw-flex tw-flex-col tw-gap-3"},[t._l(t.signUpBlocksToAdd,(function(s){return e("SignUpBlock",{key:s._id,attrs:{signUpBlock:s,isEditing:t.isEditing,isOwner:t.isOwner,unsaved:""},on:{"update:signUpBlock":function(e){return t.$emit("update:signUpBlock",e)},"delete:signUpBlock":function(e){return t.$emit("delete:signUpBlock",e)},signUpForBlock:function(e){return t.$emit("signUpForBlock",e)}}})})),t._l(t.signUpBlocks,(function(s){return e("SignUpBlock",{key:s._id,attrs:{signUpBlock:s,isEditing:t.isEditing,anonymous:t.anonymous,isOwner:t.isOwner,infoOnly:t.alreadyResponded},on:{"update:signUpBlock":function(e){return t.$emit("update:signUpBlock",e)},"delete:signUpBlock":function(e){return t.$emit("delete:signUpBlock",e)},signUpForBlock:function(e){return t.$emit("signUpForBlock",e)}}})}))],2)]),e("div",{staticClass:"tw-relative"},[t.hasMounted&&!t.isPhone?e("OverflowGradient",{staticClass:"tw-h-16",attrs:{scrollContainer:t.$refs.signUpBlocksScrollView,showArrow:!1}}):t._e()],1)])},R=[],N=s(2715),j={name:"SignUpBlocksList",props:{signUpBlocks:{type:Array,required:!0},signUpBlocksToAdd:{type:Array,required:!0},isEditing:{type:Boolean,required:!0},isOwner:{type:Boolean,required:!0},alreadyResponded:{type:Boolean,required:!0},anonymous:{type:Boolean,default:!1}},data:()=>({desktopMaxHeight:0,signUpBlocksListMinHeight:400,hasMounted:!1}),mounted(){this.setDesktopMaxHeight(),addEventListener("resize",this.setDesktopMaxHeight),this.$nextTick((()=>{this.hasMounted=!0}))},computed:{...(0,g.aH)(["authUser"]),isPhone(){return(0,p.tp)(this.$vuetify)},signUpBlocksListMaxHeight(){return Math.max(this.desktopMaxHeight,this.signUpBlocksListMinHeight)}},methods:{setDesktopMaxHeight(){const t=this.$refs.scrollableSection;if(t){const{top:e}=t.getBoundingClientRect();this.desktopMaxHeight=window.innerHeight-e-32}else this.desktopMaxHeight=0},scrollToSignUpBlock(t){const e=this.$refs.signUpBlocksScrollView;if(e){const s=e.querySelector(`[data-id='${t}']`);if(s){const t=s.offsetTop-e.offsetTop;e.scrollTo({top:t,behavior:"smooth"})}}}},components:{SignUpBlock:D.A,OverflowGradient:N.A}},M=j,L=(0,x.A)(M,P,R,!1,null,null,null),H=L.exports,z=function(){var t=this,e=t._self._c;return e("div",{ref:"container",staticClass:"tw-overflow-hidden"},[e("div",{class:t.left?"line1-left":"line1-right",style:t.lineStyle}),e("div",{class:t.left?"line2-left":"line2-right",style:t.lineStyle})])},F=[],G={name:"ZigZag",props:{left:{type:Boolean,default:!1},right:{type:Boolean,default:!1}},mounted(){this.backgroundSize=2*this.$refs.container.offsetWidth},data(){return{backgroundSize:0}},computed:{lineStyle(){return{position:"absolute",width:"200%",height:"100%",backgroundSize:`${this.backgroundSize}px ${this.backgroundSize}px`,transform:this.left?`translate(${-this.backgroundSize/2}px, 0)`:""}}}},$=G,V=(0,x.A)($,z,F,!1,null,"0cb43658",null),W=V.exports,Y=s(1301),q=s(4094),Q=s(9141),J=s(3135),X=s(1358),Z=s(3138),K=s(288),tt=s(7112),et=s(6513),st=function(){var t=this,e=t._self._c;return e(o.A,{attrs:{value:t.value,"content-class":"tw-max-w-xl"},on:{input:e=>t.$emit("input",e)}},[e(a.A,[e(n.ri,{staticClass:"tw-flex"},[e("div",[t._v("Confirm details")]),e(c.A),e(i.A,{attrs:{icon:""},on:{click:function(e){return t.$emit("input",!1)}}},[e(l.A,[t._v("mdi-close")])],1)],1),e(n.OQ,{staticClass:"tw-px-0"},[e(X.A,{attrs:{accordion:"",mandatory:"",flat:""}},[e(q.A,[e(J.A,{staticClass:"tw-font-medium"},[t._v(" Attendees ")]),e(Q.A,[e("div",{staticClass:"tw-mb-4 tw-text-dark-gray"},[t._v(" Google Calendar invites will be sent to people at the following email addresses. "),t.hasContactsAccess?t._e():e("span",[e("a",{staticClass:"tw-underline",on:{click:t.requestContactsAccess}},[t._v("Enable contacts access")]),t._v(" to receive email auto-suggestions. ")])]),e("div",{staticClass:"tw-max-h-96 tw-table-auto tw-overflow-y-auto"},[e("table",{staticClass:"tw-w-full tw-text-left tw-text-black"},[e("thead",[e("tr",{staticClass:"tw-bg-white tw-font-medium"},[e("th",{staticClass:"tw-sticky tw-top-0 tw-z-10 tw-bg-white tw-pb-4"},[t._v(" Name ")]),e("th",{staticClass:"tw-sticky tw-top-0 tw-z-10 tw-bg-white tw-pb-4"},[t._v(" Email ")])])]),e("tbody",t._l(t.respondents,(function(s,i){return e("tr",[e("td",{staticClass:"tw-pb-4 tw-pr-4"},[e("div",{staticClass:"tw-flex tw-items-center"},[s.email.length>0?e("UserAvatarContent",{staticClass:"-tw-ml-3 -tw-mr-1 tw-h-4 tw-w-4",attrs:{user:s}}):e(l.A,{staticClass:"tw-ml-1 tw-mr-3",attrs:{small:""}},[t._v(" mdi-account ")]),t._v(" "+t._s(s.firstName)+" "+t._s(s.lastName)+" ")],1)]),e("td",{staticClass:"tw-pr-4"},[s.email.length>0?e("div",{staticClass:"tw-pb-4"},[t._v(" "+t._s(s.email)+" ")]):e(Y.A,{staticClass:"tw-pt-2",attrs:{"search-input":t.emails[i],items:t.formattedEmailSuggestions[i],"no-filter":"","item-text":"email","item-value":"email","hide-no-data":"","return-object":"","append-icon":"",placeholder:"Email (optional)",outlined:"",dense:"",rules:[t.rules.validEmail]},on:{"update:searchInput":function(e){return t.$set(t.emails,i,e)},"update:search-input":function(e){return t.$set(t.emails,i,e)}},scopedSlots:t._u([{key:"item",fn:function({item:s}){return[e(Z.A,[s.picture.length>0?e("img",{attrs:{src:s.picture,referrerpolicy:"no-referrer"}}):e(l.A,[t._v("mdi-account")])],1),e(K.pr,[e(K.UZ,{domProps:{textContent:t._s(`${s.firstName} ${s.lastName}`)}}),e(K.w,{domProps:{textContent:t._s(s.email)}})],1)]}}],null,!0)})],1)])})),0)])])])],1),e(q.A,[e(J.A,{staticClass:"tw-font-medium"},[t._v(" Location & description (optional) ")]),e(Q.A,[e(tt.A,{attrs:{"prepend-icon":"mdi-map-marker",placeholder:"Location",outlined:"",dense:""},model:{value:t.location,callback:function(e){t.location=e},expression:"location"}}),e(et.A,{attrs:{"prepend-icon":"mdi-text",placeholder:"Description",outlined:"",dense:"","hide-details":""},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1)],1)],1)],1),e(n.SL,[e(c.A),e(i.A,{attrs:{color:"primary",disabled:!t.confirmEnabled,loading:t.loading},on:{click:t.confirm}},[t._v(" Confirm ")])],1)],1)],1)},it=[],at={name:"ConfirmDetailsDialog",props:{value:{type:Boolean,required:!0},respondents:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},data:()=>({emails:[],prevEmails:new Set,timeouts:[],emailSuggestions:[],location:"",description:"",hasContactsAccess:!0,rules:{validEmail:t=>!(t?.length>0&&!(0,p.DT)(t))||"Please enter a valid email."}}),mounted(){this.emails=this.respondents.map((t=>t.email)),this.timeouts=this.respondents.map((()=>null)),this.emailSuggestions=this.respondents.map((()=>[])),(0,p.Jt)("/user/searchContacts?query=").catch((t=>{403===t.error?.code&&(this.hasContactsAccess=!1)}))},computed:{confirmEnabled(){for(const t of this.emails)if(!0!==this.rules.validEmail(t))return!1;return!0},formattedEmailSuggestions(){return this.emailSuggestions.map(((t,e)=>this.emails[e]?.length>0?t:[]))}},methods:{confirm(){this.$emit("confirm",{emails:this.emails,location:this.location,description:this.description})},requestContactsAccess(){this.$emit("requestContactsAccess",{emails:this.emails,location:this.location,description:this.description})},setData({emails:t,location:e,description:s}){this.emails=t,this.location=e,this.description=s},searchContacts(t,e){this.hasContactsAccess&&(clearTimeout(this.timeouts[t]),this.timeouts[t]=setTimeout((()=>{(0,p.Jt)(`/user/searchContacts?query=${e}`).then((e=>{this.$set(this.emailSuggestions,t,e)}))}),300))},emailFilter(t,e){const s=`${t.firstName} ${t.lastName} ${t.email}`;return s.toLowerCase().includes(e.toLowerCase())}},watch:{emails(){if(this.value&&this.hasContactsAccess){const t=this.emails.filter((t=>t&&!this.prevEmails.has(t)));if(0===t.length)return;const e=t[0],s=this.emails.indexOf(e);e.length>0&&this.searchContacts(s,e),this.prevEmails=new Set(this.emails)}}},components:{UserAvatarContent:v.A}},nt=at,ot=(0,x.A)(nt,st,it,!1,null,null,null),rt=ot.exports,lt=s(8983),dt=s(7296),ct=s(6237),ht=s(1844),ut=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"tw-flex tw-min-h-[5rem] tw-flex-1 tw-items-center tw-justify-center tw-text-sm sm:tw-mt-0 sm:tw-justify-between"},[e("div",{staticClass:"tw-flex tw-flex-1 tw-flex-wrap tw-gap-x-4 tw-gap-y-2 tw-py-4 sm:tw-justify-start sm:tw-gap-x-4",class:t.state===t.states.EDIT_AVAILABILITY?"tw-justify-center":"tw-justify-between"},[t.event.daysOnly?t._e():e("div",{staticClass:"tw-flex tw-items-center tw-gap-2"},[e("TimezoneSelector",{staticClass:"tw-w-full sm:tw-w-[unset]",attrs:{value:t.curTimezone},on:{input:e=>t.$emit("update:curTimezone",e)}}),e(ht.A,{staticClass:"tw-z-20 -tw-mt-px tw-w-16 tw-text-sm",attrs:{value:t.timeType,items:t.timeTypeOptions,"menu-props":{auto:!0},"item-text":"label","item-value":"value",dense:"","hide-details":""},on:{input:function(e){return t.$emit("update:timeType",e)}}})],1),t.isPhone&&!t.event.daysOnly?e("div",{staticClass:"tw-flex tw-basis-full tw-items-center tw-gap-x-2 tw-py-4"},[t._v(" Show "),e(ht.A,{staticClass:"-tw-mt-px tw-flex-none tw-shrink tw-basis-24 tw-text-sm",attrs:{value:t.mobileNumDays,items:t.mobileNumDaysOptions,"menu-props":{auto:!0},"item-text":"label","item-value":"value",dense:"","hide-details":""},on:{input:function(e){return t.$emit("update:mobileNumDays",e)}}}),t._v(" at a time ")],1):t._e(),t.state!==t.states.EDIT_AVAILABILITY&&t.isPhone?[e("EventOptions",{staticClass:"tw-mt-2 tw-w-full",attrs:{event:t.event,showBestTimes:t.showBestTimes,hideIfNeeded:t.hideIfNeeded,showEventOptions:t.showEventOptions,startCalendarOnMonday:t.startCalendarOnMonday,numResponses:t.numResponses},on:{"update:showBestTimes":e=>t.$emit("update:showBestTimes",e),"update:hideIfNeeded":e=>t.$emit("update:hideIfNeeded",e),toggleShowEventOptions:function(e){return t.$emit("toggleShowEventOptions")},"update:startCalendarOnMonday":e=>t.$emit("update:startCalendarOnMonday",e)}})]:t._e(),t.state===t.states.EDIT_AVAILABILITY&&t.isWeekly&&!t.isPhone?[e(c.A),e("div",{staticClass:"tw-min-w-fit"},[t.calendarPermissionGranted?e("GCalWeekSelector",{attrs:{"week-offset":t.weekOffset,event:t.event,"start-on-monday":t.event.startOnMonday},on:{"update:weekOffset":e=>t.$emit("update:weekOffset",e)}}):t._e()],1)]:t._e()],2),t.showScheduleEventButton?e("div",{staticClass:"tw-hidden sm:tw-flex",staticStyle:{width:"181.5px"}},[t.state!==t.states.SCHEDULE_EVENT?[e(i.A,{staticClass:"tw-w-full tw-text-blue",attrs:{outlined:""},on:{click:e=>t.$emit("scheduleEvent",e)}},[e(l.A,{attrs:{small:""}},[t._v("mdi-calendar-check")]),e("span",{staticClass:"tw-ml-2"},[t._v("确认日程")])],1)]:[e(i.A,{staticClass:"tw-mr-1 tw-text-red",attrs:{outlined:""},on:{click:e=>t.$emit("cancelScheduleEvent",e)}},[t._v(" Cancel ")]),e(ct.A,{staticClass:"tw-z-20",attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:a}){return[e(i.A,t._g(t._b({staticClass:"tw-bg-blue tw-text-white",attrs:{disabled:!t.allowScheduleEvent}},"v-btn",a,!1),s),[t._v(" Schedule ")])]}}],null,!1,142065244)},[e(lt.A,{attrs:{dense:""}},[e(dt.A,{on:{click:e=>t.$emit("confirmScheduleEvent",!0)}},[e(y.A,{staticClass:"tw-mr-2 tw-flex-none",attrs:{src:s(1639),height:"20",width:"20"}}),e(K.pr,[e(K.UZ,[t._v("Google Calendar")])],1)],1),e(dt.A,{on:{click:e=>t.$emit("confirmScheduleEvent",!1)}},[e(y.A,{staticClass:"tw-mr-2 tw-flex-none",attrs:{src:s(5155),height:"20",width:"20"}}),e(K.pr,[e(K.UZ,[t._v("Outlook")])],1)],1)],1)],1)]],2):t._e()])])},mt=[],pt=s(7202),wt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tw-flex tw-h-16 tw-items-center tw-justify-between tw-gap-2 tw-bg-white tw-px-2 tw-drop-shadow sm:tw-h-[unset] sm:tw-flex-1 sm:tw-px-0 sm:tw-drop-shadow-none"},[e(i.A,{attrs:{icon:""},on:{click:t.prevWeek}},[e(l.A,[t._v("mdi-chevron-left")])],1),e("div",{staticClass:"tw-text-center"},[t._v(" Showing calendar for week of "+t._s(t.weekText)+" ")]),e(i.A,{attrs:{icon:""},on:{click:t.nextWeek}},[e(l.A,[t._v("mdi-chevron-right")])],1)],1)},gt=[],vt=s(4353),ft=s.n(vt),yt={name:"GCalWeekSelector",props:{weekOffset:{type:Number,required:!0},startOnMonday:{type:Boolean,default:!1},event:{type:Object,required:!0}},data(){return{}},computed:{isPhone(){return(0,p.tp)(this.$vuetify)},weekText(){const t=(0,p.OV)(this.event.dates,this.event.dates[0],this.weekOffset,!0);return t.setDate(t.getDate()-t.getDay()),this.startOnMonday&&t.setDate(t.getDate()+1),ft()(t).format("M/D")}},methods:{nextWeek(){this.$emit("update:weekOffset",this.weekOffset+1)},prevWeek(){this.$emit("update:weekOffset",this.weekOffset-1)}}},bt=yt,At=(0,x.A)(bt,wt,gt,!1,null,null,null),Ct=At.exports,Tt=s(173),xt=function(){var t=this,e=t._self._c;return e("div")},kt=[],Et={name:"EventOptions",components:{ExpandableSection:Tt.A},props:{event:{type:Object,required:!0},showBestTimes:{type:Boolean,required:!0},hideIfNeeded:{type:Boolean,required:!0},numResponses:{type:Number,required:!0},showEventOptions:{type:Boolean,required:!0},showCalendarEvents:{type:Boolean,default:!1},startCalendarOnMonday:{type:Boolean,default:!1}},computed:{isPhone(){return(0,p.tp)(this.$vuetify)},isGroup(){return this.event.type===w.mu.GROUP}}},Dt=Et,St=(0,x.A)(Dt,xt,kt,!1,null,null,null),_t=St.exports,Ot={name:"ToolRow",props:{event:{type:Object,required:!0},state:{type:String,required:!0},states:{type:Object,required:!0},curTimezone:{type:Object,required:!0},startCalendarOnMonday:{type:Boolean,default:!1},showBestTimes:{type:Boolean,required:!0},hideIfNeeded:{type:Boolean,required:!0},isWeekly:{type:Boolean,required:!0},calendarPermissionGranted:{type:Boolean,required:!0},weekOffset:{type:Number,required:!0},numResponses:{type:Number,required:!0},mobileNumDays:{type:Number,default:3},allowScheduleEvent:{type:Boolean,required:!0},showEventOptions:{type:Boolean,required:!0},timeType:{type:String,required:!0}},components:{TimezoneSelector:pt.A,GCalWeekSelector:Ct,Advertisement:E,ExpandableSection:Tt.A,EventOptions:_t},data:()=>({mobileNumDaysOptions:[{label:"3 days",value:3},{label:"7 days",value:7}],timeTypeOptions:[{label:"12h",value:w.vR.HOUR12},{label:"24h",value:w.vR.HOUR24}]}),mounted(){},computed:{...(0,g.aH)(["authUser"]),isPhone(){return(0,p.tp)(this.$vuetify)},guestEvent(){return this.event.ownerId==w.LJ},isOwner(){return this.event.ownerId==this.authUser?._id},showScheduleEventButton(){return!this.event.daysOnly&&this.numResponses>0&&this.state!==this.states.EDIT_AVAILABILITY&&(this.guestEvent||this.isOwner)}}},It=Ot,Ut=(0,x.A)(It,ut,mt,!1,null,null,null),Bt=Ut.exports,Pt=s(4112),Rt=s(4347),Nt=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"tw-flex tw-items-center tw-font-medium"},[!t.isOwner&&t.event.blindAvailabilityEnabled?[t._v(" Your response ")]:[e("div",{staticClass:"tw-mr-1 tw-text-lg"},[t._v(" "+t._s(t.isGroup?"成员":"参与者")+" ")]),e("div",{staticClass:"tw-font-normal"},[0===t.curRespondents.length?[t._v(" "+t._s(t.isCurTimeslotSelected?`(${t.numUsersAvailable}/${t.respondents.length})`:`(${t.respondents.length})`)+" ")]:[t._v(" "+t._s(t.isCurTimeslotSelected?`(${t.numCurRespondentsAvailable}/${t.curRespondents.length})`:`(${t.curRespondents.length})`)+" ")]],2),t.allowExportCsv?[e(c.A),e(ct.A,{attrs:{right:"","offset-x":""},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:a}){return[e(i.A,t._g(t._b({attrs:{icon:""}},"v-btn",a,!1),s),[e(l.A,[t._v("mdi-dots-vertical")])],1)]}}],null,!1,3221905750)},[e(lt.A,{staticClass:"tw-py-1",attrs:{dense:""}},[e(o.A,{attrs:{width:"400"},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:i}){return[e(dt.A,t._g(t._b({attrs:{id:"export-csv-btn"},on:{click:t.trackExportCsvClick}},"v-list-item",i,!1),s),[e(K.UZ,[t._v("导出 CSV")])],1)]}}],null,!1,2663053614),model:{value:t.exportCsvDialog.visible,callback:function(e){t.$set(t.exportCsvDialog,"visible",e)},expression:"exportCsvDialog.visible"}},[e(a.A,[e(n.ri,[t._v("导出 CSV")]),e(n.OQ,[e("div",{staticClass:"tw-mb-1"},[t._v("Select CSV format:")]),e(ht.A,{attrs:{solo:"","hide-details":"",items:t.exportCsvDialog.types,"item-text":"text","item-value":"value"},model:{value:t.exportCsvDialog.type,callback:function(e){t.$set(t.exportCsvDialog,"type",e)},expression:"exportCsvDialog.type"}})],1),e(n.SL,[e(c.A),e(i.A,{attrs:{text:"",disabled:t.exportCsvDialog.loading},on:{click:function(e){t.exportCsvDialog.visible=!1}}},[t._v("取消")]),e(i.A,{attrs:{text:"",color:"primary",loading:t.exportCsvDialog.loading},on:{click:t.exportCsv}},[t._v("导出")])],1)],1)],1)],1)],1)]:t._e()],t.isPhone?[e(c.A),e("div",{staticClass:"tw-mt-2 tw-text-sm tw-font-normal tw-text-dark-gray",class:t.showIfNeededStar?"tw-visible":"tw-invisible"},[t._v(" * if needed ")])]:t._e()],2),t.isOwner&&!t.isPhone&&t.event.blindAvailabilityEnabled?e("div",{staticClass:"tw-mb-2 tw-mt-1 tw-text-xs tw-italic tw-text-very-dark-gray"},[t._v(" Responses are only visible to "+t._s(t.isOwner?"you":"event creator")+" ")]):t._e(),e("div",{ref:"scrollableSection",staticClass:"tw-flex tw-flex-col",style:t.maxHeight?`max-height: ${t.maxHeight}px !important;`:t.isPhone?"":`max-height: ${t.respondentsListMaxHeight}px !important;`},[e("div",{ref:"respondentsScrollView",staticClass:"-tw-ml-2 tw-pl-2 tw-pt-2 tw-text-sm",class:t.isPhone&&!t.maxHeight?"tw-overflow-hidden":"tw-overflow-y-auto tw-overflow-x-hidden"},[0===t.respondents.length?e("div",{staticClass:"tw-mb-6"},[!t.isOwner&&t.event.blindAvailabilityEnabled?e("span",{staticClass:"tw-text-very-dark-gray"},[t._v(" No response yet! ")]):e("span",{staticClass:"tw-text-very-dark-gray"},[t._v("No responses yet!")])]):[e("transition-group",{staticClass:"tw-grid tw-grid-cols-2 tw-gap-x-2 sm:tw-block",attrs:{name:"list"}},t._l(t.orderedRespondents,(function(s,a){return e("div",{key:s._id,staticClass:"tw-group tw-relative tw-flex tw-cursor-pointer tw-items-center tw-py-1",on:{mouseover:e=>t.$emit("mouseOverRespondent",e,s._id),mouseleave:function(e){return t.$emit("mouseLeaveRespondent")},click:e=>t.clickRespondent(e,s._id)}},[e("div",{staticClass:"tw-relative tw-flex tw-items-center"},[e("div",{staticClass:"tw-ml-1 tw-mr-3"},[t.isGuest(s)?e(Pt.A,{attrs:{size:16}},[e(l.A,{attrs:{small:""}},[t._v("mdi-account")])],1):e("UserAvatarContent",{attrs:{user:s,size:16}})],1),e(Rt.A,{staticClass:"tw-absolute -tw-top-[2px] tw-left-0 tw-bg-white tw-opacity-0 group-hover:tw-opacity-100 group-[&:has(.email-hover-target:hover)]:!tw-opacity-0",class:t.respondentSelected(s._id)?"tw-opacity-100":"tw-opacity-0",attrs:{color:"primary",value:t.respondentSelected(s._id)},on:{click:e=>t.$emit("clickRespondent",e,s._id)}})],1),e("div",{staticClass:"tw-flex tw-flex-col"},[e("div",{staticClass:"tw-mr-1 tw-transition-all",class:t.respondentClass(s._id)},[t._v(" "+t._s(s.firstName+" "+s.lastName+(t.respondentIfNeeded(s._id)?"*":""))+" ")]),t.isOwner&&t.event.collectEmails?e("div",{staticClass:"email-hover-target tw-flex tw-items-center tw-rounded-sm tw-p-px tw-text-xs tw-text-dark-gray tw-transition-all hover:tw-bg-light-gray",class:t.respondentClass(s._id),on:{mouseover:function(t){t.stopPropagation()},click:function(e){return e.stopPropagation(),t.copyEmailToClipboard(s.email)}}},[t._v(" "+t._s(s.email)+" "),e(l.A,{staticClass:"tw-ml-1 tw-text-xs"},[t._v("mdi-content-copy")])],1):t._e()]),e("div",{staticClass:"tw-absolute tw-right-0 tw-opacity-0 tw-transition-none group-hover:tw-opacity-100 group-[&:has(.email-hover-target:hover)]:!tw-opacity-0"},[t.isGuest(s)?e(i.A,{staticClass:"tw-bg-white",attrs:{small:"",icon:""},on:{click:function(e){return t.$emit("editGuestAvailability",s._id)}}},[e(l.A,{attrs:{small:"",color:"#4F4F4F"}},[t._v("mdi-pencil")])],1):t._e(),t.isOwner&&!t.isGroup?e(i.A,{staticClass:"tw-bg-white",attrs:{small:"",icon:""},on:{click:()=>t.showDeleteAvailabilityDialog(s)}},[e(l.A,{staticClass:"hover:tw-text-red",attrs:{small:"",color:"#4F4F4F"}},[t._v("mdi-delete")])],1):t._e()],1)])})),0),e("div",{staticClass:"tw-h-2"})]],2),e("div",{staticClass:"tw-relative"},[t.hasMounted&&!t.isPhone?e("OverflowGradient",{staticClass:"tw-h-16",attrs:{scrollContainer:t.$refs.respondentsScrollView,showArrow:!1}}):t._e()],1),!t.isPhone&&t.respondents.length>0?e("div",{staticClass:"tw-col-span-full tw-mb-2 tw-mt-1 tw-text-sm tw-text-dark-gray",class:t.showIfNeededStar?"tw-visible":"tw-invisible"},[t._v(" * 如果需要的话 ")]):t._e(),!t.maxHeight&&t.pendingUsers.length>0?e("div",{staticClass:"tw-mb-4 sm:tw-mb-6"},[e("div",{staticClass:"tw-mb-2 tw-flex tw-items-center tw-font-medium"},[e("div",{staticClass:"tw-mr-1 tw-text-lg"},[t._v("Pending")]),e("div",{staticClass:"tw-font-normal"},[t._v("("+t._s(t.pendingUsers.length)+")")])]),e("div",t._l(t.pendingUsers,(function(s,i){return e("div",{key:s.email},[e("div",{staticClass:"tw-relative tw-flex tw-items-center"},[e(l.A,{staticClass:"tw-ml-1 tw-mr-3",attrs:{small:""}},[t._v("mdi-account")]),e("div",{staticClass:"tw-mr-1 tw-text-sm tw-transition-all"},[t._v(" "+t._s(s.email)+" ")])],1)])})),0)]):t._e(),t.isPhone?t._e():[t.isGroup||!t.authUser&&!t.guestAddedAvailability||t.event.blindAvailabilityEnabled&&!t.isOwner?t._e():e(i.A,{staticClass:"-tw-ml-2 tw-mb-4 tw-w-min tw-px-2",attrs:{text:"",color:"primary"},on:{click:()=>{t.authUser?t.$emit("addAvailabilityAsGuest"):t.$emit("addAvailability")}}},[t._v(" "+t._s(t.authUser?"添加可用时间（嘉宾）":"添加可用时间"))]),t.respondents.length>1?e(h.A,{staticClass:"tw-mb-4",attrs:{inset:"",id:"show-best-times-toggle","input-value":t.showBestTimes,"hide-details":""},on:{change:e=>t.$emit("update:showBestTimes",!!e)},scopedSlots:t._u([{key:"label",fn:function(){return[e("div",{staticClass:"tw-text-sm tw-text-black"},[t._v(" Show best "+t._s(t.event.daysOnly?"days":"times")+" ")])]},proxy:!0}],null,!1,643354643)}):t._e(),e("EventOptions",{attrs:{event:t.event,showEventOptions:t.showEventOptions,showBestTimes:t.showBestTimes,hideIfNeeded:t.hideIfNeeded,showCalendarEvents:t.showCalendarEvents,startCalendarOnMonday:t.startCalendarOnMonday,numResponses:t.respondents.length},on:{toggleShowEventOptions:function(e){return t.$emit("toggleShowEventOptions")},"update:showBestTimes":e=>t.$emit("update:showBestTimes",e),"update:hideIfNeeded":e=>t.$emit("update:hideIfNeeded",e),"update:showCalendarEvents":e=>t.$emit("update:showCalendarEvents",e),"update:startCalendarOnMonday":e=>t.$emit("update:startCalendarOnMonday",e)}})]],2),t.isOwner&&!t.isPhone||!t.event.blindAvailabilityEnabled?t._e():e("div",{staticClass:"tw-mt-2 tw-text-xs tw-italic tw-text-very-dark-gray"},[t._v(" Responses are only visible to "+t._s(t.isOwner?"you":"event creator")+" ")]),e(o.A,{attrs:{width:"500",persistent:""},model:{value:t.deleteAvailabilityDialog,callback:function(e){t.deleteAvailabilityDialog=e},expression:"deleteAvailabilityDialog"}},[e(a.A,[e(n.ri,[t._v("Are you sure?")]),e(n.OQ,{staticClass:"tw-text-sm tw-text-dark-gray"},[t._v("Are you sure you want to delete "),e("strong",[t._v(t._s(t.userToDelete?.firstName))]),t._v("'s availability from this "+t._s(t.isGroup?"group":"event")+"?")]),e(n.SL,[e(c.A),e(i.A,{attrs:{text:""},on:{click:function(e){t.deleteAvailabilityDialog=!1}}},[t._v("取消")]),e(i.A,{attrs:{text:"",color:"error"},on:{click:()=>{t.deleteAvailability(t.userToDelete),t.deleteAvailabilityDialog=!1}}},[t._v("Delete")])],1)],1)],1),t.isGroup&&t.isPhone?e(h.A,{staticClass:"tw-mb-4",class:t.maxHeight&&"tw-mt-2",attrs:{inset:"","input-value":t.showCalendarEvents,"hide-details":""},on:{change:e=>t.$emit("update:showCalendarEvents",Boolean(e))},scopedSlots:t._u([{key:"label",fn:function(){return[e("div",{staticClass:"tw-text-sm tw-text-black"},[t._v("Overlay calendar events")])]},proxy:!0}],null,!1,4195766495)}):t._e(),t.maxHeight||!t.isPhone||t.isGroup||!t.authUser&&!t.guestAddedAvailability||t.event.blindAvailabilityEnabled&&!t.isOwner?t._e():e(i.A,{staticClass:"-tw-ml-2 tw-mt-4 tw-w-min tw-px-2",attrs:{text:"",color:"primary"},on:{click:()=>{t.authUser?t.$emit("addAvailabilityAsGuest"):t.$emit("addAvailability")}}},[t._v(" "+t._s((t.authUser,"添加可用时间")))])],1)},jt=[],Mt={name:"RespondentsList",components:{UserAvatarContent:v.A,EventOptions:_t,OverflowGradient:N.A},props:{eventId:{type:String,required:!0},event:{type:Object,required:!0},days:{type:Array,required:!0},times:{type:Array,required:!0},curDate:{type:Date,required:!1},curRespondent:{type:String,required:!0},curRespondents:{type:Array,required:!0},curTimeslot:{type:Object,required:!0},curTimeslotAvailability:{type:Object,required:!0},respondents:{type:Array,required:!0},parsedResponses:{type:Object,required:!0},isOwner:{type:Boolean,required:!0},maxHeight:{type:Number},isGroup:{type:Boolean,required:!0},attendees:{type:Array,default:()=>[]},showCalendarEvents:{type:Boolean,required:!0},responsesFormatted:{type:Map,required:!0},timezone:{type:Object,required:!0},showBestTimes:{type:Boolean,required:!0},hideIfNeeded:{type:Boolean,required:!0},startCalendarOnMonday:{type:Boolean,default:!1},showEventOptions:{type:Boolean,required:!0},guestAddedAvailability:{type:Boolean,required:!0},addingAvailabilityAsGuest:{type:Boolean,required:!0}},data(){return{deleteAvailabilityDialog:!1,exportCsvDialog:{visible:!1,loading:!1,type:"datesToAvailable",types:[{text:"Dates <> people available",value:"datesToAvailable"},{text:"Name <> dates available",value:"nameToDates"}]},userToDelete:null,desktopMaxHeight:0,respondentsListMinHeight:400,oldCurRespondents:[],curRespondentsAddedTime:{},hasMounted:!1}},computed:{...(0,g.aH)(["authUser"]),allowExportCsv(){return!this.isGroup&&!this.isPhone&&(this.event.blindAvailabilityEnabled?this.isOwner&&this.respondents.length>0:this.respondents.length>0)},curRespondentsSet(){return new Set(this.curRespondents)},isCurTimeslotSelected(){return-1!==this.curTimeslot.dayIndex&&-1!==this.curTimeslot.timeIndex},numUsersAvailable(){this.curTimeslot;let t=0;for(const e in this.curTimeslotAvailability)this.curTimeslotAvailability[e]&&t++;return t},numCurRespondentsAvailable(){this.curTimeslot;let t=0;for(const e in this.curTimeslotAvailability)this.curTimeslotAvailability[e]&&this.curRespondentsSet.has(e)&&t++;return t},pendingUsers(){if(!this.isGroup)return[];const t=new Set(this.respondents.map((t=>t.email.toLowerCase())));return this.attendees.filter((e=>!e.declined&&!t.has(e.email.toLowerCase())))},showIfNeededStar(){if(this.hideIfNeeded)return!1;for(const t of this.respondents)if(this.respondentIfNeeded(t._id))return!0;return!1},isPhone(){return(0,p.tp)(this.$vuetify)},orderedRespondents(){const t=[...this.respondents];return t.sort(((t,e)=>this.curRespondentsSet.has(t._id)&&this.curRespondentsSet.has(e._id)?this.curRespondentsAddedTime[t._id]-this.curRespondentsAddedTime[e._id]:this.curRespondentsSet.has(t._id)&&!this.curRespondentsSet.has(e._id)?-1:!this.curRespondentsSet.has(t._id)&&this.curRespondentsSet.has(e._id)?1:(t.firstName||"").localeCompare(e.firstName||""))),t},respondentsListMaxHeight(){return Math.max(this.desktopMaxHeight,this.respondentsListMinHeight)}},methods:{...(0,g.i0)(["showError","showInfo"]),clickRespondent(t,e){t.stopImmediatePropagation(),this.$emit("clickRespondent",t,e)},respondentClass(t){const e=[];return this.curRespondentsSet.has(t)||this.curRespondents.length>0&&e.push("tw-text-gray"),(this.curRespondentsSet.has(t)||0===this.curRespondents.length)&&this.respondentIfNeeded(t)&&e.push("tw-bg-yellow"),this.curTimeslotAvailability[t]||(e.push("tw-line-through"),e.push("tw-text-gray")),e},respondentIfNeeded(t){return!(!this.curDate||this.hideIfNeeded)&&Boolean(this.parsedResponses[t]?.ifNeeded?.has(this.curDate.getTime()))},respondentSelected(t){return this.curRespondentsSet.has(t)},isGuest(t){return t._id==t.firstName},showDeleteAvailabilityDialog(t){this.deleteAvailabilityDialog=!0,this.userToDelete=t},async deleteAvailability(t){try{await(0,p.jd)(`/events/${this.eventId}/response`,{guest:this.isGuest(t),userId:t._id,name:t._id}),this.$emit("refreshEvent"),this.showInfo("Availability successfully deleted!"),this.$posthog?.capture("Deleted availability of another user",{eventId:this.eventId,userId:t._id})}catch(e){console.error(e),this.showError("There was an error deleting that person's availability!")}},getDateString(t){const e=(0,p.JK)();return this.event.daysOnly?t.toISOString().substring(0,10):'"'+t.toLocaleString(e,{timeZone:this.timezone.value})+'"'},async exportCsv(){const t=[],e=15,s=this.event.daysOnly?1:60*this.event.duration/e,i=Object.values(this.parsedResponses).sort(((t,e)=>t.user.firstName.localeCompare(e.user.firstName)));if("datesToAvailable"===this.exportCsvDialog.type){const a=["Date / Time"];a.push(...i.map((t=>t.user.firstName+" "+t.user.lastName))),t.push(a);for(const n of this.event.dates){const a=new Date(n);for(let n=0;n<s;++n){const s=[this.getDateString(a)];for(const t of i)t.availability.has(a.getTime())?s.push("Available"):t.ifNeeded.has(a.getTime())?s.push("If needed"):s.push("");t.push(s),a.setMinutes(a.getMinutes()+e)}}}else if("nameToDates"===this.exportCsvDialog.type){t.push(["Name","Date / Times available"]);for(const a of i){const i=[`${a.user.firstName} ${a.user.lastName}`];for(const t of this.event.dates){const n=new Date(t);for(let t=0;t<s;++t)a.availability.has(n.getTime())||a.ifNeeded.has(n.getTime())?i.push(this.getDateString(n)):i.push(""),n.setMinutes(n.getMinutes()+e)}t.push(i)}}const a="data:text/csv;charset=utf-8,"+t.map((t=>t.join(","))).join("\n"),n=encodeURI(a),o=document.createElement("a");o.href=n,o.download=`${this.event.name}.csv`,document.body.appendChild(o),o.click(),document.body.removeChild(o)},trackExportCsvClick(){this.$posthog?.capture("export_csv_clicked",{eventId:this.eventId,numRespondents:this.respondents.length})},setDesktopMaxHeight(){const t=this.$refs.scrollableSection;if(t){const{top:e}=t.getBoundingClientRect();this.desktopMaxHeight=window.innerHeight-e-32}else this.desktopMaxHeight=0},async copyEmailToClipboard(t){try{await navigator.clipboard.writeText(t),this.showInfo("Email copied to clipboard!")}catch(e){console.error("Failed to copy email: ",e),this.showError("Failed to copy email.")}}},mounted(){this.setDesktopMaxHeight(),addEventListener("resize",this.setDesktopMaxHeight),this.$nextTick((()=>{this.hasMounted=!0}))},beforeDestroy(){removeEventListener("resize",this.setDesktopMaxHeight)},watch:{curRespondents:{deep:!0,handler(){const t=new Set(this.oldCurRespondents),e=new Set(this.curRespondents),s=this.curRespondents.filter((e=>!t.has(e))),i=this.oldCurRespondents.filter((t=>!e.has(t)));for(const a of s)this.$set(this.curRespondentsAddedTime,a,(new Date).getTime());for(const a of i)this.$delete(this.curRespondentsAddedTime,a);this.oldCurRespondents=[...this.curRespondents]}}}},Lt=Mt,Ht=(0,x.A)(Lt,Nt,jt,!1,null,"2774d2ae",null),zt=Ht.exports,Ft=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"tw-mb-1 tw-text-sm tw-text-black"},[t._v("Working hours")]),e("div",{staticClass:"tw-mb-2 tw-text-xs tw-text-dark-gray"},[t._v(" Only autofill availability between working hours ")]),e(h.A,{attrs:{id:"working-hours-toggle",inset:"","input-value":t.workingHours.enabled,"hide-details":""},on:{change:e=>t.updateWorkingHours("enabled",e)},scopedSlots:t._u([{key:"label",fn:function(){return[e("div",{staticClass:"tw-text-sm tw-text-black"},[e("div",{staticClass:"tw-flex tw-items-center tw-gap-2"},[e(ht.A,{staticClass:"-tw-mt-0.5 tw-w-20 tw-text-xs",attrs:{"menu-props":"auto",dense:"","hide-details":"","return-object":"",items:t.times,value:t.workingHours.startTime},on:{input:e=>t.updateWorkingHours("startTime",e.time),click:t=>{t.preventDefault(),t.stopPropagation()}}}),e("div",[t._v("to")]),e(ht.A,{staticClass:"-tw-mt-0.5 tw-w-20 tw-text-xs",attrs:{"menu-props":"auto",dense:"","hide-details":"","return-object":"",items:t.times,value:t.workingHours.endTime},on:{input:e=>t.updateWorkingHours("endTime",e.time),click:t=>{t.preventDefault(),t.stopPropagation()}}})],1)])]},proxy:!0}])})],1)},Gt=[],$t={name:"WorkingHoursToggle",props:{workingHours:{type:Object,required:!0},syncWithBackend:{type:Boolean,default:!1}},computed:{times(){return(0,p.Sk)()}},methods:{updateWorkingHours(t,e){const s={...this.workingHours,[t]:e};this.syncWithBackend&&(0,p.F6)("/user/calendar-options",{workingHours:s}),this.$emit("update:workingHours",s)}}},Vt=$t,Wt=(0,x.A)(Vt,Ft,Gt,!1,null,null,null),Yt=Wt.exports,qt=s(2491),Qt=function(){var t=this,e=t._self._c;return e("div",{ref:"tooltipTrigger",staticClass:"tw-relative"},[t._t("default"),t.isVisible&&t.content?e("div",{staticClass:"tw-pointer-events-none tw-fixed tw-z-50 tw-rounded-lg tw-bg-dark-gray tw-px-1.5 tw-py-1 tw-text-xs tw-text-white tw-shadow-lg tw-transition-opacity tw-duration-200",style:{left:`${t.position.x}px`,top:`${t.position.y}px`,transform:"translate(-50%, -50%)"}},[t._v(" "+t._s(t.content)+" ")]):t._e()],2)},Jt=[],Xt={name:"Tooltip",props:{content:{type:String,default:""}},data(){return{position:{x:0,y:0},isVisible:!1,showTimeout:null}},watch:{content:{handler(t){this.showTimeout&&clearTimeout(this.showTimeout),this.isVisible=!1,t&&(this.showTimeout=setTimeout((()=>{this.isVisible=!0}),700))},immediate:!0}},methods:{handleMouseMove(t){this.position={x:t.clientX,y:t.clientY-30}},handleMouseEnter(){this.content&&(this.isVisible=!0)},handleMouseLeave(){this.isVisible=!1}},mounted(){this.$refs.tooltipTrigger&&(this.$refs.tooltipTrigger.addEventListener("mousemove",this.handleMouseMove),this.$refs.tooltipTrigger.addEventListener("mouseenter",this.handleMouseEnter),this.$refs.tooltipTrigger.addEventListener("mouseleave",this.handleMouseLeave))},beforeDestroy(){this.showTimeout&&clearTimeout(this.showTimeout),this.$refs.tooltipTrigger&&(this.$refs.tooltipTrigger.removeEventListener("mousemove",this.handleMouseMove),this.$refs.tooltipTrigger.removeEventListener("mouseenter",this.handleMouseEnter),this.$refs.tooltipTrigger.removeEventListener("mouseleave",this.handleMouseLeave))}},Zt=Xt,Kt=(0,x.A)(Zt,Qt,Jt,!1,null,null,null),te=Kt.exports,ee=(s(6033),s(2808)),se=s.n(ee),ie=s(3826),ae=s.n(ie),ne=s(8569),oe=s.n(ne),re=function(){var t=this,e=t._self._c;return e("SlideToggle",{attrs:{value:t.value,options:t.options},on:{input:e=>t.$emit("input",e)}})},le=[],de=s(7545),ce={name:"AvailabilityTypeToggle",props:{value:{type:String,required:!0}},components:{SlideToggle:de.A},data(){return{options:[{text:"有空",activeClass:"tw-text-green tw-bg-green/5",borderClass:"tw-border-green",borderStyle:{boxShadow:"0px 2px 8px 0px #00994C40"},value:w.xH.AVAILABLE},{text:"如果需要",activeClass:"tw-text-dark-yellow tw-bg-yellow/5",borderClass:"tw-border-orange",borderStyle:{boxShadow:"0px 2px 8px 0px #FEDB9340"},value:w.xH.IF_NEEDED}]}}},he=ce,ue=(0,x.A)(he,re,le,!1,null,null,null),me=ue.exports,pe=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"tw-mb-1 tw-text-sm tw-text-black"},[t._v("Buffer time")]),e("div",{staticClass:"tw-mb-2 tw-text-xs tw-text-dark-gray"},[t._v(" Add time around calendar events ")]),e(h.A,{staticClass:"tw-flex tw-items-center",attrs:{id:"buffer-time-switch","input-value":t.bufferTime.enabled,inset:"","hide-details":""},on:{change:t.handleBufferTimeToggle},scopedSlots:t._u([{key:"label",fn:function(){return[e("div",{staticClass:"tw-flex tw-items-center tw-justify-center tw-gap-2 tw-text-sm tw-text-black"},[e(ht.A,{staticClass:"-tw-mt-0.5 tw-w-20 tw-text-xs",attrs:{"menu-props":"auto",dense:"","hide-details":"",items:t.bufferTimes,value:t.bufferTime.time},on:{input:e=>t.updateBufferTime("time",e),click:t=>{t.preventDefault(),t.stopPropagation()}}})],1)]},proxy:!0}])})],1)},we=[],ge={name:"BufferTimeToggle",props:{bufferTime:{type:Object,required:!0},syncWithBackend:{type:Boolean,default:!1}},components:{},data(){return{bufferTimes:[{text:"15 min",value:15},{text:"30 min",value:30},{text:"45 min",value:45},{text:"1 hour",value:60}]}},methods:{updateBufferTime(t,e){const s={...this.bufferTime,[t]:e};this.syncWithBackend&&(0,p.F6)("/user/calendar-options",{bufferTime:s}),this.$emit("update:bufferTime",s)},handleBufferTimeToggle(t){this.updateBufferTime("enabled",t),this.$posthog?.capture("buffer_time_switch_toggled",{enabled:t})}}},ve=ge,fe=(0,x.A)(ve,pe,we,!1,null,null,null),ye=fe.exports,be=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:t.transitionName,appear:""}},[e("div",{staticClass:"tw-absolute tw-w-full tw-select-none tw-p-px",staticStyle:{"pointer-events":"none"},style:t.blockStyle},[e("div",{staticClass:"tw-h-full tw-w-full tw-overflow-hidden tw-text-ellipsis tw-rounded tw-border tw-border-solid tw-p-1 tw-text-xs",class:t.containerClass},[e("div",{staticClass:"ph-no-capture tw-font-medium",class:t.textColor},[t._v(" "+t._s(t.noEventNames?"BUSY":t.calendarEvent.summary)+" ")])])])])},Ae=[],Ce={name:"CalendarEventBlock",props:{blockStyle:{type:Object,default:()=>({})},calendarEvent:{type:Object,required:!0},isGroup:{type:Boolean,required:!0},isEditingAvailability:{type:Boolean,required:!0},noEventNames:{type:Boolean,required:!0},transitionName:{type:String,required:!0}},computed:{containerClass(){return this.calendarEvent.free?this.isGroup&&!this.isEditingAvailability?"tw-border-white tw-bg-light-blue tw-opacity-50":"tw-border-dashed tw-border-blue":this.isGroup&&!this.isEditingAvailability?"tw-border-white tw-bg-light-blue":"tw-border-blue"},textColor(){const t=this.isGroup&&!this.isEditingAvailability?"white":this.noEventNames?"dark-gray":"blue";return`tw-text-${t}`}}},Te=Ce,xe=(0,x.A)(Te,be,Ae,!1,null,null,null),ke=xe.exports,Ee=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tw-flex tw-flex-col tw-gap-4 tw-pr-2 lg:tw-pr-0"},[e("div",{staticClass:"tw-text-sm tw-italic tw-text-dark-gray"},[t._v(" Click and drag on the grid to select the potential meeting times ")]),t._m(0),e(i.A,{attrs:{color:"primary",disabled:0===t.numTempTimes},on:{click:t.saveTempTimes}},[t._v("Next")])],1)},De=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"tw-flex tw-flex-col tw-gap-1"},[e("div",{staticClass:"tw-text-sm tw-font-medium"},[t._v("Legend:")]),e("div",{staticClass:"tw-flex tw-items-center tw-gap-2"},[e("div",{staticClass:"tw-h-4 tw-w-4 tw-rounded tw-bg-gray"}),e("span",{staticClass:"tw-text-sm"},[t._v("Blocked off")])]),e("div",{staticClass:"tw-flex tw-items-center tw-gap-2"},[e("div",{staticClass:"tw-h-4 tw-w-4 tw-rounded tw-border tw-border-gray tw-bg-white"}),e("span",{staticClass:"tw-text-sm"},[t._v("Potential meeting times")])])])}],Se={name:"SpecificTimesInstructions",props:{numTempTimes:{type:Number,required:!0}},methods:{saveTempTimes(){this.$emit("saveTempTimes")}}},_e=Se,Oe=(0,x.A)(_e,Ee,De,!1,null,"4b59e3da",null),Ie=Oe.exports;ft().locale("zh-cn"),ft().extend(ae()),ft().extend(oe());var Ue={name:"ScheduleOverlap",props:{event:{type:Object,required:!0},fromEditEvent:{type:Boolean,default:!1},loadingCalendarEvents:{type:Boolean,default:!1},calendarEventsMap:{type:Object,default:()=>{}},sampleCalendarEventsByDay:{type:Array,required:!1},calendarPermissionGranted:{type:Boolean,default:!1},weekOffset:{type:Number,default:0},alwaysShowCalendarEvents:{type:Boolean,default:!1},noEventNames:{type:Boolean,default:!1},calendarOnly:{type:Boolean,default:!1},interactable:{type:Boolean,default:!0},showSnackbar:{type:Boolean,default:!0},animateTimeslotAlways:{type:Boolean,default:!1},showHintText:{type:Boolean,default:!0},curGuestId:{type:String,default:""},addingAvailabilityAsGuest:{type:Boolean,default:!1},initialTimezone:{type:Object,default:()=>({})},calendarAvailabilities:{type:Object,default:()=>({})}},data(){return{states:{HEATMAP:"heatmap",SINGLE_AVAILABILITY:"single_availability",SUBSET_AVAILABILITY:"subset_availability",BEST_TIMES:"best_times",EDIT_AVAILABILITY:"edit_availability",EDIT_SIGN_UP_BLOCKS:"edit_sign_up_blocks",SCHEDULE_EVENT:"schedule_event",SET_SPECIFIC_TIMES:"set_specific_times"},state:"best_times",availability:new Set,ifNeeded:new Set,tempTimes:new Set,availabilityAnimTimeouts:[],availabilityAnimEnabled:!1,maxAnimTime:1200,unsavedChanges:!1,curTimeslot:{row:-1,col:-1},timeslotSelected:!1,curTimeslotAvailability:{},curRespondent:"",curRespondents:[],sharedCalendarAccounts:{},fetchedResponses:{},loadingResponses:{loading:!1,lastFetched:(new Date).getTime()},responsesFormatted:new Map,tooltipContent:"",signUpBlocksByDay:[],signUpBlocksToAddByDay:[],showEditOptions:void 0!=localStorage["showEditOptions"]&&"true"==localStorage["showEditOptions"],availabilityType:w.xH.AVAILABLE,overlayAvailability:!1,bufferTime:w.tU.bufferTime,workingHours:w.tU.workingHours,showEventOptions:void 0!=localStorage["showEventOptions"]&&"true"==localStorage["showEventOptions"],showBestTimes:void 0!=localStorage["showBestTimes"]&&"true"==localStorage["showBestTimes"],hideIfNeeded:!1,DRAG_TYPES:{ADD:"add",REMOVE:"remove"},SPLIT_GAP_HEIGHT:40,SPLIT_GAP_WIDTH:20,HOUR_HEIGHT:60,timeslot:{width:0,height:0},dragging:!1,dragType:"add",dragStart:null,dragCur:null,curTimezone:this.initialTimezone,curScheduledEvent:null,timeType:localStorage["timeType"]??((0,p.aV)()?w.vR.HOUR12:w.vR.HOUR24),showCalendarEvents:!1,startCalendarOnMonday:!1,deleteAvailabilityDialog:!1,calendarOptionsDialog:!1,optionsVisible:!1,calendarScrollLeft:0,calendarMaxScroll:0,scrolledToRespondents:!1,delayedShowStickyRespondents:!1,delayedShowStickyRespondentsTimeout:null,page:0,mobileNumDays:localStorage["mobileNumDays"]?parseInt(localStorage["mobileNumDays"]):3,pageHasChanged:!1,hasRefreshedAuthUser:!1,hintState:!0,manualAvailability:{},months:["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"]}},computed:{...(0,g.aH)(["authUser","overlayAvailabilitiesEnabled"]),rightSideWidth(){return this.isPhone?"100%":this.isSignUp?"18rem":"13rem"},daysOfWeek(){return this.startCalendarOnMonday?["周一","周二","周三","周四","周五","周六","周日"]:["周日","周一","周二","周三","周四","周五","周六"]},allowScheduleEvent(){return!!this.curScheduledEvent},availabilityArray(){return[...this.availability].map((t=>new Date(t)))},ifNeededArray(){return[...this.ifNeeded].map((t=>new Date(t)))},allowDrag(){return this.state===this.states.EDIT_AVAILABILITY||this.state===this.states.EDIT_SIGN_UP_BLOCKS||this.state===this.states.SCHEDULE_EVENT||this.state===this.states.SET_SPECIFIC_TIMES},calendarEventsByDay(){if(this.sampleCalendarEventsByDay)return this.sampleCalendarEventsByDay;if(!this.authUser||this.addingAvailabilityAsGuest)return[];let t,e=[];const s=this.isGroup?this.sharedCalendarAccounts:this.authUser.calendarAccounts;for(const n in s)if(s[n].enabled&&this.calendarEventsMap.hasOwnProperty(n))for(const i in this.calendarEventsMap[n].calendarEvents){t=this.calendarEventsMap[n].calendarEvents[i];const a=s[n].subCalendars;a&&t.calendarId in a?a[t.calendarId].enabled&&e.push(t):(e.push(t),this.hasRefreshedAuthUser||this.isGroup||this.refreshAuthUser())}const i=JSON.parse(JSON.stringify(e)),a=(0,p.nL)(this.event,i,this.weekOffset,this.timezoneOffset);return a},groupCalendarEventsByDay(){if(this.event.type!==w.mu.GROUP)return{};const t={};for(const e in this.event.responses)e===this.authUser._id?t[e]=this.calendarEventsByDay:e in this.calendarAvailabilities&&(t[e]=(0,p.nL)(this.event,this.calendarAvailabilities[e],this.weekOffset,this.timezoneOffset));return t},curRespondentsSet(){return new Set(this.curRespondents)},newSignUpBlockName(){return`Slot #${this.signUpBlocksByDay.flat().length+this.signUpBlocksToAddByDay.flat().length+1}`},maxSignUpBlockRowSize(){if(!this.dragStart||!this.isSignUp)return null;const t=this.signUpBlocksByDay[this.dragStart.col],e=this.signUpBlocksToAddByDay[this.dragStart.col];if(0===t.length&&0===e.length)return null;let s=1/0;for(const i of[...t,...e])4*i.hoursOffset>this.dragStart.row&&(s=Math.min(s,4*i.hoursOffset-this.dragStart.row));return s},alreadyRespondedToSignUpForm(){return!(!this.authUser||!this.signUpBlocksByDay)&&this.signUpBlocksByDay.some((t=>t.some((t=>t.responses?.some((t=>t.userId===this.authUser._id))))))},curRespondentsMax(){let t=0;if(this.event.daysOnly)for(const e of this.allDays){const s=[...this.responsesFormatted.get(e.dateObject.getTime())??new Set].filter((t=>this.curRespondentsSet.has(t))).length;s>t&&(t=s)}else for(let e=0;e<this.event.dates.length;e++){const s=new Date(this.event.dates[e]);for(const e of this.times){const i=[...this.getRespondentsForHoursOffset(s,e.hoursOffset)].filter((t=>this.curRespondentsSet.has(t))).length;i>t&&(t=i)}}return t},dayOffset(){return Math.floor((this.event.startTime-this.timezoneOffset/60)/24)},allDays(){const t=[],e=new Set,s=t=>{let e="",s="";const i=new Date(t);return this.isSpecificTimes?i.setTime(i.getTime()-60*this.timezoneOffset*1e3):i.setDate(i.getDate()+this.dayOffset),e=ft()(i).format("M月D日"),s=this.daysOfWeek[i.getUTCDay()],{dateString:e,dayString:s}};if(this.isSpecificTimes&&(this.state===this.states.SET_SPECIFIC_TIMES||0===this.event.times?.length)){let i=null;for(let a=0;a<this.event.dates.length;++a){const n=new Date(this.event.dates[a]),o=new Date(n.getTime()-60*this.timezoneOffset*1e3);if(o.setUTCHours(0,0,0,0),o.setTime(o.getTime()+60*this.timezoneOffset*1e3),!e.has(o.getTime())){e.add(o.getTime());let a=!0;i&&(a=i.getTime()===o.getTime()-864e5);const{dayString:n,dateString:r}=s(o);t.push({dayText:n,dateString:r,dateObject:o,isConsecutive:a}),i=new Date(o)}}return t}for(let n=0;n<this.event.dates.length;++n){const i=new Date(this.event.dates[n]);e.add(i.getTime());const{dayString:a,dateString:o}=s(i);t.push({dayText:a,dateString:o,dateObject:i})}let i=0;for(let n=0;n<this.event.dates.length;++n){const a=new Date(this.event.dates[n]),o=new Date(a.getTime()-60*this.timezoneOffset*1e3),r=new Date(a.getTime()+60*this.event.duration*60*1e3-60*this.timezoneOffset*1e3),l=0===r.getUTCHours()&&0===r.getUTCMinutes();if(o.getUTCDate()!==r.getUTCDate()&&!l){let n=new Date(a);if(n.setUTCDate(n.getUTCDate()+1),!e.has(n.getTime())){e.add(n.getTime());const{dayString:a,dateString:o}=s(n);t.splice(i+1,0,{dayText:a,dateString:o,dateObject:n,excludeTimes:!0}),i++}}i++}let a=null;for(let n=0;n<t.length;++n){let e=!0;a&&(e=a.getTime()===t[n].dateObject.getTime()-864e5),t[n].isConsecutive=e,a=new Date(t[n].dateObject)}return t},days(){const t=this.allDays.slice(this.page*this.maxDaysPerPage,(this.page+1)*this.maxDaysPerPage);return t[0]={...t[0],isConsecutive:!0},t},monthDays(){const t=[],e=new Set(this.allDays.map((t=>t.dateObject.getTime()))),s=new Date(this.event.dates[0]),i=s.getUTCMonth()+this.page,a=s.getUTCFullYear(),n=new Date(Date.UTC(a,i,0)),o=new Date(Date.UTC(a,i+1,0)),r=new Date(n);let l=0;const d=o.getUTCDate(),c=6-o.getUTCDay(),h=this.startCalendarOnMonday?0!=n.getUTCDay():n.getUTCDay()<6;h?(r.setUTCDate(r.getUTCDate()-(n.getUTCDay()-(this.startCalendarOnMonday?1:0))),l=n.getUTCDay()+1):r.setUTCDate(r.getUTCDate()+1),r.setUTCHours(this.event.startTime);const u=l+d+c;for(let m=0;m<u;++m)r.getUTCMonth()===o.getUTCMonth()?t.push({date:r.getUTCDate(),time:r.getTime(),dateObject:new Date(r),included:e.has(r.getTime())}):t.push({date:"",time:r.getTime(),dateObject:new Date(r),included:!1}),r.setUTCDate(r.getUTCDate()+1);return t},monthDayIncluded(){const t=new Map;for(const e of this.monthDays)t.set(e.dateObject.getTime(),e.included);return t},curMonthText(){const t=ft()(this.event.dates[0]).add(this.page,"month");return t.format("M月")},defaultState(){return this.showBestTimes?this.states.BEST_TIMES:this.states.HEATMAP},editing(){return this.state===this.states.EDIT_AVAILABILITY||this.state===this.states.EDIT_SIGN_UP_BLOCKS},scheduling(){return this.state===this.states.SCHEDULE_EVENT},isPhone(){return(0,p.tp)(this.$vuetify)},isOwner(){return this.authUser?._id===this.event.ownerId},isSpecificDates(){return this.event.type===w.mu.SPECIFIC_DATES||!this.event.type},isWeekly(){return this.event.type===w.mu.DOW},isGroup(){return this.event.type===w.mu.GROUP},isSignUp(){return this.event.isSignUpForm},isSpecificTimes(){return this.event.hasSpecificTimes},respondents(){return Object.values(this.parsedResponses).map((t=>t.user)).filter(Boolean)},selectedGuestRespondent(){if(this.guestAddedAvailability)return this.guestName;if(1!==this.curRespondents.length)return"";const t=this.parsedResponses[this.curRespondents[0]].user;return this.isGuest(t)?t._id:""},scheduledEventStyle(){const t={};let e,s,i;return this.dragging?(e=this.dragStart.row,s=this.dragCur.row-this.dragStart.row+1,i=this.dragStart.row>=this.splitTimes[0].length):(e=this.curScheduledEvent.row,s=this.curScheduledEvent.numRows,i=this.curScheduledEvent.row>=this.splitTimes[0].length),t.top=i?`calc(${e} * ${this.timeslotHeight}px + ${this.SPLIT_GAP_HEIGHT}px)`:`calc(${e} * ${this.timeslotHeight}px)`,t.height=`calc(${s} * ${this.timeslotHeight}px)`,t},signUpBlockBeingDraggedStyle(){const t={};let e=0,s=0;return this.dragging&&(e=this.dragStart.row,s=this.dragCur.row-this.dragStart.row+1),t.top=`calc(${e} * 1rem)`,t.height=`calc(${s} * 1rem)`,t},parsedResponses(){const t={};if(this.event.type===w.mu.GROUP){for(const e in this.event.responses){const s=this.groupCalendarEventsByDay[e];if(s){const i=this.getManualAvailabilityDow(this.fetchedResponses[e]?.manualAvailability),a=e===this.authUser._id?this.getManualAvailabilityDow(this.manualAvailability):{},n=this.getAvailabilityFromCalendarEvents({calendarEventsByDay:s,includeTouchedAvailability:!0,fetchedManualAvailability:i??{},curManualAvailability:a??{},calendarOptions:e===this.authUser._id?{bufferTime:this.bufferTime,workingHours:this.workingHours}:this.fetchedResponses[e]?.calendarOptions??void 0});t[e]={...this.event.responses[e],availability:n}}else t[e]={...this.event.responses[e],availability:new Set}}return t}if(this.event.blindAvailabilityEnabled&&!this.isOwner){const e=localStorage[this.guestNameKey],s=this.authUser?._id??e;if(s in this.event.responses){const e={...this.event.responses[s].user,_id:s};t[s]={...this.event.responses[s],availability:new Set(this.fetchedResponses[s]?.availability?.map((t=>new Date(t).getTime()))),ifNeeded:new Set(this.fetchedResponses[s]?.ifNeeded?.map((t=>new Date(t).getTime()))),user:e}}return t}for(const e of Object.keys(this.event.responses)){const s={...this.event.responses[e].user,_id:e};t[e]={...this.event.responses[e],availability:new Set(this.fetchedResponses[e]?.availability?.map((t=>new Date(t).getTime()))),ifNeeded:new Set(this.fetchedResponses[e]?.ifNeeded?.map((t=>new Date(t).getTime()))),user:s}}return t},max(){let t=0;for(const[e,s]of this.responsesFormatted)s.size>t&&(t=s.size);return t},specificTimesSet(){return new Set(this.event.times?.map((t=>new Date(t).getTime()))??[])},splitTimes(){const t=[[],[]],e=this.event.startTime,s=this.event.startTime+this.event.duration,i=(0,p.p2)(e,this.timezoneOffset),a=(0,p.p2)(s,this.timezoneOffset),n=this.timezoneOffset%60!==0,o=e%1!==0;let r=0;n!==o&&(r=-.5);const l=t=>this.timeslotDuration===w.fD.FIFTEEN_MINUTES?[{hoursOffset:t+.25},{hoursOffset:t+.5},{hoursOffset:t+.75}]:this.timeslotDuration===w.fD.THIRTY_MINUTES?[{hoursOffset:t+.5}]:[];if(this.state===this.states.SET_SPECIFIC_TIMES){for(let e=0;e<=23;++e){const s=e;9===e?t[0].push({id:"time-9",hoursOffset:s,text:(0,p.XW)(e,this.timeType===w.vR.HOUR12)}):t[0].push({hoursOffset:s,text:(0,p.XW)(e,this.timeType===w.vR.HOUR12)}),t[0].push(...l(s))}return t}if(a<=i&&0!==a){for(let e=0;e<a;++e)t[0].push({hoursOffset:this.event.duration-(a-e),text:(0,p.XW)(e,this.timeType===w.vR.HOUR12)}),t[0].push(...l(this.event.duration-(a-e)));for(let e=0;e<24-i;++e){const s=e+r;t[1].push({hoursOffset:s,text:(0,p.XW)(i+s,this.timeType===w.vR.HOUR12)}),t[1].push(...l(s))}}else{for(let e=0;e<this.event.duration;++e){const s=e+r,i=this.event.startTime+s,a=(0,p.p2)(i,this.timezoneOffset);t[0].push({hoursOffset:s,text:(0,p.XW)(a,this.timeType===w.vR.HOUR12)}),t[0].push(...l(s))}if(0!==r){const e=(0,p.p2)(this.event.startTime+this.event.duration-.5,this.timezoneOffset);t[0].push({hoursOffset:this.event.duration-.5,text:(0,p.XW)(e,this.timeType===w.vR.HOUR12)}),t[0].push(...l(this.event.duration-.5))}t[1]=[]}return t},times(){return[...this.splitTimes[1],...this.splitTimes[0]]},timeslotDuration(){return this.event.timeIncrement??w.fD.FIFTEEN_MINUTES},timeslotHeight(){return this.timeslotDuration===w.fD.FIFTEEN_MINUTES?Math.floor(this.HOUR_HEIGHT/4):this.timeslotDuration===w.fD.THIRTY_MINUTES?Math.floor(this.HOUR_HEIGHT/2):this.timeslotDuration===w.fD.ONE_HOUR?this.HOUR_HEIGHT:Math.floor(this.HOUR_HEIGHT/4)},timezoneOffset(){return"offset"in this.curTimezone?this.event.type===w.mu.DOW?-1*this.curTimezone.offset:-1*ft()(this.event.dates[0]).tz(this.curTimezone.value).utcOffset():(new Date).getTimezoneOffset()},userHasResponded(){return this.authUser&&this.authUser._id in this.parsedResponses},showLeftZigZag(){return this.calendarScrollLeft>0},showRightZigZag(){return Math.ceil(this.calendarScrollLeft)<this.calendarMaxScroll},maxDaysPerPage(){return this.isPhone?this.mobileNumDays:7},hasNextPage(){if(this.event.daysOnly){const t=new Date(this.event.dates[this.event.dates.length-1]),e=new Date(this.event.dates[0]),s=e.getUTCMonth()+this.page,i=e.getUTCFullYear(),a=new Date(Date.UTC(i,s+1,0));return a.getTime()<t.getTime()}return this.allDays.length-(this.page+1)*this.maxDaysPerPage>0||this.event.type===w.mu.GROUP},hasPrevPage(){return this.page>0||this.event.type===w.mu.GROUP},hasPages(){return this.hasNextPage||this.hasPrevPage},showStickyRespondents(){return this.isPhone&&!this.scrolledToRespondents&&(-1!==this.curTimeslot.row||this.curRespondent.length>0||this.curRespondents.length>0)},hintText(){if(this.isPhone)switch(this.state){case this.isGroup&&this.states.EDIT_AVAILABILITY:return"Toggle which calendars are used. Tap and drag to edit your availability.";case this.states.EDIT_AVAILABILITY:const t=this.event.daysOnly?"days":"times";return this.availabilityType===w.xH.IF_NEEDED?`Tap and drag to add your "if needed" ${t} in yellow.`:`Tap and drag to add your "available" ${t} in green.`;case this.states.SCHEDULE_EVENT:return"Tap and drag on the calendar to schedule a Google Calendar event during those times.";default:return""}switch(this.state){case this.isGroup&&this.states.EDIT_AVAILABILITY:return"Toggle which calendars are used. Click and drag to edit your availability.";case this.states.EDIT_AVAILABILITY:const t=this.event.daysOnly?"days":"times";return this.availabilityType===w.xH.IF_NEEDED?`Click and drag to add your "if needed" ${t} in yellow.`:`Click and drag to add your "available" ${t} in green.`;case this.states.SCHEDULE_EVENT:return"Click and drag on the calendar to schedule a Google Calendar event during those times.";default:return""}},hintClosed(){return!this.hintState||localStorage[this.hintStateLocalStorageKey]},hintStateLocalStorageKey(){return`closedHintText${this.state}`+this.isGroup},hintTextShown(){return this.showHintText&&""!=this.hintText&&!this.hintClosed},timeslotClassStyle(){const t=[];for(let e=0;e<this.days.length;++e){const s=this.days[e];for(let i=0;i<this.splitTimes[0].length;++i){const a=this.splitTimes[0][i];t.push(this.getTimeTimeslotClassStyle(s,a,e,i))}for(let i=0;i<this.splitTimes[1].length;++i){const a=this.splitTimes[1][i];t.push(this.getTimeTimeslotClassStyle(s,a,e,i+this.splitTimes[0].length))}}return t},dayTimeslotClassStyle(){const t=[];for(let e=0;e<this.monthDays.length;++e)t.push(this.getDayTimeslotClassStyle(this.monthDays[e].dateObject,e));return t},timeslotVon(){const t=[];for(let e=0;e<this.days.length;++e)for(let s=0;s<this.times.length;++s)t.push(this.getTimeslotVon(s,e));return t},dayTimeslotVon(){const t=[];for(let e=0;e<this.monthDays.length;++e){const s=Math.floor(e/7),i=e%7;t.push(this.getTimeslotVon(s,i))}return t},showLoader(){return(this.isGroup||this.alwaysShowCalendarEvents||this.editing)&&this.loadingCalendarEvents||this.loadingResponses.loading},guestNameKey(){return`${this.event._id}.guestName`},guestName(){return localStorage[this.guestNameKey]},guestAddedAvailability(){return this.guestName?.length>0&&this.guestName in this.parsedResponses},overlaidAvailability(){const t=[];return this.days.forEach(((e,s)=>{t.push([]);let i=0;const a=(e,a)=>{const n=this.getDateFromRowCol(a,s);if(!n)return;const o=this.dragging&&this.inDragRange(a,s)&&this.dragType===this.DRAG_TYPES.ADD,r=this.dragging&&this.inDragRange(a,s)&&this.dragType===this.DRAG_TYPES.REMOVE;if(o||!r&&(this.availability.has(n.getTime())||this.ifNeeded.has(n.getTime()))){let a=w.xH.AVAILABLE;a=o?this.availabilityType:this.availability.has(n.getTime())?w.xH.AVAILABLE:w.xH.IF_NEEDED,i in t[s]?t[s][i].type===a?t[s][i].hoursLength+=.25:(t[s].push({hoursOffset:e.hoursOffset,hoursLength:.25,type:a}),i++):t[s].push({hoursOffset:e.hoursOffset,hoursLength:.25,type:a})}else i in t[s]&&i++};for(let t=0;t<this.splitTimes[0].length;++t)a(this.splitTimes[0][t],t);i in t[s]&&i++;for(let t=0;t<this.splitTimes[1].length;++t)a(this.splitTimes[1][t],t+this.splitTimes[0].length)})),t},showOverlayAvailabilityToggle(){return this.respondents.length>0&&this.overlayAvailabilitiesEnabled},showCalendarOptions(){return!this.addingAvailabilityAsGuest&&this.calendarPermissionGranted&&(this.isGroup||!this.isGroup&&!this.userHasResponded)},columnOffsets(){const t=[];let e=0;for(let s=0;s<this.days.length;++s)t.push(e),this.days[s].isConsecutive||(e+=this.SPLIT_GAP_WIDTH),e+=this.timeslot.width;return t}},methods:{...(0,g.PY)(["setAuthUser"]),...(0,g.i0)(["showInfo","showError","showUpgradeDialog"]),getDateFromDayHoursOffset(t,e){return(0,p.$R)(this.days[t].dateObject,e)},getDateFromRowCol(t,e){if(this.event.daysOnly){const s=this.monthDays[7*t+e]?.dateObject;return s?new Date(s):null}return this.getDateFromDayTimeIndex(this.maxDaysPerPage*this.page+e,t)},isColConsecutive(t){return Boolean(this.days[t]?.isConsecutive)},getDateFromDayTimeIndex(t,e){const s=this.splitTimes[1].length>0,i=e<this.splitTimes[0].length,a=i?this.splitTimes[0][e]:this.splitTimes[1][e-this.splitTimes[0].length];let n=t;if(s)if(i)n=t-1;else if(t===this.allDays.length-1)return null;const o=this.allDays[n];if(!o||!a)return null;if(o.excludeTimes)return null;const r=(0,p.$R)(o.dateObject,a.hoursOffset);if(this.isSpecificTimes){if(this.state!==this.states.SET_SPECIFIC_TIMES&&this.event.times?.length>0&&!this.specificTimesSet.has(r.getTime()))return null}else if(a.hoursOffset<0||a.hoursOffset>=this.event.duration)return null;return r},mouseOverRespondent(t,e){0===this.curRespondents.length&&(this.state===this.defaultState&&(this.state=this.states.SINGLE_AVAILABILITY),this.curRespondent=e)},mouseLeaveRespondent(t){0===this.curRespondents.length&&(this.state===this.states.SINGLE_AVAILABILITY&&(this.state=this.defaultState),this.curRespondent="")},clickRespondent(t,e){this.state=this.states.SUBSET_AVAILABILITY,this.curRespondent="",this.curRespondentsSet.has(e)?(this.curRespondents=this.curRespondents.filter((t=>t!=e)),0===this.curRespondents.length&&(this.state=this.defaultState)):this.curRespondents.push(e),t.stopPropagation()},deselectRespondents(t){"show-best-times-toggle"===t?.target?.previousElementSibling?.id||"show-best-times-toggle"===t?.target?.firstChild?.firstChild?.id||t?.target?.classList?.contains("timeslot")||(this.state===this.states.SUBSET_AVAILABILITY&&(this.state=this.defaultState),this.curRespondents=[],this.timeslotSelected=!1,this.resetCurTimeslot())},isGuest(t){return t._id==t.firstName},fetchResponses(){if(this.calendarOnly)return void(this.fetchedResponses=this.event.responses);let t,e;if(this.event.type===w.mu.GROUP?this.event.dates.length>0&&(t=new Date(this.event.dates[0]),e=new Date(this.event.dates[this.event.dates.length-1]),e.setDate(e.getDate()+1),t=(0,p.OV)(this.event.dates,t,this.weekOffset,!0),e=(0,p.OV)(this.event.dates,e,this.weekOffset,!0)):this.allDays.length>0&&(t=new Date(this.allDays[0].dateObject),e=new Date(this.allDays[this.allDays.length-1].dateObject),e.setDate(e.getDate()+1)),!t||!e)return;const s=`/events/${this.event._id}/responses?timeMin=${t.toISOString()}&timeMax=${e.toISOString()}`;(0,p.Jt)(s).then((t=>{this.fetchedResponses=t,this.getResponsesFormatted()})).catch((t=>{this.showError("There was an error fetching availability! Please refresh the page.")}))},getResponsesFormatted(){const t=(new Date).getTime();this.loadingResponses.loading=!0,this.loadingResponses.lastFetched=t,this.$worker.run(((t,e,s,i,a)=>{const n=t=>{const e=Math.floor(t),s=Math.floor(60*(t-e));return{hours:e,minutes:s}},o=(t,e)=>{const{hours:s,minutes:i}=n(e),a=new Date(t);return a.setHours(a.getHours()+s),a.setMinutes(a.getMinutes()+i),a},r=[];if(i)for(const d of t)r.push(d.dateObject);else for(const d of t)for(const t of e){const e=o(d.dateObject,t.hoursOffset);r.push(e)}const l=new Map;for(const d of r){l.set(d.getTime(),new Set);for(const t of Object.values(s))(t.availability?.has(d.getTime())||t.ifNeeded?.has(d.getTime())&&!a)&&l.get(d.getTime()).add(t.user._id)}return l}),[this.allDays,this.times,this.parsedResponses,this.event.daysOnly,this.hideIfNeeded]).then((e=>{t>=this.loadingResponses.lastFetched&&(this.responsesFormatted=e)})).finally((()=>{this.loadingResponses.lastFetched===t&&(this.loadingResponses.loading=!1)}))},getRespondentsForHoursOffset(t,e){const s=(0,p.$R)(t,e);return this.responsesFormatted.get(s.getTime())??new Set},showAvailability(t,e){if(this.state===this.states.EDIT_AVAILABILITY&&this.isPhone)return;if(this.curTimeslot={row:t,col:e},this.state===this.states.EDIT_AVAILABILITY||this.curRespondent)return;const s=this.getDateFromRowCol(t,e);if(!s)return;const i=this.responsesFormatted.get(s.getTime())??new Set;for(const a of this.respondents)i.has(a._id)?this.curTimeslotAvailability[a._id]=!0:this.curTimeslotAvailability[a._id]=!1},async refreshAuthUser(){this.hasRefreshedAuthUser=!0,await(0,p.Jt)("/user/profile").then((t=>{this.setAuthUser(t)}))},resetCurUserAvailability(){this.event.type===w.mu.GROUP&&(this.initSharedCalendarAccounts(),this.manualAvailability={}),this.availability=new Set,this.ifNeeded=new Set,this.userHasResponded&&this.populateUserAvailability(this.authUser._id)},populateUserAvailability(t){this.availability=new Set(this.parsedResponses[t]?.availability)??new Set,this.ifNeeded=new Set(this.parsedResponses[t]?.ifNeeded)??new Set,this.$nextTick((()=>this.unsavedChanges=!1))},getIsTimeBlockInFirstSplit(t){return t.hoursOffset>=this.splitTimes[0][0].hoursOffset&&t.hoursOffset<=this.splitTimes[0][this.splitTimes[0].length-1].hoursOffset},getTimeBlockStyle(t){const e={},s=this.splitTimes[1].length>0;return!s||this.getIsTimeBlockInFirstSplit(t)?(e.top=`calc(${t.hoursOffset-this.splitTimes[0][0].hoursOffset} * ${this.HOUR_HEIGHT}px)`,e.height=`calc(${t.hoursLength} * ${this.HOUR_HEIGHT}px)`):(e.top=`calc(${this.splitTimes[0].length} * ${this.timeslotHeight}px + ${this.SPLIT_GAP_HEIGHT}px + ${t.hoursOffset-this.splitTimes[1][0].hoursOffset} * ${this.HOUR_HEIGHT}px)`,e.height=`calc(${t.hoursLength} * ${this.HOUR_HEIGHT}px)`),e},getAvailabilityFromCalendarEvents({calendarEventsByDay:t=[],includeTouchedAvailability:e=!1,fetchedManualAvailability:s={},curManualAvailability:i={},calendarOptions:a=w.tU}){const n=new Set;for(let o=0;o<this.allDays.length;++o){const r=this.allDays[o],l=r.dateObject;if(e){const t=(0,p.$R)(l,this.times.length*(this.timeslotDuration/60));let e=!1;for(const s in i)if(l.getTime()<=s&&s<=t.getTime()){i[s].forEach((t=>{n.add(new Date(t).getTime())})),delete i[s],e=!0;break}if(e)continue;for(const i in s)if(l.getTime()<=i&&i<=t.getTime()){s[i].forEach((t=>{n.add(new Date(t).getTime())})),delete s[i],e=!0;break}if(e)continue}const d=a.bufferTime.enabled?1e3*a.bufferTime.time*60:0,c=(0,p.f7)(a.workingHours.startTime),h=(0,p.Lv)((0,p.Ax)(l),!0),u=ft().tz(`${h} ${c}`,this.curTimezone.value).toDate();let m=a.workingHours.endTime-a.workingHours.startTime;m<=0&&(m+=24);const w=(0,p.$R)(u,m);for(let e=0;e<this.times.length;++e){const s=this.getDateFromDayTimeIndex(o,e);if(!s)continue;const i=(0,p.$R)(s,this.timeslotDuration/60);if(a.workingHours.enabled&&(i.getTime()<=u.getTime()||s.getTime()>=w.getTime()))continue;const r=t[o]?.findIndex((t=>{const e=new Date(t.startDate.getTime()-d),a=new Date(t.endDate.getTime()+d),n=(0,p.ms)(i,e)<=0||(0,p.ms)(s,a)>=0;return!n&&!t.free}));-1===r&&n.add(s.getTime())}}return n},setAvailabilityAutomatically(){this.availability=new Set;const t=this.getAvailabilityFromCalendarEvents({calendarEventsByDay:this.calendarEventsByDay,calendarOptions:{bufferTime:this.bufferTime,workingHours:this.workingHours}}),e=(0,p.cN)(new Date(this.event.dates[0]),this.page*this.maxDaysPerPage),s=(0,p.cN)(e,this.maxDaysPerPage);this.animateAvailability(t,e,s)},animateAvailability(t,e,s){this.availabilityAnimEnabled=!0,this.availabilityAnimTimeouts=[];let i=25,a=2;t.size/a*i>this.maxAnimTime&&(a=t.size*i/this.maxAnimTime);let n=[...t];n=n.filter((t=>(0,p.Lc)(t,e,s)));for(let o=0;o<n.length/a+1;++o){const e=setTimeout((()=>{for(const t of n.slice(o*a,o*a+a))this.availability.add(t);this.availability=new Set(this.availability),o>=n.length/a&&(this.availability=new Set(t),this.availabilityAnimTimeouts.push(setTimeout((()=>{this.availabilityAnimEnabled=!1,this.showSnackbar&&this.showInfo("Your availability has been autofilled!"),this.unsavedChanges=!1}),500)))}),o*i);this.availabilityAnimTimeouts.push(e)}},stopAvailabilityAnim(){for(const t of this.availabilityAnimTimeouts)clearTimeout(t);this.availabilityAnimEnabled=!1},async submitAvailability(t={name:"",email:""}){let e={},s="";if(this.isGroup){s="group availability and calendars",e=(0,p.qW)(this.sharedCalendarAccounts),e.manualAvailability={};for(const t of Object.keys(this.manualAvailability))e.manualAvailability[t]=[...this.manualAvailability[t]].map((t=>new Date(t)));e.calendarOptions={bufferTime:this.bufferTime,workingHours:this.workingHours}}else s="availability",e.availability=this.availabilityArray,e.ifNeeded=this.ifNeededArray,this.authUser&&!this.addingAvailabilityAsGuest?e.guest=!1:(e.guest=!0,e.name=t.name,e.email=t.email,localStorage[this.guestNameKey]=t.name);await(0,p.bE)(`/events/${this.event._id}/response`,e);const i=this.ifNeededArray.length>0;this.authUser?this.authUser._id in this.parsedResponses?this.$posthog?.capture(`Edited ${s}`,{eventId:this.event._id,addedIfNeededTimes:i}):this.$posthog?.capture(`Added ${s}`,{eventId:this.event._id,addedIfNeededTimes:i,bufferTime:this.bufferTime.time,bufferTimeActive:this.bufferTime.enabled,workingHoursEnabled:this.workingHours.enabled,workingHoursStartTime:this.workingHours.startTime,workingHoursEndTime:this.workingHours.endTime}):t.name in this.parsedResponses?this.$posthog?.capture(`Edited ${s} as guest`,{eventId:this.event._id,addedIfNeededTimes:i}):this.$posthog?.capture(`Added ${s} as guest`,{eventId:this.event._id,addedIfNeededTimes:i}),this.refreshEvent(),this.unsavedChanges=!1},async submitNewSignUpBlocks(){if(this.signUpBlocksToAddByDay.flat().length+this.signUpBlocksByDay.flat().length===0)return this.showError("Please add at least one sign-up block!"),!1;for(let e=0;e<this.signUpBlocksToAddByDay.length;++e)this.signUpBlocksByDay[e]=this.signUpBlocksByDay[e].concat(this.signUpBlocksToAddByDay[e]),this.signUpBlocksToAddByDay[e]=[];const t={name:this.event.name,duration:this.event.duration,dates:this.event.dates,type:this.event.type,signUpBlocks:this.signUpBlocksByDay.flat().map((t=>({_id:t._id,name:t.name,capacity:t.capacity,startDate:t.startDate,endDate:t.endDate})))};return(0,p.yJ)(`/events/${this.event._id}`,t).then((()=>{})).catch((t=>{console.error(t),this.showError("There was a problem editing this event! Please try again later.")})),!0},async deleteAvailability(t=""){const e={};this.authUser&&!this.addingAvailabilityAsGuest?(e.guest=!1,e.userId=this.authUser._id,this.$posthog?.capture("Deleted availability",{eventId:this.event._id})):(e.guest=!0,e.name=t,this.$posthog?.capture("Deleted availability as guest",{eventId:this.event._id,name:t})),await(0,p.jd)(`/events/${this.event._id}/response`,e),this.availability=new Set,this.isGroup?this.$router.replace({name:"home"}):this.refreshEvent()},setTimeslotSize(){const t=document.querySelector(".timeslot");t&&({width:this.timeslot.width,height:this.timeslot.height}=t.getBoundingClientRect())},getTimeTimeslotClassStyle(t,e,s,i){const a=i,n=s,o=this.getDateFromRowCol(a,n),r=this.getTimeslotClassStyle(o,a,n),l=i<this.splitTimes[0].length,d=!o;if((this.animateTimeslotAlways||this.availabilityAnimEnabled)&&(r.class+="animate-bg-color "),r.style.height=`${this.timeslotHeight}px`,(this.respondents.length>0||this.editing||this.state===this.states.SET_SPECIFIC_TIMES)&&this.curTimeslot.row===a&&this.curTimeslot.col===n&&!d)r.class+="tw-border tw-border-dashed tw-border-black tw-z-10 ";else{if(o){const t=new Date(o.getTime()-60*this.timezoneOffset*1e3),e=t.getMinutes();0===e?r.class+="tw-border-t ":30===e&&(r.class+="tw-border-t ",r.style.borderTopStyle="dashed")}r.class+="tw-border-r ",0!==n&&this.isColConsecutive(n)||(r.class+="tw-border-l tw-border-l-gray "),n!==this.days.length-1&&this.isColConsecutive(n+1)||(r.class+="tw-border-r-gray "),l&&0===a&&(r.class+="tw-border-t tw-border-t-gray "),l||a!==this.splitTimes[0].length||(r.class+="tw-border-t tw-border-t-gray "),l&&a===this.splitTimes[0].length-1&&(r.class+="tw-border-b tw-border-b-gray "),l||a!==this.splitTimes[0].length+this.splitTimes[1].length-1||(r.class+="tw-border-b tw-border-b-gray ");const t=this.state===this.states.SUBSET_AVAILABILITY?this.curRespondents.length:this.respondents.length;this.state===this.states.EDIT_AVAILABILITY||this.state===this.states.SINGLE_AVAILABILITY||1===t?r.class+="tw-border-[#999999] ":r.class+="tw-border-[#DDDDDD99] "}return d&&(r.class+="tw-bg-light-gray-stroke tw-border-light-gray-stroke "),"#E523230D"===r.style.backgroundColor&&(r.style.backgroundColor="#E5232333"),r},getTimeslotClassStyle(t,e,s){let i="";const a={};if(!t)return{class:i,style:a};const n=this.responsesFormatted.get(t.getTime())??new Set;if(this.isSignUp)return i+="tw-bg-light-gray ",{class:i,style:a};if(!this.overlayAvailability&&this.state===this.states.EDIT_AVAILABILITY||this.state===this.states.SET_SPECIFIC_TIMES){a.backgroundColor="#E523230D";const n=this.inDragRange(e,s);n?this.dragType===this.DRAG_TYPES.ADD?this.state===this.states.SET_SPECIFIC_TIMES?i+="tw-bg-white ":this.availabilityType===w.xH.AVAILABLE?a.backgroundColor="#00994C77":this.availabilityType===w.xH.IF_NEEDED&&(i+="tw-bg-yellow "):this.dragType===this.DRAG_TYPES.REMOVE&&this.state===this.states.SET_SPECIFIC_TIMES&&(i+="tw-bg-gray "):this.state===this.states.SET_SPECIFIC_TIMES?this.tempTimes.has(t.getTime())?i+="tw-bg-white ":i+="tw-bg-gray ":this.availability.has(t.getTime())?a.backgroundColor="#00994C77":this.ifNeeded.has(t.getTime())&&(i+="tw-bg-yellow ")}if(this.state===this.states.SINGLE_AVAILABILITY){const e=this.curRespondent;return n.has(e)?this.parsedResponses[e]?.ifNeeded?.has(t.getTime())?i+="tw-bg-yellow ":a.backgroundColor="#00994C77":a.backgroundColor="#E523230D",{class:i,style:a}}if(this.overlayAvailability||this.state===this.states.BEST_TIMES||this.state===this.states.HEATMAP||this.state===this.states.SCHEDULE_EVENT||this.state===this.states.SUBSET_AVAILABILITY){let e,s;this.state===this.states.BEST_TIMES||this.state===this.states.HEATMAP||this.state===this.states.SCHEDULE_EVENT?(e=n.size,s=this.max):this.state===this.states.SUBSET_AVAILABILITY?(e=[...n].filter((t=>this.curRespondentsSet.has(t))).length,s=this.curRespondentsMax):this.overlayAvailability&&((this.userHasResponded||this.curGuestId?.length>0)&&n.has(this.authUser?._id??this.curGuestId)?(e=n.size-1,s=this.max):(e=n.size,s=this.max));const o=this.state===this.states.SUBSET_AVAILABILITY?this.curRespondents.length:this.respondents.length;if(this.defaultState===this.states.BEST_TIMES){if(s>0&&e===s)if(1===o||this.overlayAvailability){const t="#00994C88";a.backgroundColor=t}else{const t="#00994C";a.backgroundColor=t}}else if(this.defaultState===this.states.HEATMAP)if(e>0)if(1===o){const e=this.state===this.states.SUBSET_AVAILABILITY?this.curRespondents[0]:this.respondents[0]._id;if(this.parsedResponses[e]?.ifNeeded?.has(t.getTime()))i+="tw-bg-yellow ";else{const t="#00994C88";a.backgroundColor=t}}else{const t=e/s,i="#00994C";let n;this.overlayAvailability?n=Math.floor(170*t).toString(16).toUpperCase().substring(0,2).padStart(2,"0"):(n=Math.floor(225*t).toString(16).toUpperCase().substring(0,2).padStart(2,"0"),1==t&&(this.curRespondents.length>0&&s===this.curRespondents.length||0===this.curRespondents.length&&s===this.respondents.length)&&(n="FF")),a.backgroundColor=i+n}else if(1===o){const t="#E523230D";a.backgroundColor=t}}return{class:i,style:a}},getDayTimeslotClassStyle(t,e){const s=Math.floor(e/7),i=e%7;let a;if(this.monthDayIncluded.get(t.getTime())){a=this.getTimeslotClassStyle(t,s,i),this.state===this.states.EDIT_AVAILABILITY&&(a.class+="tw-cursor-pointer ");const e=a.style.backgroundColor;e&&"dark"===(0,p.G1)((0,p.YB)(e))&&(a.class+="tw-text-white ")}else a={class:"tw-bg-off-white tw-text-gray ",style:{}};return"#E523230D"===a.style.backgroundColor&&(a.style.backgroundColor="#E523233B"),(this.respondents.length>0||this.state===this.states.EDIT_AVAILABILITY)&&this.curTimeslot.row===s&&this.curTimeslot.col===i&&this.monthDayIncluded.get(t.getTime())?a.class+="tw-outline-2 tw-outline-dashed tw-outline-black tw-z-10 ":(0===i&&(a.class+="tw-border-l tw-border-l-gray "),a.class+="tw-border-r tw-border-r-gray ",6!==i&&(a.style.borderRightStyle="dashed"),0===s&&(a.class+="tw-border-t tw-border-t-gray "),a.class+="tw-border-b tw-border-b-gray ",s!==Math.floor(this.monthDays.length/7)-1&&(a.style.borderBottomStyle="dashed")),a},getTimeslotVon(t,e){return this.interactable?{click:()=>{this.timeslotSelected?t===this.curTimeslot.row&&e===this.curTimeslot.col&&(this.timeslotSelected=!1):this.state!==this.states.EDIT_AVAILABILITY&&(this.userHasResponded||this.guestAddedAvailability)&&(this.timeslotSelected=!0),this.showAvailability(t,e)},mousedown:()=>{this.state!==this.defaultState||(this.isPhone||this.userHasResponded||this.guestAddedAvailability)&&0!=this.respondents.length||this.highlightAvailabilityBtn()},mouseover:()=>{if(!this.timeslotSelected&&(this.showAvailability(t,e),!this.event.daysOnly)){const s=this.getDateFromRowCol(t,e);if(s){s.setTime(s.getTime()-60*this.timezoneOffset*1e3);const t=ft()(s).utc(),e=ft()(s).utc().add(this.timeslotDuration,"minutes"),i=this.timeType===w.vR.HOUR12?"h:mm A":"HH:mm";let a;a=this.isSpecificDates?"ddd, MMM D, YYYY":"ddd",this.tooltipContent=`${t.format(a)} ${t.format(i)} to ${e.format(i)}`}}},mouseleave:()=>{this.tooltipContent=""}}:{}},resetCurTimeslot(){if(!this.timeslotSelected){this.curTimeslotAvailability={};for(const t of this.respondents)this.curTimeslotAvailability[t._id]=!0;this.curTimeslot={row:-1,col:-1},this.endDrag()}},startEditing(){this.state=this.isSignUp?this.states.EDIT_SIGN_UP_BLOCKS:this.states.EDIT_AVAILABILITY,this.availabilityType=w.xH.AVAILABLE,this.availability=new Set,this.ifNeeded=new Set,this.authUser&&!this.addingAvailabilityAsGuest&&this.resetCurUserAvailability(),this.$nextTick((()=>this.unsavedChanges=!1)),this.pageHasChanged=!1},stopEditing(){this.state=this.defaultState,this.stopAvailabilityAnim(),this.availabilityType=w.xH.AVAILABLE,this.overlayAvailability=!1},highlightAvailabilityBtn(){this.$emit("highlightAvailabilityBtn")},editGuestAvailability(t){this.authUser?this.$emit("addAvailabilityAsGuest"):this.startEditing(),this.$nextTick((()=>{this.populateUserAvailability(t),this.$emit("setCurGuestId",t)}))},refreshEvent(){this.$emit("refreshEvent")},scheduleEvent(){this.state=this.states.SCHEDULE_EVENT,this.$posthog?.capture("schedule_event_button_clicked")},cancelScheduleEvent(){this.state=this.defaultState},confirmScheduleEvent(t=!0){if(!this.curScheduledEvent)return;this.$posthog?.capture("schedule_event_confirmed");const{col:e,row:s,numRows:i}=this.curScheduledEvent;let a=this.getDateFromRowCol(s,e),n=new Date(a);if(n.setMinutes(a.getMinutes()+this.timeslotDuration*i),this.isWeekly||this.isGroup){let t=0;this.isGroup?t=this.weekOffset:this.isWeekly&&(new Date).getDay()>a.getDay()&&(t=1),a=(0,p.OV)(this.event.dates,a,t,!0),n=(0,p.OV)(this.event.dates,n,t,!0)}const o=this.respondents.map((t=>t.email.length>0?t.email:null)),r=encodeURIComponent(o.filter(Boolean).join(",")),l=this.event.shortId??this.event._id;let d="";if(t){const t=a.toISOString().replace(/([-:]|\.000)/g,""),e=n.toISOString().replace(/([-:]|\.000)/g,"");d=`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(this.event.name)}&dates=${t}/${e}&details=${encodeURIComponent("\n\nThis event was scheduled with schej: https://schej.it/e/")}${l}&ctz=${this.curTimezone.value}&add=${r}`}else d=`https://outlook.live.com/calendar/0/deeplink/compose?subject=${encodeURIComponent(this.event.name)}&body=${encodeURIComponent("\n\nThis event was scheduled with schej: https://schej.it/e/"+l)}&startdt=${a.toISOString()}&enddt=${n.toISOString()}&location=${encodeURIComponent(this.event.location||"")}&path=/calendar/action/compose&timezone=${this.curTimezone.value}`;window.open(d,"_blank"),this.state=this.defaultState},normalizeXY(t){let e,s;({pageX:e,pageY:s}="touches"in t?t.touches[0]:t);const{left:i,top:a}=t.currentTarget.getBoundingClientRect(),n=e-i,o=s-a-window.scrollY;return{x:n,y:o}},clampRow(t){return t=this.event.daysOnly?(0,p.qE)(t,0,Math.floor(this.monthDays.length/7)-1):(0,p.qE)(t,0,this.times.length-1),t},clampCol(t){return t=this.event.daysOnly?(0,p.qE)(t,0,6):(0,p.qE)(t,0,this.days.length-1),t},getRowColFromXY(t,e){const{width:s,height:i}=this.timeslot;let a=Math.floor(t/s);if(!this.event.daysOnly){a=this.columnOffsets.length;for(let e=0;e<this.columnOffsets.length;++e)if(t<this.columnOffsets[e]){a=e-1;break}}let n=Math.floor(e/i);if(!this.event.daysOnly&&n>this.splitTimes[0].length){const t=Math.floor((e-this.SPLIT_GAP_HEIGHT)/i);t>=this.splitTimes[0].length&&(n=t)}return n=this.clampRow(n),a=this.clampCol(a),{row:n,col:a}},endDrag(){if(this.allowDrag&&this.dragStart&&this.dragCur){if(this.state===this.states.EDIT_AVAILABILITY||this.state===this.states.SET_SPECIFIC_TIMES){let t=(this.dragCur.col-this.dragStart.col)/Math.abs(this.dragCur.col-this.dragStart.col),e=(this.dragCur.row-this.dragStart.row)/Math.abs(this.dragCur.row-this.dragStart.row);isNaN(t)&&(t=1),isNaN(e)&&(e=1);let s=this.dragStart.row,i=this.dragCur.row+e,a=this.dragStart.col,n=this.dragCur.col+t;this.event.daysOnly&&(a=0,n=7,t=1);for(let o=s;o!=i;o+=e)for(let e=a;e!=n;e+=t){const t=this.getDateFromRowCol(o,e);if(t){if(this.event.daysOnly){const s=this.monthDayIncluded.get(t.getTime())&&this.inDragRange(o,e);if(!s)continue}if(this.dragType===this.DRAG_TYPES.ADD?this.state===this.states.SET_SPECIFIC_TIMES?this.tempTimes.add(t.getTime()):this.availabilityType===w.xH.AVAILABLE?(this.availability.add(t.getTime()),this.ifNeeded.delete(t.getTime())):this.availabilityType===w.xH.IF_NEEDED&&(this.ifNeeded.add(t.getTime()),this.availability.delete(t.getTime())):this.dragType===this.DRAG_TYPES.REMOVE&&(this.state===this.states.SET_SPECIFIC_TIMES?this.tempTimes.delete(t.getTime()):(this.availability.delete(t.getTime()),this.ifNeeded.delete(t.getTime()))),this.event.type===w.mu.GROUP){const s=(0,p.OV)(this.event.dates,t,this.weekOffset,!0),i=(0,p.OV)(this.event.dates,this.days[e].dateObject,this.weekOffset,!0);if(!(i.getTime()in this.manualAvailability)){this.manualAvailability[i.getTime()]=new Set;const t=this.getAvailabilityForColumn(e);for(const e of t){const t=(0,p.OV)(this.event.dates,new Date(e),this.weekOffset,!0);this.manualAvailability[i.getTime()].add(t.getTime())}}this.dragType===this.DRAG_TYPES.ADD?this.manualAvailability[i.getTime()].add(s.getTime()):this.dragType===this.DRAG_TYPES.REMOVE&&this.manualAvailability[i.getTime()].delete(s.getTime())}}}this.availability=new Set(this.availability)}else if(this.state===this.states.SCHEDULE_EVENT){const t=this.dragStart.col,e=this.dragStart.row,s=this.dragCur.row-this.dragStart.row+1;this.curScheduledEvent=s>0?{col:t,row:e,numRows:s}:null}else if(this.state===this.states.EDIT_SIGN_UP_BLOCKS){const t=this.dragStart.col,e=this.dragStart.row/4,s=(this.dragCur.row-this.dragStart.row+1)/4;s>0&&this.signUpBlocksToAddByDay[t].push(this.createSignUpBlock(t,e,s))}this.dragging=!1,this.dragStart=null,this.dragCur=null}},inDragRange(t,e){return!!this.dragging&&(this.event.daysOnly?!(!(0,p.Bt)(t,this.dragStart.row,this.dragCur.row)&&!(0,p.Bt)(t,this.dragCur.row,this.dragStart.row))&&(this.dragCur.row<this.dragStart.row?this.dragCur.row===t&&this.dragCur.col<=e||this.dragStart.row===t&&this.dragStart.col>=e||this.dragStart.row!==t&&this.dragCur.row!==t:this.dragCur.row>this.dragStart.row?this.dragCur.row===t&&this.dragCur.col>=e||this.dragStart.row===t&&this.dragStart.col<=e||this.dragStart.row!==t&&this.dragCur.row!==t:(0,p.Bt)(e,this.dragStart.col,this.dragCur.col)||(0,p.Bt)(e,this.dragCur.col,this.dragStart.col)):((0,p.Bt)(t,this.dragStart.row,this.dragCur.row)||(0,p.Bt)(t,this.dragCur.row,this.dragStart.row))&&((0,p.Bt)(e,this.dragStart.col,this.dragCur.col)||(0,p.Bt)(e,this.dragCur.col,this.dragStart.col)))},moveDrag(t){if(!this.allowDrag)return;if(t.touches?.length>1)return;if(!this.dragStart)return;t.preventDefault();let{row:e,col:s}=this.getRowColFromXY(...Object.values(this.normalizeXY(t)));if(this.maxSignUpBlockRowSize&&e>=this.dragStart.row+this.maxSignUpBlockRowSize)e=this.dragStart.row+this.maxSignUpBlockRowSize-1;else if(this.state===this.states.SCHEDULE_EVENT){const t=this.dragStart.row<this.splitTimes[0].length;t&&(e=Math.min(e,this.splitTimes[0].length-1))}this.dragCur={row:e,col:s}},startDrag(t){const{row:e,col:s}=this.getRowColFromXY(...Object.values(this.normalizeXY(t)));if(this.isSignUp)for(const a of this.signUpBlocksByDay[s].concat(this.signUpBlocksToAddByDay[s]))if((0,p.Bt)(e,4*a.hoursOffset,4*(a.hoursOffset+a.hoursLength)-1))return void this.$refs.signUpBlocksList.scrollToSignUpBlock(a._id);if(!this.allowDrag)return;if(t.touches?.length>1)return;const i=this.getDateFromRowCol(e,s);i&&(this.event.daysOnly&&!this.monthDayIncluded.get(i.getTime())||(this.dragging=!0,this.dragStart={row:e,col:s},this.dragCur={row:e,col:s},t.preventDefault(),this.isSignUp?this.dragType=this.DRAG_TYPES.ADD:this.state===this.states.SET_SPECIFIC_TIMES&&this.tempTimes.has(i.getTime())||this.availabilityType===w.xH.AVAILABLE&&this.availability.has(i.getTime())||this.availabilityType===w.xH.IF_NEEDED&&this.ifNeeded.has(i.getTime())?this.dragType=this.DRAG_TYPES.REMOVE:this.dragType=this.DRAG_TYPES.ADD))},getLocalTimezone(){const t=new Date(this.event.dates[0]).toLocaleTimeString("en-us",{timeZoneName:"short"}).split(" "),e=t[t.length-1];return e},onShowBestTimesChange(){localStorage["showBestTimes"]=this.showBestTimes,this.state!=this.states.BEST_TIMES&&this.state!=this.states.HEATMAP||(this.state=this.defaultState)},toggleShowEditOptions(){this.showEditOptions=!this.showEditOptions,localStorage["showEditOptions"]=this.showEditOptions},toggleShowEventOptions(){this.showEventOptions=!this.showEventOptions,localStorage["showEventOptions"]=this.showEventOptions},updateOverlayAvailability(t){this.overlayAvailability=!!t,this.$posthog?.capture("overlay_availability_toggled",{enabled:!!t})},onCalendarScroll(t){this.calendarMaxScroll=t.target.scrollWidth-t.target.offsetWidth,this.calendarScrollLeft=t.target.scrollLeft},onScroll(t){this.checkElementsVisible()},checkElementsVisible(){const t=this.$refs.optionsSection;t&&(this.optionsVisible=(0,p.YG)(t,{bottomOffset:-64}));const e=this.$refs.respondentsList?.$el;e&&(this.scrolledToRespondents=(0,p.YG)(e,{bottomOffset:-64}))},nextPage(t){t.stopImmediatePropagation(),this.event.type===w.mu.GROUP?(this.page+1)*this.maxDaysPerPage<this.allDays.length?this.page++:(this.page=0,this.$emit("update:weekOffset",this.weekOffset+1)):this.page++,this.pageHasChanged=!0},prevPage(t){t.stopImmediatePropagation(),this.event.type===w.mu.GROUP?this.page>0?this.page--:(this.page=Math.ceil(this.allDays.length/this.maxDaysPerPage)-1,this.$emit("update:weekOffset",this.weekOffset-1)):this.page--,this.pageHasChanged=!0},onResize(){this.setTimeslotSize()},closeHint(){this.hintState=!1,localStorage[this.hintStateLocalStorageKey]=!0},toggleCalendarAccount(t){this.sharedCalendarAccounts[(0,p.HW)(t.email,t.calendarType)].enabled=t.enabled,this.sharedCalendarAccounts=JSON.parse(JSON.stringify(this.sharedCalendarAccounts))},toggleSubCalendarAccount(t){this.sharedCalendarAccounts[(0,p.HW)(t.email,t.calendarType)].subCalendars[t.subCalendarId].enabled=t.enabled,this.sharedCalendarAccounts=JSON.parse(JSON.stringify(this.sharedCalendarAccounts))},initSharedCalendarAccounts(){if(this.authUser){this.sharedCalendarAccounts=JSON.parse(JSON.stringify(this.authUser.calendarAccounts));for(const t in this.sharedCalendarAccounts)if(this.sharedCalendarAccounts[t].enabled=!1,this.sharedCalendarAccounts[t].subCalendars)for(const e in this.sharedCalendarAccounts[t].subCalendars)this.sharedCalendarAccounts[t].subCalendars[e].enabled=!1;if(this.authUser._id in this.event.responses){const t=this.event.responses[this.authUser._id].enabledCalendars;for(const e in t)this.sharedCalendarAccounts[e].enabled=!0,t[e].forEach((t=>{this.sharedCalendarAccounts[e].subCalendars[t].enabled=!0}))}}},isTouched(t,e=[...this.availability]){const s=new Date(t),i=new Date(t);i.setHours(i.getHours()+this.event.duration);for(const a of e){const t=new Date(a).getTime();if(s.getTime()<=t&&t<=i.getTime())return!0}return!1},getAvailabilityForColumn(t,e=[...this.availability]){const s=new Set,i=new Set(e);for(let a=0;a<this.splitTimes[0].length+this.splitTimes[1].length;++a){const e=this.getDateFromRowCol(a,t);e&&(i.has(e.getTime())&&s.add(e.getTime()))}return s},getManualAvailabilityDow(t=this.manualAvailability){if(!t)return null;const e={};for(const s in t){const i=(0,p.OV)(this.event.dates,new Date(parseInt(s)),this.weekOffset).getTime();e[i]=[...t[s]].map((t=>(0,p.OV)(this.event.dates,new Date(t),this.weekOffset)))}return e},createSignUpBlock(t,e,s){const i=(0,p.vU)(this.days[t].dateObject,e,s);return{_id:se()().toString(),capacity:1,name:this.newSignUpBlockName,...i,hoursOffset:e,hoursLength:s}},editSignUpBlock(t){this.signUpBlocksByDay.forEach(((e,s)=>{e.forEach(((e,i)=>{if(t._id===e._id)return this.signUpBlocksByDay[s][i]=t,void(this.signUpBlocksByDay=[...this.signUpBlocksByDay])}))})),this.signUpBlocksToAddByDay.forEach(((e,s)=>{e.forEach(((e,i)=>{if(t._id===e._id)return this.signUpBlocksToAddByDay[s][i]=t,void(this.signUpBlocksToAddByDay=[...this.signUpBlocksToAddByDay])}))}))},deleteSignUpBlock(t){this.signUpBlocksByDay.forEach(((e,s)=>{e.forEach(((e,i)=>{t!==e._id||this.signUpBlocksByDay[s].splice(i,1)}))})),this.signUpBlocksToAddByDay.forEach(((e,s)=>{e.forEach(((e,i)=>{t!==e._id||this.signUpBlocksToAddByDay[s].splice(i,1)}))}))},resetSignUpForm(){this.signUpBlocksByDay=(0,p.nL)(this.event,this.event.signUpBlocks??[]),this.resetSignUpBlocksToAddByDay();for(const t in this.event.signUpResponses){const e=this.event.signUpResponses[t];for(const t of e.signUpBlockIds){const s=this.signUpBlocksByDay.flat().find((e=>e._id===t));s.responses||(s.responses=[]),s.responses.push(e)}}},resetSignUpBlocksToAddByDay(){this.signUpBlocksToAddByDay=[];for(const t of this.signUpBlocksByDay)this.signUpBlocksToAddByDay.push([])},handleSignUpBlockClick(t){this.alreadyRespondedToSignUpForm||this.isOwner||this.$emit("signUpForBlock",t)},saveTempTimes(){this.event.times=[...this.tempTimes].map((t=>new Date(t))).sort(((t,e)=>t.getTime()-e.getTime()));const{minHours:t,maxHours:e}=this.getMinMaxHoursFromTimes(this.event.times);for(let s=0;s<this.event.dates.length;++s){const e=new Date(this.event.dates[s]);e.setTime(e.getTime()-60*this.timezoneOffset*1e3),e.setUTCHours(t,0,0,0),e.setTime(e.getTime()+60*this.timezoneOffset*1e3),this.event.dates[s]=e.toISOString()}this.event.duration=e-t+1,(0,p.yJ)(`/events/${this.event._id}`,this.event).then((()=>{this.state=this.defaultState})).catch((t=>{this.showError(t)}))},getMinMaxHoursFromTimes(t){let e=24,s=0;for(const i of t){const t=new Date(i),a=new Date(t.getTime()-60*this.timezoneOffset*1e3),n=a.getUTCHours();n<e?e=n:n>s&&(s=n)}return{minHours:e,maxHours:s}},reanimateAvailability(){if(this.state===this.states.EDIT_AVAILABILITY&&this.authUser&&!(this.authUser?._id in this.event.responses)&&!this.loadingCalendarEvents&&(!this.unsavedChanges||this.availabilityAnimEnabled)){for(const t of this.availabilityAnimTimeouts)clearTimeout(t);this.setAvailabilityAutomatically()}}},watch:{availability(){this.state===this.states.EDIT_AVAILABILITY&&(this.unsavedChanges=!0)},event:{immediate:!0,handler(){this.initSharedCalendarAccounts(),this.fetchResponses()}},state(t,e){this.$nextTick((()=>this.checkElementsVisible())),e===this.states.SCHEDULE_EVENT?this.curScheduledEvent=null:e===this.states.EDIT_AVAILABILITY&&(this.unsavedChanges=!1),t===this.states.SET_SPECIFIC_TIMES&&this.$nextTick((()=>{const t=document.getElementById("time-9");if(t){const e=-150,s=t.getBoundingClientRect().top+window.scrollY+e;window.scrollTo({top:s,behavior:"smooth"})}}))},respondents:{immediate:!0,handler(){this.curTimeslotAvailability={};for(const t of this.respondents)this.curTimeslotAvailability[t._id]=!0}},calendarEventsByDay(t,e){JSON.stringify(t)!==JSON.stringify(e)&&this.reanimateAvailability()},page(){this.$nextTick((()=>{this.setTimeslotSize()}))},allDays(){this.$nextTick((()=>{this.setTimeslotSize()}))},showStickyRespondents:{immediate:!0,handler(t){clearTimeout(this.delayedShowStickyRespondentsTimeout),this.delayedShowStickyRespondentsTimeout=setTimeout((()=>{this.delayedShowStickyRespondents=t}),100)}},maxDaysPerPage(){this.page*this.maxDaysPerPage>=this.allDays.length&&(this.page=0)},mobileNumDays(){localStorage["mobileNumDays"]=this.mobileNumDays,this.$nextTick((()=>{this.setTimeslotSize()}))},weekOffset(){this.event.type===w.mu.GROUP&&this.fetchResponses()},hideIfNeeded(){this.getResponsesFormatted()},parsedResponses(){this.getResponsesFormatted(),this.event.type===w.mu.GROUP&&this.state===this.states.EDIT_AVAILABILITY&&this.authUser&&(this.availability=new Set,this.populateUserAvailability(this.authUser._id))},showBestTimes(){this.onShowBestTimesChange()},startCalendarOnMonday(){localStorage["startCalendarOnMonday"]=this.startCalendarOnMonday},bufferTime(t,e){(t.enabled!==e.enabled||t.enabled)&&this.reanimateAvailability()},workingHours(t,e){(t.enabled!==e.enabled||t.enabled)&&this.reanimateAvailability()},timeType(){localStorage["timeType"]=this.timeType},fromEditEvent(){this.fromEditEvent&&this.isSpecificTimes&&(this.tempTimes=new Set(this.event.times.map((t=>new Date(t).getTime()))),this.state=this.states.SET_SPECIFIC_TIMES)}},created(){this.resetCurUserAvailability(),addEventListener("click",this.deselectRespondents)},mounted(){const t=new URLSearchParams(window.location.search);if(!this.event.hasSpecificTimes||!this.fromEditEvent&&this.event.times&&0!==this.event.times.length)if(t.get("scheduled_event")){const e=JSON.parse(t.get("scheduled_event"));this.curScheduledEvent=e,this.state=this.states.SCHEDULE_EVENT;const s=new URL(window.location.href);s.searchParams.delete("scheduled_event"),window.history.replaceState({},document.title,s.toString())}else this.showBestTimes?this.state="best_times":this.state="heatmap";else this.state=this.states.SET_SPECIFIC_TIMES;if(this.authUser&&(this.bufferTime=this.authUser?.calendarOptions?.bufferTime??w.tU.bufferTime,this.workingHours=this.authUser?.calendarOptions?.workingHours??w.tU.workingHours,this.isGroup))if(this.event.responses[this.authUser._id]?.calendarOptions){const{bufferTime:t,workingHours:e}=this.event.responses[this.authUser._id]?.calendarOptions;t&&(this.bufferTime=t),e&&(this.workingHours=e)}else this.bufferTime=w.tU.bufferTime,this.workingHours=w.tU.workingHours;if(this.setTimeslotSize(),addEventListener("resize",this.onResize),addEventListener("scroll",this.onScroll),!this.calendarOnly){const t=document.getElementById("drag-section");(0,p.JC)()&&(t.addEventListener("touchstart",this.startDrag),t.addEventListener("touchmove",this.moveDrag),t.addEventListener("touchend",this.endDrag),t.addEventListener("touchcancel",this.endDrag)),t.addEventListener("mousedown",this.startDrag),t.addEventListener("mousemove",this.moveDrag),t.addEventListener("mouseup",this.endDrag)}this.resetSignUpForm()},beforeDestroy(){removeEventListener("click",this.deselectRespondents),removeEventListener("resize",this.onResize),removeEventListener("scroll",this.onScroll)},components:{AlertText:qt.A,AvailabilityTypeToggle:me,ExpandableSection:Tt.A,BufferTimeSwitch:ye,UserAvatarContent:v.A,ZigZag:W,ConfirmDetailsDialog:rt,ToolRow:Bt,CalendarAccounts:f.A,RespondentsList:zt,Advertisement:E,GCalWeekSelector:Ct,WorkingHoursToggle:Yt,SignUpBlock:D.A,SignUpCalendarBlock:B,SignUpBlocksList:H,CalendarEventBlock:ke,SpecificTimesInstructions:Ie,Tooltip:te}},Be=Ue,Pe=(0,x.A)(Be,u,m,!1,null,"4f8fc436",null),Re=Pe.exports},7202:function(t,e,s){"use strict";s.d(e,{A:function(){return g}});var i=s(3740),a=s(6930),n=s(7296),o=s(288),r=s(1844),l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tw-flex tw-items-center tw-justify-center",attrs:{id:"timezone-select-container"}},[e("div",{class:`tw-mr-2 tw-mt-px ${t.labelColor}`},[t._v(t._s(t.label))]),e(r.A,{staticClass:"tw-z-20 -tw-mt-px tw-w-52 tw-text-sm",attrs:{id:"timezone-select",value:t.value,items:t.timezones,"menu-props":{auto:!0},dense:"",color:"#219653","item-color":"green","hide-details":"","item-text":"label","return-object":""},on:{input:t.onChange},scopedSlots:t._u([{key:"item",fn:function({item:s,on:i,attrs:a}){return[e(n.A,t._g(t._b({},"v-list-item",a,!1),i),[e(o.pr,[e(o.UZ,[t._v(" "+t._s(s.gmtString)+" "+t._s(s.label)+" ")])],1)],1)]}},{key:"selection",fn:function({item:s}){return[e("div",{staticClass:"v-select__selection v-select__selection--comma"},[t._v(" "+t._s(s.gmtString)+" "+t._s(s.label)+" ")])]}}])}),t.timezoneModified?e(i.A,{attrs:{icon:"",color:"primary"},on:{click:t.resetTimezone}},[e(a.A,[t._v("mdi-refresh")])],1):t._e()],1)},d=[],c=s(6638),h=s(9412),u={name:"TimezoneSelector",props:{value:{type:Object,required:!0},label:{type:String,default:"Shown in"},labelColor:{type:String,default:""}},created(){localStorage["timezone"]&&(this.timezoneModified=!0),this.value.value||(localStorage["timezone"]?this.$emit("input",JSON.parse(localStorage["timezone"])):this.$emit("input",this.getLocalTimezone()))},data(){return{timezoneModified:!1}},computed:{timezones(){const t=Object.entries(c._O).map((t=>{try{const e=h.A.now(t[0]),s=e.timezone(),i=60*s.current.offset,a=`${i/60^0}:${i%60===0?"00":Math.abs(i%60)}`,n=`(GMT${a.includes("-")?a:`+${a}`})`,o=`${t[1]}`;return{value:s.name,label:o,gmtString:n,offset:60*s.current.offset}}catch(e){return console.error(e),null}})).filter(Boolean).sort(((t,e)=>t.offset-e.offset));return t}},methods:{onChange(t){localStorage["timezone"]=JSON.stringify(t),this.$emit("input",t),this.timezoneModified=!0},getLocalTimezone(){const t=Intl.DateTimeFormat().resolvedOptions().timeZone;let e=this.timezones.find((e=>e.value===t));if(!e){const s=60*h.A.now(t).timezone().current.offset;e=this.timezones.find((t=>t.offset===s))}return e},resetTimezone(){this.$emit("input",this.getLocalTimezone()),localStorage.removeItem("timezone"),this.timezoneModified=!1}}},m=u,p=s(1656),w=(0,p.A)(m,l,d,!1,null,null,null),g=w.exports},8058:function(t,e,s){"use strict";s.d(e,{A:function(){return N}});var i=s(3740),a=s(3698),n=s(2938),o=s(1289),r=s(5961),l=s(6930),d=s(1034),c=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tw-flex tw-flex-col tw-rounded-lg tw-bg-white tw-text-black tw-transition-all",class:t.toggleState?"":"tw-w-fit tw-min-w-[288px] tw-drop-shadow"},[t.toggleState?e(i.A,{staticClass:"-tw-ml-2 tw-w-[calc(100%+1rem)] tw-justify-between tw-px-2",attrs:{block:"",text:""},on:{click:t.toggleShowCalendars}},[e("span",{staticClass:"tw-mr-1 tw-text-base tw-font-medium"},[t._v("My calendars")]),e(l.A,{class:"tw-rotate-"+(t.showCalendars?"180":"0")},[t._v("mdi-chevron-down")])],1):e("div",{staticClass:"tw-border-b tw-border-off-white tw-px-4 tw-py-3 tw-font-medium"},[t._v(" My calendars ")]),e(r.Qo,[t.showCalendars||!t.toggleState?e("span",[e("div",{class:t.toggleState?"":"tw-px-4 tw-py-2"},t._l(t.calendarAccounts,(function(s,i){return e("CalendarAccount",{key:i,attrs:{syncWithBackend:t.syncWithBackend,toggleState:t.toggleState,account:s,eventId:t.eventId,calendarEventsMap:t.calendarEventsMapCopy,removeDialog:t.removeDialog,selectedRemoveEmail:t.removePayload.email,fillSpace:t.fillSpace},on:{toggleCalendarAccount:e=>t.$emit("toggleCalendarAccount",e),toggleSubCalendarAccount:e=>t.$emit("toggleSubCalendarAccount",e),openRemoveDialog:t.openRemoveDialog}})})),1),t.allowAddCalendarAccount?e(o.A,{attrs:{width:"400","content-class":"tw-m-0"},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:a}){return[e(i.A,t._g(t._b({class:t.toggleState?"-tw-ml-2 tw-mt-0 tw-w-min tw-px-2":"tw-w-full",attrs:{text:"",color:"primary"}},"v-btn",a,!1),s),[t._v("+ Add calendar")])]}}],null,!1,2138089012),model:{value:t.addCalendarAccountDialog,callback:function(e){t.addCalendarAccountDialog=e},expression:"addCalendarAccountDialog"}},[e("CalendarTypeSelector",{on:{addGoogleCalendar:t.addGoogleCalendar,addedAppleCalendar:t.addedAppleCalendar,addOutlookCalendar:t.addOutlookCalendar}})],1):t._e()],1):t._e()]),e(o.A,{attrs:{width:"500",persistent:""},model:{value:t.removeDialog,callback:function(e){t.removeDialog=e},expression:"removeDialog"}},[e(a.A,[e(n.ri,[t._v("Are you sure?")]),e(n.OQ,{staticClass:"tw-text-sm tw-text-dark-gray"},[t._v("Are you sure you want to remove "+t._s(t.removePayload.email)+"?")]),e(n.SL,[e(d.A),e(i.A,{attrs:{text:""},on:{click:function(e){t.removeDialog=!1}}},[t._v("Cancel")]),e(i.A,{attrs:{text:"",color:"error"},on:{click:t.removeAccount}},[t._v("Remove")])],1)],1)],1)],1)},h=[],u=s(5353),m=s(6638),p=s(5985),w=s(6092),g=s(7270),v=function(){var t=this,e=t._self._c;return t.showAccount?e("div",{staticClass:"tw-flex tw-flex-col"},[e("div",{staticClass:"tw-group tw-flex tw-h-10 tw-flex-row tw-items-center tw-justify-between tw-text-black"},[e("div",{staticClass:"tw-flex tw-w-full tw-flex-row tw-items-center",class:"tw-gap-"+(t.toggleState?"0":"2")},[t.toggleState?e("div",{staticClass:"tw-flex tw-items-center"},[e(w.A,{attrs:{"hide-details":""},on:{change:e=>t.toggleCalendarAccount(e)},model:{value:t.account.enabled,callback:function(e){t.$set(t.account,"enabled",e)},expression:"account.enabled"}}),e("div",{staticClass:"-tw-ml-2 tw-h-fit tw-w-fit tw-cursor-pointer",on:{click:()=>{t.showSubCalendars=!t.showSubCalendars}}},[e("div",{staticClass:"tw-rotate-0 tw-rotate-90"}),e(l.A,{staticClass:"tw-text-dark-gray tw-transition-all",class:"tw-rotate-"+(t.showSubCalendars?90:0)},[t._v("mdi-chevron-right")])],1)],1):e("UserAvatarContent",{attrs:{size:24,user:t.account}}),e("div",{staticClass:"tw-align-text-middle tw-inline-block tw-break-words tw-text-sm",class:t.toggleState&&!t.fillSpace?"tw-w-[180px]":""},[t._v(" "+t._s(t.account.email)+" ")]),t.accountHasError?e(g.A,{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:a}){return[e(i.A,t._g(t._b({attrs:{icon:""},on:{click:t.reauthenticateCalendarAccount}},"v-btn",a,!1),s),[e(l.A,[t._v("mdi-alert-circle")])],1)]}}],null,!1,1747444984)},[e("span",[t._v(t._s(t.reauthenticateBtnText))])]):t._e()],1),e("span",{staticClass:"tw-hidden tw-opacity-0 tw-opacity-100"}),e(i.A,{staticClass:"group-hover:tw-opacity-100",class:`tw-opacity-${t.account.email==t.selectedRemoveEmail&&t.removeDialog?"100":"0"} ${t.allowDelete?"":"tw-hidden"}`,attrs:{icon:""},on:{click:t.openRemoveDialog}},[e(l.A,{attrs:{color:"#4F4F4F"}},[t._v("mdi-close")])],1)],1),e(r.Qo,[t.showSubCalendars?e("div",{staticClass:"tw-space-y-2 tw-bg-[#EBF7EF] tw-py-2"},t._l(t.account.subCalendars,(function(s,i){return e("div",{key:i,staticClass:"tw-flex tw-flex-row tw-items-start"},[e(w.A,{staticClass:"-tw-mt-px",attrs:{"hide-details":""},on:{change:e=>t.toggleSubCalendarAccount(e,i)},model:{value:s.enabled,callback:function(e){t.$set(s,"enabled",e)},expression:"subCalendar.enabled"}}),e("div",{staticClass:"tw-align-text-middle tw-ml-8 tw-inline-block tw-break-words tw-text-sm",class:t.fillSpace?"":"tw-w-40"},[t._v(" "+t._s(s.name)+" ")])],1)})),0):t._e()])],1):t._e()},f=[],y=s(6),b={name:"CalendarAccount",props:{toggleState:{type:Boolean,default:!1},account:{type:Object,default:()=>{}},eventId:{type:String,default:""},calendarEventsMap:{type:Object,default:()=>{}},removeDialog:{type:Boolean,default:!1},selectedRemoveEmail:{type:String,default:""},syncWithBackend:{type:Boolean,default:!0},fillSpace:{type:Boolean,default:!1}},components:{UserAvatarContent:y.A},data:()=>({showSubCalendars:!1}),computed:{...(0,u.aH)(["authUser"]),allowDelete(){return!(this.account.calendarType==m.MD.GOOGLE&&this.account.email==this.authUser.email||this.toggleState)},accountHasError(){const t=this.calendarEventsMap?.[(0,p.HW)(this.account.email,this.account.calendarType)];return t?.error&&0===t?.calendarEvents?.length},showAccount(){return!(this.toggleState&&this.accountHasError)},reauthenticateBtnText(){return this.account.calendarType==m.MD.GOOGLE?"Calendar access not granted, click to reauthenticate":this.account.calendarType==m.MD.APPLE?"Error with Apple Calendar account, click to remove":this.account.calendarType==m.MD.OUTLOOK?"Error with Outlook Calendar account, click to remove":void 0}},methods:{...(0,u.i0)(["showError"]),addCalendarAccount(){(0,p.n3)({state:{type:this.toggleState?m.QV.ADD_CALENDAR_ACCOUNT_FROM_EDIT:m.QV.ADD_CALENDAR_ACCOUNT,eventId:this.eventId},requestCalendarPermission:!0,selectAccount:!0})},reauthenticateCalendarAccount(){this.account.calendarType==m.MD.GOOGLE?(0,p.n3)({state:{type:this.toggleState?m.QV.ADD_CALENDAR_ACCOUNT_FROM_EDIT:m.QV.ADD_CALENDAR_ACCOUNT,eventId:this.eventId},requestCalendarPermission:!0,selectAccount:!1,loginHint:this.account.email}):(this.account.calendarType==m.MD.APPLE||this.account.calendarType==m.MD.OUTLOOK)&&this.openRemoveDialog()},toggleSubCalendarAccount(t,e){this.syncWithBackend?(0,p.bE)("/user/toggle-sub-calendar",{email:this.account.email,calendarType:this.account.calendarType,enabled:t,subCalendarId:e}).catch((t=>{this.showError("There was a problem with toggling your calendar account! Please try again later.")})):this.$emit("toggleSubCalendarAccount",{email:this.account.email,calendarType:this.account.calendarType,enabled:t,subCalendarId:e})},toggleCalendarAccount(t){t||(this.showSubCalendars=!1),this.syncWithBackend?(0,p.bE)("/user/toggle-calendar",{email:this.account.email,calendarType:this.account.calendarType,enabled:t}).catch((t=>{this.showError("There was a problem with toggling your calendar account! Please try again later.")})):this.$emit("toggleCalendarAccount",{email:this.account.email,calendarType:this.account.calendarType,enabled:t})},openRemoveDialog(){this.$emit("openRemoveDialog",{email:this.account.email,calendarType:this.account.calendarType})}}},A=b,C=s(1656),T=(0,C.A)(A,v,f,!1,null,null,null),x=T.exports,k=s(5420),E=function(){var t=this,e=t._self._c;return e(a.A,{staticClass:"tw-p-4 sm:tw-p-6"},[e(r.Qo,[e("div",{directives:[{name:"show",rawName:"v-show",value:t.state===t.states.PICK_CALENDAR,expression:"state === states.PICK_CALENDAR"}]},[e(n.ri,{staticClass:"tw-px-0 tw-pt-0"},[t._v("Choose a calendar provider")]),e(n.OQ,{staticClass:"tw-p-0"},[e("div",{staticClass:"tw-flex tw-flex-col tw-gap-2"},[e(i.A,{attrs:{block:""},on:{click:function(e){return t.$emit("addGoogleCalendar")}}},[e("div",{staticClass:"tw-flex tw-w-full tw-items-center tw-gap-2"},[e(k.A,{staticClass:"tw-flex-initial",attrs:{width:"20",height:"20",src:s(8575)}}),e(d.A),t._v(" Google Calendar "),e(d.A)],1)]),e(i.A,{attrs:{block:""},on:{click:function(e){t.state=t.states.APPLE_CREDENTIALS}}},[e("div",{staticClass:"tw-flex tw-w-full tw-items-center tw-gap-2"},[e(k.A,{staticClass:"tw-flex-initial",attrs:{width:"20",height:"20",src:s(1228)}}),e(d.A),t._v(" Apple Calendar "),e(d.A)],1)]),e(i.A,{attrs:{block:""},on:{click:function(e){return t.$emit("addOutlookCalendar")}}},[e("div",{staticClass:"tw-flex tw-w-full tw-items-center tw-gap-2"},[e(k.A,{staticClass:"tw-flex-initial",attrs:{width:"20",height:"20",src:s(5155)}}),e(d.A),t._v(" Outlook Calendar "),e(d.A)],1)])],1)])],1)]),e(r.Qo,[t.state===t.states.APPLE_CREDENTIALS?e("AppleCredentials",{on:{back:function(e){t.state=t.states.PICK_CALENDAR},addedAppleCalendar:function(e){return t.$emit("addedAppleCalendar")}}}):t._e()],1)],1)},D=[],S=s(6007),_={name:"CalendarTypeSelector",components:{AppleCredentials:S.A},data(){return{states:{PICK_CALENDAR:"pick-calendar",APPLE_CREDENTIALS:"apple-credentials"},state:"pick-calendar"}}},O=_,I=(0,C.A)(O,E,D,!1,null,null,null),U=I.exports,B={name:"CalendarAccounts",props:{toggleState:{type:Boolean,default:!1},eventId:{type:String,default:""},calendarEventsMap:{type:Object,default:()=>{}},syncWithBackend:{type:Boolean,default:!0},allowAddCalendarAccount:{type:Boolean,default:!0},initialCalendarAccountsData:{type:Object,default:()=>{}},fillSpace:{type:Boolean,default:!1}},data:()=>({removeDialog:!1,removePayload:{},addCalendarAccountDialog:!1,calendarAccounts:{},showCalendars:void 0==localStorage["showCalendars"]||"true"==localStorage["showCalendars"],calendarEventsMapCopy:{}}),computed:{...(0,u.aH)(["authUser"])},mounted(){this.calendarAccounts=this.initialCalendarAccountsData?this.initialCalendarAccountsData:this.authUser.calendarAccounts},methods:{...(0,u.i0)(["showError","showInfo","refreshAuthUser"]),...(0,u.PY)(["setAuthUser"]),addGoogleCalendar(){(0,p.n3)({state:{type:this.toggleState?m.QV.ADD_CALENDAR_ACCOUNT_FROM_EDIT:m.QV.ADD_CALENDAR_ACCOUNT,eventId:this.eventId,calendarType:m.MD.GOOGLE},requestCalendarPermission:!0,selectAccount:!0})},addedAppleCalendar(){this.addCalendarAccountDialog=!1,this.calendarAccounts=this.authUser.calendarAccounts},addOutlookCalendar(){(0,p.WN)({state:{type:this.toggleState?m.QV.ADD_CALENDAR_ACCOUNT_FROM_EDIT:m.QV.ADD_CALENDAR_ACCOUNT,eventId:this.eventId,calendarType:m.MD.OUTLOOK},requestCalendarPermission:!0})},openRemoveDialog(t){this.removeDialog=!0,this.removePayload=t},removeAccount(){(0,p.jd)("/user/remove-calendar-account",this.removePayload).then((async()=>{const t=(0,p.HW)(this.removePayload.email,this.removePayload.calendarType);delete this.authUser.calendarAccounts[t],this.setAuthUser(this.authUser),this.removeDialog=!1})).catch((t=>{console.error(t),this.showError("There was a problem removing this account! Please try again later.")}))},toggleShowCalendars(){this.showCalendars=!this.showCalendars,localStorage["showCalendars"]=this.showCalendars}},components:{CalendarAccount:x,CalendarTypeSelector:U},watch:{calendarEventsMap:{immediate:!0,async handler(){if(this.calendarEventsMap&&0!==Object.keys(this.calendarEventsMap).length)this.calendarEventsMapCopy=this.calendarEventsMap;else{const e=new Date,s=new Date;try{this.calendarEventsMapCopy=await(0,p.Jt)(`/user/calendars?timeMin=${e.toISOString()}&timeMax=${s.toISOString()}`)}catch(t){console.error(t)}}}}}},P=B,R=(0,C.A)(P,c,h,!1,null,null,null),N=R.exports},6155:function(t,e,s){"use strict";s.d(e,{A:function(){return g}});var i=s(4112),a=s(3740),n=s(6930),o=s(1844),r=s(7112),l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tw-flex tw-flex-col tw-rounded-md tw-border-[1px] tw-p-4",class:t.unsaved?"tw-border-light-green":"tw-border-light-gray-stroke",attrs:{"data-id":t.signUpBlock._id}},[e("div",{staticClass:"tw-flex tw-items-start tw-justify-between mb-1"},[t.isEditingName?e("div",{staticClass:"-tw-mt-[6px] tw-flex tw-w-full tw-items-center tw-gap-2"},[e(r.A,{attrs:{dense:"","hide-details":"",autofocus:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.saveName.apply(null,arguments)}},model:{value:t.newName,callback:function(e){t.newName=e},expression:"newName"}}),e(a.A,{attrs:{icon:"",small:""},on:{click:t.cancelEditName}},[e(n.A,{attrs:{small:""}},[t._v("mdi-undo")])],1),e(a.A,{attrs:{icon:"",small:"",color:"primary"},on:{click:t.saveName}},[e(n.A,{attrs:{small:""}},[t._v("mdi-check")])],1)],1):e("div",{staticClass:"tw-flex tw-items-center tw-gap-2 tw-font-medium"},[e("div",[t._v(" "+t._s(t.isEditing?t.newName:t.signUpBlock.name)+" ")]),e("div",[t._v(" ("),e("span",{class:!t.hasCapacity&&"tw-text-green"},[t._v(t._s(t.numberResponses)+"/"+t._s(t.signUpBlock.capacity))]),t._v(") ")]),t.isEditing?e(a.A,{attrs:{icon:"","x-small":""},on:{click:function(e){t.isEditingName=!0}}},[e(n.A,{attrs:{"x-small":""}},[t._v("mdi-pencil")])],1):t._e()],1)]),e("div",{staticClass:"tw-text-xs tw-italic tw-text-dark-gray"},[t._v(" "+t._s(t.timeRangeString)+" ")]),t.isOwner?e("div",{staticClass:"tw-mt-4 tw-flex tw-items-center tw-gap-4"},[e("div",{staticClass:"tw-text-xs"},[t._v("People per slot")]),e("div",{staticClass:"tw-flex tw-h-4 tw-items-center"},[t.isEditing?e("div",{staticClass:"-tw-mt-2 tw-w-20"},[e(o.A,{staticClass:"tw-text-xs",attrs:{value:t.signUpBlock.capacity,"menu-props":"auto",items:t.capacityOptions,"hide-details":"",dense:""},on:{input:function(e){return t.$emit("update:signUpBlock",{...t.signUpBlock,capacity:e})}}})],1):e("div",{staticClass:"tw-text-xs"},[t._v(t._s(t.signUpBlock.capacity))])])]):t._e(),t.signUpBlock.responses?e("div",{staticClass:"tw-mt-2"},t._l(t.signUpBlock.responses,(function(s,a){return e("div",{key:a,staticClass:"tw-relative tw-flex tw-items-center"},[e("div",{staticClass:"tw-ml-1 tw-mr-2"},[""==s.user.picture||t.anonymize&&s.user._id!=t.authUser._id?e(i.A,{attrs:{size:16}},[e(n.A,{attrs:{small:""}},[t._v("mdi-account")])],1):e(i.A,{attrs:{size:16}},[s.user.picture?e("img",{attrs:{src:s.user.picture,referrerpolicy:"no-referrer"}}):t._e()])],1),t.anonymize&&s.user._id!=t.authUser._id?e("div",{staticClass:"tw-transition-all tw-text-sm tw-italic"},[t._v("Attendee")]):e("div",{staticClass:"tw-transition-all tw-text-sm"},[t._v(" "+t._s(s.user.firstName+" "+s.user.lastName)+" ")])])})),0):t._e(),t.isEditing?e("div",{staticClass:"tw-mt-2"},[e("a",{staticClass:"tw-text-xs tw-text-red",attrs:{text:""},on:{click:function(e){return t.$emit("delete:signUpBlock",t.signUpBlock._id)}}},[t._v("Delete slot")])]):t._e(),t.isOwner||!t.hasCapacity||t.infoOnly?t._e():e("div",{staticClass:"tw-mt-2"},[e("a",{staticClass:"tw-text-xs tw-text-green",attrs:{text:""},on:{click:t.joinSlot}},[t._v("+ Join this slot")])])])},d=[],c=s(5985),h=s(5353),u={name:"SignUpBlock",props:{signUpBlock:{type:Object,required:!0},isEditing:{type:Boolean,default:!1},isOwner:{type:Boolean,default:!1},unsaved:{type:Boolean,default:!1},infoOnly:{type:Boolean,default:!1},anonymous:{type:Boolean,default:!1}},data:()=>({capacityOptions:[...Array(100).keys()].map((t=>t+1)),isEditingName:!1,newName:""}),computed:{...(0,h.aH)(["authUser"]),timeRangeString(){return(0,c.R3)(this.signUpBlock.startDate,this.signUpBlock.endDate)},hasCapacity(){return!this.signUpBlock.responses||this.signUpBlock.capacity>this.signUpBlock.responses.length},numberResponses(){return this.signUpBlock.responses?this.signUpBlock.responses.length:0},anonymize(){return this.anonymous&&!this.isOwner}},methods:{saveName(){this.$emit("update:signUpBlock",{...this.signUpBlock,name:this.newName}),this.isEditingName=!1},cancelEditName(){this.newName=this.signUpBlock.name,this.isEditingName=!1},joinSlot(){this.isOwner||this.$emit("signUpForBlock",this.signUpBlock)}},watch:{signUpBlock:{immediate:!0,handler(t){this.newName=t.name}}}},m=u,p=s(1656),w=(0,p.A)(m,l,d,!1,null,null,null),g=w.exports},6638:function(t,e,s){"use strict";s.d(e,{Fu:function(){return m},LJ:function(){return g},MD:function(){return d},Np:function(){return i},QV:function(){return n},Sk:function(){return c},_O:function(){return w},cv:function(){return v},fD:function(){return h},mu:function(){return o},rN:function(){return p},sO:function(){return a},tU:function(){return u},vR:function(){return l},xH:function(){return r}});const i="/api",a=Object.freeze({JsonError:"json-error",NotSignedIn:"not-signed-in",UserDoesNotExist:"user-does-not-exist",EventNotFound:"event-not-found",InvalidCredentials:"invalid-credentials"}),n=Object.freeze({EVENT_ADD_AVAILABILITY:"event-add-availability",EVENT_SIGN_IN_LINK_APPLE:"event-sign-in-link-apple",EVENT_SIGN_IN:"event-sign-in",EVENT_CONTACTS:"event-contacts",GROUP_ADD_AVAILABILITY:"group-add-availability",GROUP_SIGN_IN:"group-sign-in",GROUP_CREATE:"group-create",ADD_CALENDAR_ACCOUNT:"add-calendar-account",ADD_CALENDAR_ACCOUNT_FROM_EDIT:"add-calendar-account-from-edit"}),o=Object.freeze({SPECIFIC_DATES:"specific_dates",DOW:"dow",GROUP:"group"}),r=Object.freeze({AVAILABLE:"available",IF_NEEDED:"if_needed"}),l=Object.freeze({HOUR12:"12-hour",HOUR24:"24-hour"}),d=Object.freeze({GOOGLE:"google",APPLE:"apple",OUTLOOK:"outlook"}),c=Object.freeze({CREATE_EVENT:"create-event",SCHEDULE_EVENT:"schedule-event",UPGRADE_MANUALLY:"upgrade-manually"}),h=Object.freeze({FIFTEEN_MINUTES:15,THIRTY_MINUTES:30,ONE_HOUR:60}),u=Object.freeze({bufferTime:{enabled:!1,time:15},workingHours:{enabled:!1,startTime:9,endTime:17}}),m=Object.freeze(["2018-06-17","2018-06-18","2018-06-19","2018-06-20","2018-06-21","2018-06-22","2018-06-23","2018-06-24"]),p=Object.freeze(["#FFB3B3","#FFCCB3","#FFFFB3","#CDEBDC","#B3B3FF","#D1B3FF","#D3D3D3"]),w=Object.freeze({"Pacific/Midway":"Midway Island, Samoa","Pacific/Honolulu":"Hawaii","America/Juneau":"Alaska","America/Boise":"Mountain Time","America/Dawson":"Dawson, Yukon","America/Chihuahua":"Chihuahua, La Paz, Mazatlan","America/Phoenix":"Arizona","America/Chicago":"Central Time","America/Regina":"Saskatchewan","America/Mexico_City":"Guadalajara, Mexico City, Monterrey","America/Belize":"Central America","America/New_York":"Eastern Time","America/Bogota":"Bogota, Lima, Quito","America/Caracas":"Caracas, La Paz","America/Santiago":"Santiago","America/St_Johns":"Newfoundland and Labrador","America/Sao_Paulo":"Brasilia","America/Tijuana":"Tijuana","America/Montevideo":"Montevideo","America/Argentina/Buenos_Aires":"Buenos Aires, Georgetown","America/Godthab":"Greenland","America/Los_Angeles":"Pacific Time","Atlantic/Azores":"Azores","Atlantic/Cape_Verde":"Cape Verde Islands",GMT:"UTC","Europe/London":"Edinburgh, London","Europe/Dublin":"Dublin","Europe/Lisbon":"Lisbon","Africa/Casablanca":"Casablanca, Monrovia","Atlantic/Canary":"Canary Islands","Europe/Belgrade":"Belgrade, Bratislava, Budapest, Ljubljana, Prague","Europe/Sarajevo":"Sarajevo, Skopje, Warsaw, Zagreb","Europe/Brussels":"Brussels, Copenhagen, Madrid, Paris","Europe/Amsterdam":"Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna","Africa/Algiers":"West Central Africa","Europe/Bucharest":"Bucharest","Africa/Cairo":"Cairo","Europe/Helsinki":"Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius","Europe/Athens":"Athens","Asia/Jerusalem":"Jerusalem","Africa/Harare":"Harare, Pretoria","Europe/Moscow":"Istanbul, Minsk, Moscow, St. Petersburg, Volgograd","Asia/Kuwait":"Kuwait, Riyadh","Africa/Nairobi":"Nairobi","Asia/Baghdad":"Baghdad","Asia/Tehran":"Tehran","Asia/Dubai":"Abu Dhabi, Muscat","Asia/Baku":"Baku, Tbilisi, Yerevan","Asia/Kabul":"Kabul","Asia/Yekaterinburg":"Ekaterinburg","Asia/Karachi":"Islamabad, Karachi, Tashkent","Asia/Kolkata":"Chennai, Kolkata, Mumbai, New Delhi","Asia/Kathmandu":"Kathmandu","Asia/Dhaka":"Astana, Dhaka","Asia/Colombo":"Sri Jayawardenepura","Asia/Almaty":"Almaty, Novosibirsk","Asia/Rangoon":"Yangon Rangoon","Asia/Bangkok":"Bangkok, Hanoi, Jakarta","Asia/Krasnoyarsk":"Krasnoyarsk","Asia/Shanghai":"Beijing, Chongqing, Hong Kong SAR, Urumqi","Asia/Kuala_Lumpur":"Kuala Lumpur, Singapore","Asia/Taipei":"Taipei","Australia/Perth":"Perth","Asia/Irkutsk":"Irkutsk, Ulaanbaatar","Asia/Seoul":"Seoul","Asia/Tokyo":"Osaka, Sapporo, Tokyo","Asia/Yakutsk":"Yakutsk","Australia/Darwin":"Darwin","Australia/Adelaide":"Adelaide","Australia/Sydney":"Canberra, Melbourne, Sydney","Australia/Brisbane":"Brisbane","Australia/Hobart":"Hobart","Asia/Vladivostok":"Vladivostok","Pacific/Guam":"Guam, Port Moresby","Asia/Magadan":"Magadan, Solomon Islands, New Caledonia","Asia/Kamchatka":"Kamchatka, Marshall Islands","Pacific/Fiji":"Fiji Islands","Pacific/Auckland":"Auckland, Wellington","Pacific/Tongatapu":"Nuku'alofa"}),g="000000000000000000000000",v=3},3735:function(t,e,s){"use strict";var i=s(5471),a=s(4916),n=s(5668),o=s(3740),r=s(5961),l=s(6506),d=s(1034),c=function(){var t=this,e=t._self._c;return e(n.A,[e("DiscordBanner"),e("AutoSnackbar",{attrs:{color:"error",text:t.error}}),e("AutoSnackbar",{attrs:{color:"tw-bg-blue",text:t.info}}),e("SignInNotSupportedDialog",{model:{value:t.webviewDialog,callback:function(e){t.webviewDialog=e},expression:"webviewDialog"}}),e("SignInDialog",{on:{signIn:t._signIn},model:{value:t.signInDialog,callback:function(e){t.signInDialog=e},expression:"signInDialog"}}),e("NewDialog",{attrs:{type:t.newDialogOptions.openNewGroup?"group":"event",contactsPayload:t.newDialogOptions.contactsPayload,"no-tabs":t.newDialogOptions.eventOnly,"folder-id":t.newDialogOptions.folderId},model:{value:t.newDialogOptions.show,callback:function(e){t.$set(t.newDialogOptions,"show",e)},expression:"newDialogOptions.show"}}),e("UpgradeDialog",{attrs:{value:t.upgradeDialogVisible},on:{input:t.handleUpgradeDialogInput}}),e("UpvoteRedditSnackbar"),t.showHeader?e("div",{staticClass:"tw-fixed tw-z-40 tw-h-14 tw-w-screen tw-bg-white sm:tw-h-16",attrs:{dark:""}},[e("div",{staticClass:"tw-relative tw-m-auto tw-flex tw-h-full tw-max-w-6xl tw-items-center tw-justify-center tw-px-4"},[e("router-link",{attrs:{to:{name:"home"}}},[e("Logo",{attrs:{type:"schej"}})],1),e(r.SM,[t.isPremiumUser?e("span",{staticClass:"tw-ml-2 tw-cursor-default tw-rounded-md tw-bg-[linear-gradient(-25deg,#0a483d,#00994c,#126045,#0a483d)] tw-px-2 tw-py-1 tw-text-sm tw-font-semibold tw-text-white tw-opacity-80"},[t._v(" Premium ")]):t._e()]),e(d.A),"event"===t.$route.name?e(o.A,{attrs:{id:"top-right-create-btn",text:""},on:{click:()=>t._createNew(!0)}},[t._v(" Create an event ")]):t._e(),t.showFeedbackBtn?e(o.A,{attrs:{id:"feedback-btn",text:"",href:"https://forms.gle/9AgRy4PQfWfVuBnw8",target:"_blank"},on:{click:t.trackFeedbackClick}},[t._v(" Give feedback ")]):t._e(),t.isPhone?t._e():e(o.A,{attrs:{text:"",href:"https://www.paypal.com/donate/?hosted_button_id=KWCH6LGJCP6E6",target:"_blank"}},[t._v(" Donate ")]),"home"!==t.$route.name||t.isPhone?t._e():e(o.A,{staticClass:"tw-mx-2 tw-rounded-md",style:{boxShadow:"0px 2px 8px 0px #00994C80 !important"},attrs:{color:"primary"},on:{click:()=>t._createNew()}},[t._v(" + Create new ")]),t.authUser?e("div",{staticClass:"sm:tw-ml-4"},[e("AuthUserMenu")],1):e(o.A,{attrs:{id:"top-right-sign-in-btn",text:""},on:{click:t.signIn}},[t._v(" Sign in ")])],1)]):t._e(),e(l.A,[e("div",{staticClass:"tw-flex tw-h-screen tw-flex-col"},[e("div",{staticClass:"tw-relative tw-flex-1 tw-overscroll-auto",class:t.routerViewClass},[t.loaded?e("router-view",{key:t.$route.fullPath}):t._e()],1)])])],1)},h=[],u=s(5353),m=s(5985),p=s(6638),w=s(6930),g=s(7150),v=function(){var t=this,e=t._self._c;return e(g.A,{attrs:{top:"",color:t.color},scopedSlots:t._u([{key:"action",fn:function({attrs:s}){return[e(o.A,t._b({attrs:{icon:""},on:{click:function(e){t.show=!1}}},"v-btn",s,!1),[e(w.A,[t._v("mdi-close")])],1)]}}]),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[e("span",{staticClass:"tw-mr-2 tw-text-sm"},[t._v(t._s(t.text))])])},f=[],y={name:"AutoSnackbar",props:{text:{type:String,default:""},color:{type:String,default:""}},data(){return{show:!1}},created(){},watch:{text:{immediate:!0,handler(t){this.show=!!t}}}},b=y,A=s(1656),C=(0,A.A)(b,v,f,!1,null,null,null),T=C.exports,x=s(4112),k=s(9483),E=s(8983),D=s(7296),S=s(288),_=s(6237),O=function(){var t=this,e=t._self._c;return e("span",[t.authUser?e(_.A,{attrs:{"offset-y":"",left:""},scopedSlots:t._u([{key:"activator",fn:function({on:s}){return[e(o.A,t._g({attrs:{id:"user-menu-btn",icon:"",width:t.size,height:t.size}},s),[e(x.A,{attrs:{size:t.size}},[e("UserAvatarContent",{attrs:{user:t.authUser,size:t.size}})],1)],1)]}}],null,!1,2254285431)},[e(E.A,{staticClass:"py-0",attrs:{dense:t.isPhone}},[e(D.A,[e(S.UZ,[e("strong",[t._v(t._s(`${t.authUser.firstName} ${t.authUser.lastName}`))])])],1),e(D.A,{attrs:{id:"add-team-member-btn"},on:{click:t.addTeamMember}},[e(S.UZ,{staticClass:"tw-flex tw-items-center tw-gap-1"},[e(w.A,{staticClass:"tw-mr-1",attrs:{small:"",color:"black"}},[t._v("mdi-account-plus")]),t._v(" Add team member ")],1)],1),t.showFeedbackBtn?e(D.A,{attrs:{id:"feedback-btn",href:"https://forms.gle/9AgRy4PQfWfVuBnw8",target:"_blank"}},[e(S.UZ,{staticClass:"tw-flex tw-items-center tw-gap-1"},[e(w.A,{staticClass:"tw-mr-1",attrs:{small:"",color:"black"}},[t._v("mdi-message")]),t._v(" Give feedback ")],1)],1):t._e(),e(D.A,{attrs:{id:"settings-btn"},on:{click:t.goToSettings}},[e(S.UZ,{staticClass:"tw-flex tw-items-center tw-gap-1"},[e(w.A,{staticClass:"tw-mr-1",attrs:{small:"",color:"black"}},[t._v("mdi-cog")]),t._v(" Settings ")],1)],1),e(k.A),e(D.A,{attrs:{id:"sign-out-btn"},on:{click:t.signOut}},[e(S.UZ,{staticClass:"red--text tw-flex tw-items-center tw-gap-1"},[e(w.A,{staticClass:"tw-mr-1",attrs:{small:"",color:"red"}},[t._v("mdi-logout")]),t._v(" Sign Out ")],1)],1)],1)],1):t._e(),e("TeamsNotReadyDialog",{model:{value:t.showTeamsNotReadyDialog,callback:function(e){t.showTeamsNotReadyDialog=e},expression:"showTeamsNotReadyDialog"}})],1)},I=[],U=s(6),B=s(3698),P=s(2938),R=s(1289),N=function(){var t=this,e=t._self._c;return e(R.A,{attrs:{"max-width":"400px","content-class":"tw-m-0"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(B.A,[e(P.ri,[e("span",{staticClass:"tw-text-xl tw-font-medium"},[t._v("Upgrade Required")]),e(d.A),e(o.A,{staticClass:"tw-right-0 tw-mr-2 tw-self-center",attrs:{absolute:"",icon:""},on:{click:function(e){t.dialog=!1}}},[e(w.A,[t._v("mdi-close")])],1)],1),e(P.OQ,{staticClass:"tw-text-very-dark-gray"},[t._v(" Teams are only available on the Schej organization plan. Book a call with the founder to learn about how to upgrade. ")]),e(P.SL,[e(d.A),e(o.A,{attrs:{text:""},on:{click:function(e){t.dialog=!1}}},[t._v("Close")]),e(o.A,{attrs:{color:"primary"},on:{click:t.bookCall}},[t._v("Book a call")])],1)],1)],1)},j=[],M={name:"TeamsNotReadyDialog",props:{value:Boolean},computed:{dialog:{get(){return this.value},set(t){this.$emit("input",t)}}},methods:{bookCall(){this.$posthog?.capture("book_call_for_organization_plan_clicked"),window.open("https://cal.com/jonathan-liu/schej-organization-plan","_blank"),this.dialog=!1}}},L=M,H=(0,A.A)(L,N,j,!1,null,null,null),z=H.exports,F={name:"AuthUserMenu",components:{UserAvatarContent:U.A,TeamsNotReadyDialog:z},data(){return{showTeamsNotReadyDialog:!1}},computed:{...(0,u.aH)(["authUser"]),isPhone(){return(0,m.tp)(this.$vuetify)},size(){return this.isPhone?32:42},showFeedbackBtn(){return!(!this.isPhone||"home"===this.$route.name)}},methods:{...(0,u.PY)(["setAuthUser"]),async signOut(){await(0,m.bE)("/auth/sign-out"),this.setAuthUser(null),this.$posthog?.reset(),location.reload()},goToSettings(){this.$router.replace({name:"settings"})},addTeamMember(){this.$posthog?.capture("add_team_member_clicked"),this.showTeamsNotReadyDialog=!0}}},G=F,$=(0,A.A)(G,O,I,!1,null,null,null),V=$.exports,W=s(156),Y=function(){var t=this,e=t._self._c;return t.isPhone?t._e():e(g.A,{staticClass:"tw-bottom-0 tw-z-50",attrs:{"min-width":"unset",bottom:"",timeout:-1,rounded:"lg",color:"#333","content-class":"tw-flex tw-items-center tw-gap-x-2"},scopedSlots:t._u([{key:"action",fn:function({attrs:s}){return[e(o.A,t._b({staticClass:"-tw-ml-2 tw-mr-2",attrs:{icon:""},on:{click:t.dismiss}},"v-btn",s,!1),[e(w.A,[t._v("mdi-close")])],1)]}}],null,!1,2252307993),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[t._v(" Enjoying Schej? Help us reach more people by upvoting our Reddit post and leaving a comment with your thoughts :) "),e(o.A,{attrs:{href:t.redditUrl,target:"_blank",small:"",color:"#FF4501"},on:{click:t.trackRedditClick}},[t._v(" Upvote "),e(w.A,{staticClass:"-tw-mr-px -tw-mt-px",attrs:{small:""}},[t._v("mdi-arrow-up-bold")])],1)],1)},q=[],Q={name:"UpvoteRedditSnackbar",data(){return{redditUrl:"https://www.reddit.com/r/opensource/comments/1klu471/i_made_a_doodle_alternative/",show:!1}},computed:{isPhone(){return(0,m.tp)(this.$vuetify)},localStorageKey(){return`upvoteRedditSnackbarDismissed_${this.redditUrl}`}},methods:{dismiss(){this.show=!1,localStorage.setItem(this.localStorageKey,"true"),this.$posthog?.capture("reddit_upvote_snackbar_dismissed")},trackRedditClick(){this.$posthog?.capture("reddit_upvote_snackbar_clicked",{redditUrl:this.redditUrl})}},watch:{$route:{immediate:!0,handler(){const t="home"===this.$route.name||"event"===this.$route.name,e="true"===localStorage.getItem(this.localStorageKey);this.show=!e&&t}}}},J=Q,X=(0,A.A)(J,Y,q,!1,null,null,null),Z=X.exports,K=s(5420),tt=function(){var t=this,e=t._self._c;return e(K.A,{staticClass:"shrink tw-cursor-pointer",attrs:{alt:t.alt,contain:"",src:t.src,transition:"fade-transition",width:t.width}})},et=[],st={name:"Logo",props:{type:{type:0,default:"schej"}},computed:{isPhone(){return(0,m.tp)(this.$vuetify)},alt(){return"betterwhen2meet"===this.type?"Betterwhen2meet Logo":"Schej Logo"},src(){switch(this.type){case"schej":return s(4948);case"betterwhen2meet":return s(6748);case"aprilfools":return s(6748)}},width(){switch(this.type){case"schej":return this.isPhone?70:90;case"betterwhen2meet":return this.isPhone?200:300;case"aprilfools":return this.isPhone?200:300}}}},it=st,at=(0,A.A)(it,tt,et,!1,null,null,null),nt=at.exports,ot=s(3540),rt=s.n(ot),lt=s(2083),dt=s(1121),ct=function(){var t=this,e=t._self._c;return e(R.A,{attrs:{value:t.value,width:400,"content-class":"tw-m-0"},on:{input:e=>t.$emit("input",e)}},[e(B.A,[e(P.ri,[t._v("Sign in")]),e(P.OQ,{staticClass:"tw-flex tw-flex-col tw-items-center"},[e("div",{staticClass:"tw-mb-4 tw-flex tw-w-full tw-flex-col tw-gap-2"},[e(o.A,{staticClass:"tw-bg-white",attrs:{block:""},on:{click:function(e){return t.signIn(t.calendarTypes.GOOGLE)}}},[e("div",{staticClass:"tw-flex tw-w-full tw-items-center tw-gap-2"},[e(K.A,{staticClass:"tw-flex-initial",attrs:{width:"20",height:"20",src:s(8575)}}),e(d.A),t._v(" Sign in with Google "),e(d.A)],1)]),e(o.A,{staticClass:"tw-bg-white",attrs:{block:""},on:{click:function(e){return t.signIn(t.calendarTypes.OUTLOOK)}}},[e("div",{staticClass:"tw-flex tw-w-full tw-items-center tw-gap-2"},[e(K.A,{staticClass:"tw-flex-initial",attrs:{width:"20",height:"20",src:s(5155)}}),e(d.A),t._v(" Sign in with Outlook "),e(d.A)],1)])],1),e("div",{staticClass:"tw-text-center tw-text-xs"},[t._v(" By continuing, you agree to our "),e("router-link",{staticClass:"tw-text-blue",attrs:{to:{name:"privacy-policy"}}},[t._v("privacy policy")])],1)])],1)],1)},ht=[],ut={name:"SignInDialog",props:{value:{type:Boolean,required:!0}},data(){return{calendarTypes:p.MD}},methods:{signIn(t){this.$emit("signIn",t)}}},mt=ut,pt=(0,A.A)(mt,ct,ht,!1,null,null,null),wt=pt.exports,gt=function(){var t=this,e=t._self._c;return t.show&&!t.isPhone?e("div",{staticClass:"tw-relative tw-bg-[#1A1A1E] tw-px-8 tw-py-3 tw-text-center tw-text-sm tw-text-white"},[e("div",{staticClass:"tw-m-auto tw-flex tw-max-w-6xl tw-flex-col tw-items-center tw-justify-center sm:tw-flex-row"},[e("span",[t._v(" Join our Discord community for updates, feedback, and support! ")]),e(o.A,{staticClass:"tw-mt-3 tw-flex-shrink-0 sm:tw-ml-4 sm:tw-mt-0",attrs:{href:t.discordUrl,target:"_blank",outlined:"",color:"white",small:""},on:{click:t.trackDiscordClick}},[t._v(" Join Discord ")])],1),e(o.A,{staticClass:"tw-absolute tw-right-2 tw-top-1/2 -tw-translate-y-1/2",attrs:{icon:"",small:""},on:{click:t.dismiss}},[e(w.A,{attrs:{color:"white"}},[t._v("mdi-close")])],1)],1):t._e()},vt=[],ft={name:"DiscordBanner",data(){return{discordUrl:"https://discord.gg/v6raNqYxx3",show:!1}},computed:{isPhone(){return(0,m.tp)(this.$vuetify)},localStorageKey(){return"discordBannerDismissed_v1"}},methods:{dismiss(){this.show=!1,localStorage.setItem(this.localStorageKey,"true"),this.$posthog?.capture("discord_banner_dismissed")},trackDiscordClick(){this.$posthog?.capture("discord_banner_clicked",{discordUrl:this.discordUrl})}},watch:{$route:{immediate:!0,handler(){const t="landing"===this.$route.name,e="true"===localStorage.getItem(this.localStorageKey);this.show=!e&&t}}}},yt=ft,bt=(0,A.A)(yt,gt,vt,!1,null,null,null),At=bt.exports,Ct={name:"App",metaInfo:{htmlAttrs:{lang:"en-US"}},components:{AutoSnackbar:T,AuthUserMenu:V,SignInNotSupportedDialog:W.A,NewDialog:lt.A,UpvoteRedditSnackbar:Z,Logo:nt,UpgradeDialog:dt.A,SignInDialog:wt,DiscordBanner:At},data:()=>({mounted:!1,loaded:!1,scrollY:0,webviewDialog:!1,signInDialog:!1}),computed:{...(0,u.L8)(["isPremiumUser"]),...(0,u.aH)(["authUser","error","info","enablePaywall","upgradeDialogVisible","newDialogOptions"]),isPhone(){return(0,m.tp)(this.$vuetify)},showHeader(){return"landing"!==this.$route.name&&"auth"!==this.$route.name&&"privacy-policy"!==this.$route.name},showFeedbackBtn(){return!this.isPhone||"home"===this.$route.name},routerViewClass(){let t="";return this.showHeader&&(this.isPhone?t+="tw-pt-12 ":t+="tw-pt-14 "),t}},methods:{...(0,u.PY)(["setAuthUser","setSignUpFormEnabled","setPricingPageConversion","setEnablePaywall","setFeatureFlagsLoaded"]),...(0,u.i0)(["getEvents","showUpgradeDialog","hideUpgradeDialog","createNew"]),handleScroll(t){this.scrollY=window.scrollY},_createNew(t=!1){this.$posthog?.capture("create_new_button_clicked",{eventOnly:t}),this.createNew({eventOnly:t})},signIn(){if("event"===this.$route.name||"group"===this.$route.name||"signUp"===this.$route.name){if(rt()(navigator.userAgent))return void(this.webviewDialog=!0);this.signInDialog=!0}},_signIn(t){if("event"===this.$route.name||"group"===this.$route.name||"signUp"===this.$route.name){let e;"event"===this.$route.name?e={eventId:this.$route.params.eventId,type:p.QV.EVENT_SIGN_IN}:"group"===this.$route.name&&(e={groupId:this.$route.params.groupId,type:p.QV.GROUP_SIGN_IN}),t===p.MD.GOOGLE?(0,m.n3)({state:e,selectAccount:!0}):t===p.MD.OUTLOOK&&(0,m.WN)({state:e,selectAccount:!0})}},setFeatureFlags(){this.$posthog&&(this.setSignUpFormEnabled(this.$posthog.isFeatureEnabled("sign-up-form")),this.setPricingPageConversion(this.$posthog.getFeatureFlag("pricing-page-conversion")),this.setEnablePaywall(this.$posthog.isFeatureEnabled("enable-paywall")),this.setFeatureFlagsLoaded(!0))},trackFeedbackClick(){this.$posthog?.capture("give_feedback_button_clicked")},handleUpgradeDialogInput(t){t||this.hideUpgradeDialog()}},async created(){await(0,m.Jt)("/user/profile").then((t=>{this.setAuthUser(t),this.$posthog?.identify(t._id,{email:t.email,firstName:t.firstName,lastName:t.lastName})})).catch((()=>{this.setAuthUser(null)})).finally((()=>{this.loaded=!0})),window.addEventListener("scroll",this.handleScroll),this.getEvents()},mounted(){this.mounted=!0,this.scrollY=window.scrollY},beforeDestroy(){window.removeEventListener("scroll",this.handleScroll)},watch:{$route:{immediate:!0,async handler(){const t=window.location.href;if(this.$route.name&&this.$posthog?.capture("$pageview"),this.$route.query.p){let s=null;try{s=await(0,m.g$)()}catch(e){}(0,m.bE)("/analytics/scanned-poster",{url:t,location:s})}}},authUser:{immediate:!0,handler(){this.$posthog&&(this.$posthog.setPersonPropertiesForFlags({email:this.authUser?.email}),this.$posthog.onFeatureFlags((()=>{this.setFeatureFlags()})))}}}},Tt=Ct,xt=(0,A.A)(Tt,c,h,!1,null,null,null),kt=xt.exports,Et=s(3723);(0,Et.k)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});var Dt=s(2554),St=s(7270),_t=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tw-bg-light-gray"},[e("div",{staticClass:"tw-relative tw-m-auto tw-mb-12 tw-flex tw-max-w-6xl tw-flex-col tw-px-4 sm:tw-mb-20"},[e("div",{staticClass:"tw-mb-16 sm:tw-mb-28"},[e("div",{staticClass:"tw-flex tw-items-center tw-pt-5"},[e("Logo",{attrs:{type:"schej"}}),e(d.A),e("LandingPageHeader",[e(o.A,{attrs:{text:""},on:{click:t.openHowItWorksDialog}},[t._v("如何使用")]),e(o.A,{attrs:{text:"",href:"/blog"}},[t._v("支持我们")]),t.authUser?e("div",{staticClass:"tw-ml-2"},[e("AuthUserMenu")],1):e(o.A,{attrs:{text:""},on:{click:t.signIn}},[t._v("关于我们")])],1)],1),e("div",{staticClass:"tw-relative tw-mt-2 tw-flex tw-items-center tw-justify-center"},[e("div",{staticClass:"tw-absolute tw-left-8 tw-top-0 tw-flex tw-items-center sm:tw-left-12"},[e("div",{staticClass:"-tw-mt-3.5 tw-text-dark-gray"},[e(w.A,[t._v("mdi-arrow-up-left")])],1),e("div",{staticClass:"tw-text-sm tw-text-dark-gray"},[e("PronunciationMenu")],1)])])]),e("div",{staticClass:"tw-flex tw-flex-col tw-items-center"},[e("div",{staticClass:"tw-mb-6 tw-flex tw-max-w-[26rem] tw-flex-col tw-items-center sm:tw-w-[35rem] sm:tw-max-w-none"},[e("div",{staticClass:"tw-mb-4 tw-flex tw-select-none tw-items-center tw-rounded-full tw-border tw-border-light-gray-stroke tw-bg-white/70 tw-px-2.5 tw-py-1.5 tw-text-sm tw-text-dark-gray"},[t._v(" We're open source! "),t._m(0)],1),t._m(1),e("div",{staticClass:"lg:tw-text-md tw-text-left tw-text-center tw-text-sm tw-text-very-dark-gray sm:tw-text-lg md:tw-text-lg xl:tw-text-lg"},[t._v(" 无需来回沟通，即可协调小组会议 "),e("br",{staticClass:"tw-hidden sm:tw-block"}),t._v(" 轻松导入您的 "),e(St.A,{attrs:{top:"","content-class":"tw-bg-very-dark-gray tw-shadow-lg tw-opacity-100"},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:i}){return[e("span",t._g(t._b({staticClass:"tw-cursor-pointer tw-border-b tw-border-dashed tw-border-dark-gray"},"span",i,!1),s),[t._v("日历")])]}}])},[e("span",[t._v("我们支持从 Google Calendar, Outlook, Apple Calendar 自动填充您的日历，无需手动输入")])])],1)]),e("div",{staticClass:"tw-mb-12 tw-space-y-2"},[e(o.A,{staticClass:"tw-block tw-self-center tw-rounded-lg tw-bg-green tw-px-10 tw-text-base sm:tw-px-10 lg:tw-px-12",attrs:{id:"lets-schej-it-btn",dark:"",large:"","x-large":t.$vuetify.breakpoint.mdAndUp},on:{click:function(e){t.authUser?t.openDashboard():t.newDialog=!0}}},[t._v(" "+t._s(t.authUser?"Open dashboard":"创建活动")+" ")]),t.authUser?t._e():e("div",{staticClass:"tw-text-center tw-text-xs tw-text-dark-gray sm:tw-text-sm"})],1),e("div",{staticClass:"tw-relative tw-w-full"},[e("div",{staticClass:"tw-absolute -tw-bottom-12 tw-left-1/2 tw-h-[85%] tw-w-screen -tw-translate-x-1/2 tw-bg-green sm:-tw-bottom-20"}),e("div",{staticClass:"tw-relative tw-z-20 tw-w-full tw-rounded-lg tw-border tw-border-light-gray-stroke tw-bg-white tw-shadow-xl sm:tw-rounded-xl md:tw-mx-auto md:tw-w-fit"},[e("div",{staticClass:"tw-relative tw-mx-4 tw-aspect-square md:tw-size-[700px] lg:tw-size-[800px]"},[e(K.A,{staticClass:"tw-absolute tw-left-0 tw-top-0 tw-z-20 tw-size-full tw-transition-opacity tw-duration-300",class:{"tw-opacity-0":t.isVideoPlaying},attrs:{src:s(3828),transition:"fade-transition",contain:""}}),e("vue-vimeo-player",{attrs:{"video-url":"https://player.vimeo.com/video/1083205305?h=d58bef862a","player-width":800,"player-height":800,options:{muted:!0,playsinline:!0,responsive:!0},controls:!1,autoplay:!0,loop:!0},on:{play:t.onPlay}})],1)])])])]),e("Footer"),e("SignInDialog",{on:{signIn:t._signIn},model:{value:t.signInDialog,callback:function(e){t.signInDialog=e},expression:"signInDialog"}}),e("NewDialog",{attrs:{"no-tabs":""},on:{signIn:t.signIn},model:{value:t.newDialog,callback:function(e){t.newDialog=e},expression:"newDialog"}}),t.showHowItWorksDialog?e("HowItWorksDialog",{model:{value:t.showHowItWorksDialog,callback:function(e){t.showHowItWorksDialog=e},expression:"showHowItWorksDialog"}}):t._e()],1)},Ot=[function(){var t=this,e=t._self._c;return e("github-button",{staticClass:"-tw-mb-1 tw-ml-2",attrs:{href:"https://github.com/schej-it/schej.it","data-show-count":"true","aria-label":"Star schej-it/schej.it on GitHub"}},[t._v("Star")])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tw-mb-4 tw-text-center tw-text-2xl tw-font-medium sm:tw-text-4xl lg:tw-text-4xl xl:tw-text-5xl",attrs:{id:"header"}},[e("h1",[t._v("定个时间吧👋")])])}],It=(s(4114),function(){var t=this,e=t._self._c;return e(B.A,{staticClass:"tw-m-4 tw-rounded-lg lg:tw-w-[34rem]"},[e("div",{staticClass:"-tw-ml-3 sm:tw-ml-0"},[e("ScheduleOverlap",{ref:"scheduleOverlap",attrs:{event:t.event,sampleCalendarEventsByDay:t.calendarEventsByDay,calendarOnly:"",interactable:!1,showSnackbar:!1,alwaysShowCalendarEvents:!0,animateTimeslotAlways:"",showHintText:!1}})],1)])}),Ut=[],Bt=s(3208),Pt={name:"LandingPageCalendar",components:{ScheduleOverlap:Bt.A},data:()=>({dates:[(0,m.ck)((0,m.cN)(new Date,-1),9),(0,m.ck)(new Date,9),(0,m.ck)((0,m.cN)(new Date,1),9)],responses:{},calendarEventsByDay:[]}),computed:{event(){return{dates:this.dates,duration:this.duration,startTime:this.startTime,endTime:this.endTime,responses:this.responses}},duration(){return(0,m.tp)(this.$vuetify)?6:8},startTime(){return(0,m.XQ)(new Date(this.dates[0]),!0)},endTime(){return(this.startTime+this.duration)%24}},methods:{getCalendarEventsByDay(){const[t,e,s]=this.dates,i=[{startDate:(0,m.ck)(t,9),endDate:(0,m.ck)(t,10),summary:"Coffee with Jen"},{startDate:(0,m.ck)(e,11),endDate:(0,m.ck)(e,14),summary:"Karaoke with friends"},{startDate:(0,m.ck)(s,13),endDate:(0,m.ck)(s,17),summary:"Study session"}];(0,m.tp)(this.$vuetify)||i.push({startDate:(0,m.ck)(s,20.5),endDate:(0,m.ck)(s,22),summary:"Hackathon meeting"}),this.calendarEventsByDay=(0,m.NS)(this.dates,this.duration,i)},getResponses(){const[t,e,s]=this.dates;this.responses={"62828fec1bc681fa020632f2":{user:{_id:"1",name:"1"},availability:[(0,m.ck)(t,10),(0,m.ck)(t,10.5),(0,m.ck)(t,11),(0,m.ck)(t,11.5),(0,m.ck)(t,12),(0,m.ck)(t,12.5),(0,m.ck)(t,13),(0,m.ck)(t,14.5),(0,m.ck)(t,15),(0,m.ck)(t,15.5),(0,m.ck)(t,16),(0,m.ck)(t,16.5),(0,m.ck)(t,17),(0,m.ck)(t,17.5),(0,m.ck)(t,18),(0,m.ck)(t,18.5),(0,m.ck)(t,19),(0,m.ck)(t,20.5),(0,m.ck)(t,21),(0,m.ck)(t,21.5),(0,m.ck)(e,9),(0,m.ck)(e,9.5),(0,m.ck)(e,14),(0,m.ck)(e,14.5),(0,m.ck)(e,15),(0,m.ck)(e,15.5),(0,m.ck)(e,16),(0,m.ck)(e,16.5),(0,m.ck)(e,17),(0,m.ck)(e,17.5),(0,m.ck)(e,18),(0,m.ck)(e,18.5),(0,m.ck)(e,19),(0,m.ck)(e,19.5),(0,m.ck)(e,20),(0,m.ck)(e,21.5),(0,m.ck)(s,12.5),(0,m.ck)(s,17),(0,m.ck)(s,19.5)]},"628292fe6e12d2baa9c01395":{user:{_id:"2",name:"2"},availability:[(0,m.ck)(t,14),(0,m.ck)(t,14.5),(0,m.ck)(t,15),(0,m.ck)(t,15.5),(0,m.ck)(t,16),(0,m.ck)(t,16.5),(0,m.ck)(t,17),(0,m.ck)(t,17.5),(0,m.ck)(t,18),(0,m.ck)(t,18.5),(0,m.ck)(t,19),(0,m.ck)(t,19.5),(0,m.ck)(t,20),(0,m.ck)(t,20.5),(0,m.ck)(t,21),(0,m.ck)(t,21.5),(0,m.ck)(e,9),(0,m.ck)(e,9.5),(0,m.ck)(e,10),(0,m.ck)(e,10.5),(0,m.ck)(e,16),(0,m.ck)(e,16.5),(0,m.ck)(e,17),(0,m.ck)(e,17.5),(0,m.ck)(e,18),(0,m.ck)(e,18.5),(0,m.ck)(e,19),(0,m.ck)(e,19.5),(0,m.ck)(e,20),(0,m.ck)(e,20.5),(0,m.ck)(e,21),(0,m.ck)(e,21.5),(0,m.ck)(s,9),(0,m.ck)(s,9.5),(0,m.ck)(s,10),(0,m.ck)(s,12.5),(0,m.ck)(s,17),(0,m.ck)(s,18),(0,m.ck)(s,18.5),(0,m.ck)(s,19),(0,m.ck)(s,19.5),(0,m.ck)(s,20)]},"628208870df4418ff4213757":{user:{_id:"3",name:"3"},availability:[(0,m.ck)(t,11),(0,m.ck)(t,11.5),(0,m.ck)(t,12),(0,m.ck)(t,12.5),(0,m.ck)(t,13),(0,m.ck)(t,13.5),(0,m.ck)(t,14),(0,m.ck)(t,14.5),(0,m.ck)(t,15),(0,m.ck)(t,15.5),(0,m.ck)(t,16),(0,m.ck)(t,16.5),(0,m.ck)(t,20),(0,m.ck)(t,20.5),(0,m.ck)(t,21),(0,m.ck)(t,21.5),(0,m.ck)(e,9),(0,m.ck)(e,9.5),(0,m.ck)(e,10),(0,m.ck)(e,10.5),(0,m.ck)(e,19),(0,m.ck)(e,19.5),(0,m.ck)(e,20),(0,m.ck)(e,20.5),(0,m.ck)(e,21),(0,m.ck)(e,21.5),(0,m.ck)(s,9),(0,m.ck)(s,9.5),(0,m.ck)(s,10),(0,m.ck)(s,10.5),(0,m.ck)(s,11),(0,m.ck)(s,11.5),(0,m.ck)(s,12),(0,m.ck)(s,12.5),(0,m.ck)(s,17),(0,m.ck)(s,17.5),(0,m.ck)(s,18),(0,m.ck)(s,18.5),(0,m.ck)(s,19),(0,m.ck)(s,19.5),(0,m.ck)(s,20)]}};for(const i of Object.keys(this.responses)){const t=[];for(const e of this.responses[i].availability){t.push(e);const s=new Date(e);s.setMinutes(e.getMinutes()+15),t.push(s)}this.responses[i].availability=t}},reset(){this.responses={},this.calendarEventsByDay=[]},playAnimation(){this.reset(),this.$refs.scheduleOverlap.startEditing(),setTimeout((()=>{this.getCalendarEventsByDay(),this.getResponses(),setTimeout((()=>{this.$refs.scheduleOverlap.setAvailabilityAutomatically(),setTimeout((()=>{this.$refs.scheduleOverlap.stopEditing()}),2e3)}),500)}),200)}},mounted(){this.playAnimation()}},Rt=Pt,Nt=(0,A.A)(Rt,It,Ut,!1,null,null,null),jt=Nt.exports,Mt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tw-flex tw-w-full tw-cursor-pointer tw-flex-col tw-overflow-hidden tw-rounded-md tw-border-[1px] tw-bg-white tw-p-4 tw-text-left tw-shadow-sm tw-transition-all sm:tw-p-6",class:{"tw-border-green":t.toggled,"tw-border-light-gray-stroke":!t.toggled},on:{click:()=>t.toggled=!t.toggled}},[e("div",{staticClass:"tw-flex tw-flex-row tw-content-center tw-justify-between tw-text-base"},[e("div",{staticClass:"tw-mr-4 tw-font-medium",domProps:{innerHTML:t._s(t.question)}}),e(w.A,{class:""+(t.toggled?"tw-rotate-45 tw-text-green":"tw-rotate-0 tw-text-gray"),attrs:{size:"x-large"}},[t._v("mdi-plus")])],1),e(r.Qo,[t.toggled?e("div",[e("div",{staticClass:"tw-pt-4 tw-text-sm sm:tw-pt-6"},[e("div",{domProps:{innerHTML:t._s(t.answer)}}),e("div",{staticClass:"tw-flex tw-flex-col tw-gap-2"},t._l(t.points,(function(s,i){return e("div",{staticClass:"tw-flex tw-items-center"},[e("div",{staticClass:"tw-mr-2 tw-flex tw-h-5 tw-w-5 tw-shrink-0 tw-items-center tw-justify-center tw-rounded-full tw-bg-green tw-text-white"},[t._v(" "+t._s(i+1)+" ")]),e("div",[t._v(t._s(s))])])})),0),t.authRequired?e("div",{staticClass:"tw-mt-6 tw-text-sm tw-font-medium tw-text-dark-gray"},[t._v(" * "),e("a",{staticClass:"tw-text-green tw-underline",on:{click:function(e){return e.stopPropagation(),t.$emit("signIn")}}},[t._v("Sign in")]),t._v(" to use this feature ")]):t._e()])]):t._e()])],1)},Lt=[],Ht={name:"FAQ",props:{question:{type:String,required:!0},answer:{type:String},points:{type:Array},authRequired:{type:Boolean,default:!1}},data:()=>({toggled:!1}),computed:{},methods:{}},zt=Ht,Ft=(0,A.A)(zt,Mt,Lt,!1,null,null,null),Gt=Ft.exports,$t=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tw-mb-4 tw-text-2xl tw-font-medium sm:tw-text-3xl md:tw-mb-8 lg:tw-text-4xl"},[t._t("default")],2)},Vt=[],Wt={name:"Header"},Yt=Wt,qt=(0,A.A)(Yt,$t,Vt,!1,null,null,null),Qt=qt.exports,Jt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tw-grid tw-h-7 tw-w-7 tw-shrink-0 tw-place-content-center tw-rounded-full tw-bg-dark-green tw-text-sm tw-font-medium tw-text-white"},[t._t("default")],2)},Xt=[],Zt={name:"NumberBullet"},Kt=Zt,te=(0,A.A)(Kt,Jt,Xt,!1,null,null,null),ee=te.exports,se=s(8515),ie=function(){var t=this,e=t._self._c;return t.isPhone?e("div",[e(_.A,{scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:i}){return[e(o.A,t._g(t._b({attrs:{icon:""}},"v-btn",i,!1),s),[e(w.A,[t._v("mdi-menu")])],1)]}}],null,!1,2322017526),model:{value:t.menuOpen,callback:function(e){t.menuOpen=e},expression:"menuOpen"}},[e(B.A,{staticClass:"tw-flex tw-flex-col tw-gap-2 tw-p-2 tw-text-left"},[t._t("default")],2)],1)],1):e("div",{staticClass:"tw-flex tw-items-center"},[t._t("default")],2)},ae=[],ne={name:"LandingPageHeader",data(){return{menuOpen:!1}},computed:{isPhone(){return(0,m.tp)(this.$vuetify)}},methods:{toggleMenu(){this.menuOpen=!this.menuOpen}}},oe=ne,re=(0,A.A)(oe,ie,ae,!1,null,null,null),le=re.exports,de=s(7280),ce=function(){var t=this,e=t._self._c;return e(R.A,{attrs:{"max-width":"800px","content-class":"tw-m-0 pa-0"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e("div",{staticClass:"video-container"},[e("iframe",{attrs:{width:"100%",height:"100%",src:"https://www.youtube.com/embed/I7jl850X1P4?si=4xUlkXJebxBaDP1I&autoplay=1",title:"YouTube video player - How Schej Works",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:""}})])])},he=[],ue={name:"HowItWorksDialog",props:{value:Boolean},computed:{dialog:{get(){return this.value},set(t){this.$emit("input",t)}}}},me=ue,pe=(0,A.A)(me,ce,he,!1,null,"31d0e5fc",null),we=pe.exports,ge=s(6062),ve=function(){var t=this,e=t._self._c;return e("footer",{staticClass:"tw-bg-light-gray tw-p-8 tw-text-black"},[e("div",{staticClass:"tw-mx-auto tw-max-w-7xl"},[e("div",{staticClass:"tw-flex tw-flex-col tw-gap-8 md:tw-grid md:tw-grid-cols-4"},[e("div",[e("div",{staticClass:"tw-mb-3 tw-flex tw-items-center"},[e(w.A,{staticClass:"tw-mr-1 tw-text-white"},[t._v("mdi-calendar-blank")]),e("span",{staticClass:"tw-text-2xl tw-font-medium"},[t._v("schej")])],1),t._m(0),e("div",{staticClass:"tw-mb-6 tw-flex tw-items-center tw-space-x-3"},[e("a",{attrs:{href:"https://x.com/schej_it","aria-label":"X",target:"_blank"}},[e("svg",{staticClass:"tw-size-5 tw-fill-current tw-text-black/80 hover:tw-text-black",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[e("path",{attrs:{d:"M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"}})])]),e("a",{attrs:{href:"https://github.com/schej-it/schej.it","aria-label":"GitHub",target:"_blank"}},[e(w.A,{staticClass:"tw-text-black/80 hover:tw-text-black"},[t._v("mdi-github")])],1),e("a",{attrs:{href:"https://www.linkedin.com/company/schejit","aria-label":"LinkedIn",target:"_blank"}},[e(w.A,{staticClass:"tw-text-black/80 hover:tw-text-black"},[t._v("mdi-linkedin")])],1),e("a",{attrs:{href:"https://www.reddit.com/r/schej/",target:"_blank","aria-label":"Reddit"}},[e(w.A,{staticClass:"tw-text-black/80 hover:tw-text-black"},[t._v("mdi-reddit")])],1),e("a",{attrs:{href:"https://discord.gg/v6raNqYxx3",target:"_blank","aria-label":"Discord"}},[e("svg",{staticClass:"tw-size-5 tw-fill-current tw-text-black/80 hover:tw-text-black",attrs:{id:"Discord-Logo",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 126.644 96"}},[e("path",{attrs:{d:"M81.15,0c-1.2376,2.1973-2.3489,4.4704-3.3591,6.794-9.5975-1.4396-19.3718-1.4396-28.9945,0-.985-2.3236-2.1216-4.5967-3.3591-6.794-9.0166,1.5407-17.8059,4.2431-26.1405,8.0568C2.779,32.5304-1.6914,56.3725.5312,79.8863c9.6732,7.1476,20.5083,12.603,32.0505,16.0884,2.6014-3.4854,4.8998-7.1981,6.8698-11.0623-3.738-1.3891-7.3497-3.1318-10.8098-5.1523.9092-.6567,1.7932-1.3386,2.6519-1.9953,20.281,9.547,43.7696,9.547,64.0758,0,.8587.7072,1.7427,1.3891,2.6519,1.9953-3.4601,2.0457-7.0718,3.7632-10.835,5.1776,1.97,3.8642,4.2683,7.5769,6.8698,11.0623,11.5419-3.4854,22.3769-8.9156,32.0509-16.0631,2.626-27.2771-4.496-50.9172-18.817-71.8548C98.9811,4.2684,90.1918,1.5659,81.1752.0505l-.0252-.0505ZM42.2802,65.4144c-6.2383,0-11.4159-5.6575-11.4159-12.6535s4.9755-12.6788,11.3907-12.6788,11.5169,5.708,11.4159,12.6788c-.101,6.9708-5.026,12.6535-11.3907,12.6535ZM84.3576,65.4144c-6.2637,0-11.3907-5.6575-11.3907-12.6535s4.9755-12.6788,11.3907-12.6788,11.4917,5.708,11.3906,12.6788c-.101,6.9708-5.026,12.6535-11.3906,12.6535Z"}})])])]),e("div",{staticClass:"tw-mb-4"},[e(_.A,{attrs:{"nudge-bottom":10,"offset-y":"","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:i}){return[e("span",t._g(t._b({staticClass:"tw-cursor-pointer tw-text-sm tw-text-black/80 hover:tw-text-black",on:{click:t.copyContractAddress}},"span",i,!1),s),[t._v(" View $SCHEJ contract ")])]}}])},[e(B.A,{staticClass:"tw-p-3"},[e("div",{staticClass:"tw-text-sm"},[t._v(" "+t._s(t.contractAddress)+" ")])])],1)],1),e("a",{staticClass:"tw-text-sm",attrs:{href:"/privacy-policy"}},[t._v("Privacy Policy")])]),e("div",{staticClass:"tw-flex tw-flex-col tw-gap-2"},[e("div",{staticClass:"tw-mb-1 tw-font-bold"},[t._v("Links")]),t._m(1),e("div",[e(_.A,{attrs:{"nudge-bottom":10,"offset-y":"","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:i}){return[e("span",t._g(t._b({staticClass:"tw-cursor-pointer tw-text-sm tw-text-black/80 hover:tw-text-black"},"span",i,!1),s),[t._v(" Support ")])]}}])},[e(B.A,{staticClass:"tw-p-3"},[e("div",{staticClass:"tw-text-sm"},[t._v(" Email support at "),e("span",{staticClass:"tw-text-black tw-underline"},[t._v("schej.team@gmail.com")])])])],1)],1),t._m(2)]),t._m(3),t._m(4)])])])},fe=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"tw-mb-6 tw-leading-snug"},[t._v(" Made with 💚 by "),e("a",{staticClass:"tw-text-white tw-underline",attrs:{href:"https://x.com/jonathanzliu/",target:"_blank"}},[t._v("@jonathanzliu")])])},function(){var t=this,e=t._self._c;return e("div",[e("a",{staticClass:"tw-text-sm",attrs:{href:"/blog"}},[t._v("Blog")])])},function(){var t=this,e=t._self._c;return e("div",[e("a",{staticClass:"tw-text-sm",attrs:{href:"https://forms.gle/9AgRy4PQfWfVuBnw8",target:"_blank"}},[t._v("Give Feedback")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tw-flex tw-flex-col tw-gap-2"},[e("div",{staticClass:"tw-mb-1 tw-font-bold"},[t._v("Articles")]),e("div",[e("a",{staticClass:"tw-text-sm",attrs:{href:"/blog/about/"}},[t._v("Welcome to the Schej blog!")])]),e("div",[e("a",{staticClass:"tw-text-sm",attrs:{href:"/blog/doodle/"}},[t._v("Schej vs Doodle")])]),e("div",[e("a",{staticClass:"tw-text-sm",attrs:{href:"/blog/when2meet/"}},[t._v("Schej vs When2meet")])]),e("div",[e("a",{staticClass:"tw-text-sm",attrs:{href:"/blog/gcalandwhen2meet/"}},[t._v("How to use When2meet with Google Calendar")])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"tw-flex tw-flex-col tw-gap-2"},[e("div",{staticClass:"tw-mb-1 tw-font-bold"},[t._v("Reddit posts")]),e("div",[e("a",{staticClass:"tw-text-sm",attrs:{href:"https://www.reddit.com/r/opensource/comments/1dlol7r/i_made_a_better_when2meet/",target:"_blank"}},[t._v("I made a better when2meet")])]),e("div",[e("a",{staticClass:"tw-text-sm",attrs:{href:"https://www.reddit.com/r/opensource/comments/1klu471/i_made_a_doodle_alternative/",target:"_blank"}},[t._v("I made a Doodle alternative")])])])}],ye={name:"Footer",data(){return{contractAddress:"2uHvhSasjzHm4PPAWaVpuU7yKtd4yUGYx6WK2oxutQnm"}},computed:{contractAddressTruncated(){return this.contractAddress.slice(0,6)+"..."+this.contractAddress.slice(-4)}},methods:{...(0,u.i0)(["showInfo"]),copyContractAddress(){navigator.clipboard.writeText(this.contractAddress).then((()=>{this.showInfo("Contract address copied to clipboard!")})).catch((t=>{console.error("Failed to copy contract address: ",t)}))}}},be=ye,Ae=(0,A.A)(be,ve,fe,!1,null,"11d4aee2",null),Ce=Ae.exports,Te=function(){var t=this,e=t._self._c;return e(_.A,{attrs:{"nudge-bottom":10,"offset-y":"","close-on-content-click":!1},on:{input:t.handleMenuStateChange},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:i}){return[e("span",t._g(t._b({staticClass:"tw-cursor-pointer",class:{"tw-underline":t.isMenuOpen,"hover:tw-underline":!t.isMenuOpen},attrs:{"ß":""}},"span",i,!1),s),[t._v(" 轻松找到适合所有人的时间 ")])]}}])},[e(B.A,{staticClass:"tw-p-3 tw-text-center"},[e("div",{staticClass:"tw-text-left tw-text-sm"},[t._v(' Pronounced like "schedule" but shorter - "skej" ')]),e("div",{staticClass:"pronunciation-image-container tw-mt-3 tw-flex tw-items-center tw-justify-center"},[e("img",{staticClass:"pronunciation-animation-image",attrs:{src:t.currentImageSrc,alt:"Schej pronunciation animation"}})]),e("audio",{ref:"pronunciationAudio",staticClass:"tw-hidden",attrs:{controls:"",autoplay:""}},[e("source",{attrs:{src:s(1431),type:"audio/mpeg"}}),t._v(" Your browser does not support the audio element. ")])])],1)},xe=[],ke={name:"PronunciationMenu",data(){return{isMenuOpen:!1,currentImageIndex:0,images:[s(4675),s(5190),s(2945),s(8612),s(6399)],animationInterval:null,animationSpeedMs:200}},computed:{currentImageSrc(){return this.images[this.currentImageIndex]}},methods:{handleMenuStateChange(t){this.isMenuOpen=t,t?this.startAnimationAndAudio():this.stopAnimationAndAudio()},startAnimationAndAudio(){this.currentImageIndex=1,this.animationInterval&&clearInterval(this.animationInterval),this.animationInterval=setInterval((()=>{this.currentImageIndex<this.images.length-1?this.currentImageIndex++:(clearInterval(this.animationInterval),this.animationInterval=null,setTimeout((()=>{this.currentImageIndex=0}),this.animationSpeedMs))}),this.animationSpeedMs),this.$refs.pronunciationAudio&&(this.$refs.pronunciationAudio.currentTime=0,this.$refs.pronunciationAudio.play().catch((t=>{console.warn("Audio play prevented: ",t)})))},stopAnimationAndAudio(){this.animationInterval&&(clearInterval(this.animationInterval),this.animationInterval=null),this.currentImageIndex=0,this.$refs.pronunciationAudio&&(this.$refs.pronunciationAudio.pause(),this.$refs.pronunciationAudio.currentTime=0)}},beforeDestroy(){this.animationInterval&&clearInterval(this.animationInterval),this.$refs.pronunciationAudio&&(this.$refs.pronunciationAudio.pause(),this.$refs.pronunciationAudio.currentTime=0)}},Ee=ke,De=(0,A.A)(Ee,Te,xe,!1,null,"1e6adeda",null),Se=De.exports,_e={name:"Landing",metaInfo:{title:"Schej - Find a time to meet"},components:{LandingPageCalendar:jt,FAQ:Gt,Header:Qt,NumberBullet:ee,NewEvent:se.A,NewDialog:lt.A,LandingPageHeader:le,GithubButton:de.A,Logo:nt,SignInDialog:wt,HowItWorksDialog:we,vueVimeoPlayer:ge.u,Footer:Ce,PronunciationMenu:Se,AuthUserMenu:V},data:()=>({signInDialog:!1,newDialog:!1,githubSnackbar:!0,howItWorksSteps:["Create a Schej event","Share the Schej link with your group for them to fill out","See where everybody's availability overlaps!"],faqs:[{question:"How is Schej different from Lettucemeet or When2meet?",points:["Much better UI (web and mobile)","Seamless and working calendar integration","A slew of other features that we don't have space to list here"]},{question:"What calendars does Schej integrate with?",answer:"Schej currently supports Google Calendar, Outlook, and Apple Calendar. We are working on adding more calendar types soon!"},{question:"Is calendar access required in order to use Schej?",answer:"Nope! You can manually input your availability, but we highly recommend allowing calendar access in order to view your calendar events while doing so."},{question:"Will other people be able to see my calendar events?",answer:"Nope! All other users will be able to see is the availability that you enter for an event."},{question:"How many people can respond to an event?",answer:"Unlimited! We've tested events with over 500+ responses and it works great."},{question:"How do I edit my availability?",answer:'If you are signed in, simply click the "Edit availability" button. If you entered your availability as a guest, hover over your name and click the pencil icon next to it.'},{question:"I want it so that only I can see people's responses.",answer:'Just check "Only show responses to event creator" under Advanced Options when creating your event! Other respondees will not be able to see each other\'s names or availability.',authRequired:!0},{question:"Can I receive emails when someone fills out my event?",answer:'Absolutely! Check "Email me each time someone joins my event" when creating an event. <br><br>To receive email notifications after a specific number (X) of responses are added, check "Email me after X responses" in Advanced Options.',authRequired:!0},{question:"How do I send reminders to people to fill out an event?",answer:'Open the "Email Reminders" section when creating an event and input everybody\'s email address. Reminder emails will be sent the day of event creation, one day after, and three days after. <br><br>You will also receive an email once everybody has filled out the Schej.',authRequired:!0}],redditComments:[{text:"Genuinely the <span class='rdt-h'>best lightweight version of this kind of website</span> that I've come across so far, exceptional.",author:"u/voipClock",link:"https://www.reddit.com/r/opensource/comments/1klu471/comment/mt4l2ab",picture:"https://www.redditstatic.com/avatars/defaults/v2/avatar_default_1.png"},{text:"It's almost <span class='rdt-h'>comically easy</span> to schedule meetings with Schej.",author:"u/stuffingmybrain",link:"https://www.reddit.com/r/schej/comments/1drs26z/comment/lb8rvty",picture:"https://styles.redditmedia.com/t5_qqojf/styles/profileIcon_snooa54a8eae-bc7f-406f-9778-b3b9dfb818e5-headshot.png?width=64&height=64&frame=1&auto=webp&crop=&s=a0a91575ff7cfc3b6698cac69da6c012c7deb8d6"},{text:"Schej is everything I've ever wanted and more. On top of that, <span class='rdt-h'>community support is the best I've seen</span> of any app or software, ever.",author:"u/DMODD",link:"https://www.reddit.com/r/schej/comments/1drs26z/comment/lb8udud",picture:"https://www.redditstatic.com/avatars/defaults/v2/avatar_default_6.png"},{text:"With Schej, <span class='rdt-h'>I'm very quickly able to figure out the optimal time</span> to schedule online extra help sessions before an exam.",author:"u/crackwurst",link:"https://www.reddit.com/r/schej/comments/1drs26z/comment/lb9dmbe",picture:"https://www.redditstatic.com/avatars/defaults/v2/avatar_default_3.png"},{text:"Exactly what I was looking for! Clear and clean interface, also on mobile (<span class='rdt-h'>Doodle is a disaster</span>).",author:"u/Willem1976",link:"https://www.reddit.com/r/opensource/comments/1dlol7r/comment/lkn7sle",picture:"https://styles.redditmedia.com/t5_c0qtc/styles/profileIcon_snooa9d429ce-e3d9-458a-be9e-1b6dd157a209-headshot.png?width=64&height=64&frame=1&auto=webp&crop=&s=7eba44ea268928b969bcf73ee8667357412132ca"}],rive:null,showSchejy:!1,showHowItWorksDialog:!1,isVideoPlaying:!1}),computed:{...(0,u.aH)(["authUser"]),isPhone(){return(0,m.tp)(this.$vuetify)}},methods:{loadRiveAnimation(){},_signIn(t){t===p.MD.GOOGLE?(0,m.n3)({state:null,selectAccount:!0}):t===p.MD.OUTLOOK&&(0,m.WN)({state:null,selectAccount:!0})},signIn(){this.signInDialog=!0},openHowItWorksDialog(){this.showHowItWorksDialog=!0,this.$posthog?.capture("how_it_works_clicked")},onPlay(){setTimeout((()=>{this.isVideoPlaying=!0}),1e3)},openDashboard(){this.$router.push({name:"home"})}},beforeDestroy(){this.rive?.cleanup()},watch:{["$vuetify.breakpoint.name"]:{immediate:!0,handler(){this.$vuetify.breakpoint.mdAndUp&&setTimeout((()=>{this.loadRiveAnimation()}),0)}}}},Oe=_e,Ie=(0,A.A)(Oe,_t,Ot,!1,null,"06805071",null),Ue=Ie.exports;i.Ay.use(Dt.Ay);const Be=[{path:"/",name:"landing",component:Ue},{path:"/home",name:"home",component:()=>s.e(866).then(s.bind(s,6866)),props:!0},{path:"/settings",name:"settings",component:()=>s.e(62).then(s.bind(s,3681))},{path:"/e/:eventId",name:"event",component:()=>Promise.all([s.e(521),s.e(600)]).then(s.bind(s,3521)),props:!0},{path:"/e/:eventId/responded",name:"responded",component:()=>s.e(552).then(s.bind(s,9552)),props:!0},{path:"/g/:groupId",name:"group",component:()=>Promise.all([s.e(521),s.e(269)]).then(s.bind(s,1126)),props:!0},{path:"/s/:signUpId",name:"signUp",component:()=>Promise.all([s.e(521),s.e(426)]).then(s.bind(s,7303)),props:!0},{path:"/auth",name:"auth",component:()=>s.e(35).then(s.bind(s,1035))},{path:"/privacy-policy",name:"privacy-policy",component:()=>s.e(999).then(s.bind(s,6999))},{path:"/stripe-redirect",name:"stripe-redirect",component:()=>s.e(174).then(s.bind(s,3174))},{path:"/test",name:"test",component:()=>s.e(822).then(s.bind(s,4822))},{path:"*",name:"404",component:()=>s.e(66).then(s.bind(s,7066))}],Pe=new Dt.Ay({mode:"history",base:"/",routes:Be});Pe.beforeEach((async(t,e,s)=>{const i=["home","settings"],a=[];try{await(0,m.Jt)("/auth/status"),a.includes(t.name)?s({name:"home"}):s()}catch(n){i.includes(t.name)?s({name:"landing"}):s()}}));var Re=Pe,Ne=s(268),je=s(3971),Me=s(1646),Le=s.n(Me);i.Ay.use(je.A);var He=new je.A({theme:{themes:{light:{primary:Le().theme.colors.green,error:Le().theme.colors.red}}},breakpoint:{thresholds:{xs:640,sm:768,md:1024,lg:1280},scrollBarWidth:0}}),ze=s(5476),Fe={install(t,e){t.prototype.$posthog=ze.Ay.init({NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_POSTHOG_API_KEY,{api_host:"https://e.schej.it",capture_pageview:!1,autocapture:!1})}},Ge=s(8376),$e=s(7845);i.Ay.use(Fe),i.Ay.use(Ge.Ay,{id:"GTM-M677X6V",vueRouter:Re}),i.Ay.use($e.A),i.Ay.use(a.A),i.Ay.config.productionTip=!1,new i.Ay({router:Re,store:Ne.A,vuetify:He,render:t=>t(kt)}).$mount("#app")},268:function(t,e,s){"use strict";s.d(e,{A:function(){return m}});s(4114);var i=s(5471),a=s(5353),n=s(6638),o=s(5985),r=s(7852);const l="/user/folders",d=(t,e)=>(0,r.bE)(l,{name:t,color:e}),c=(t,e,s)=>(0,r.F6)(`${l}/${t}`,{name:e,color:s}),h=t=>(0,r.jd)(`${l}/${t}`),u=(t,e)=>(0,r.bE)(`/user/events/${t}/set-folder`,{folderId:e});i.Ay.use(a.Ay);var m=new a.Ay.Store({state:{error:"",info:"",authUser:null,events:[],folders:[],featureFlagsLoaded:!1,groupsEnabled:!0,signUpFormEnabled:!1,daysOnlyEnabled:!0,overlayAvailabilitiesEnabled:!0,enablePaywall:!1,pricingPageConversion:"control",upgradeDialogVisible:!1,upgradeDialogType:null,upgradeDialogData:null,newDialogOptions:{show:!1,contactsPayload:{},openNewGroup:!1,eventOnly:!1,folderId:null}},getters:{isPremiumUser(t){return(0,o.V_)(t.authUser)}},mutations:{setError(t,e){t.error=e},setInfo(t,e){t.info=e},setAuthUser(t,e){t.authUser=e},setEvents(t,e){t.events=e},setFolders(t,e){t.folders=e},setFeatureFlagsLoaded(t,e){t.featureFlagsLoaded=e},setGroupsEnabled(t,e){t.groupsEnabled=e},setSignUpFormEnabled(t,e){t.signUpFormEnabled=e},setDaysOnlyEnabled(t,e){t.daysOnlyEnabled=e},setOverlayAvailabilitiesEnabled(t,e){t.overlayAvailabilitiesEnabled=e},setPricingPageConversion(t,e){t.pricingPageConversion=e},setEnablePaywall(t,e){t.enablePaywall=e},setUpgradeDialogVisible(t,e){t.upgradeDialogVisible=e},setUpgradeDialogType(t,e){t.upgradeDialogType=e},setUpgradeDialogData(t,e){t.upgradeDialogData=e},addFolder(t,e){t.folders.push(e)},updateFolder(t,{folderId:e,name:s,color:i}){const a=t.folders.find((t=>t._id===e));a&&(a.name=s,a.color=i)},removeFolder(t,e){t.folders=t.folders.filter((t=>t._id!==e))},removeEventFromFolder(t,e){t.folders.forEach((t=>{t.eventIds=t.eventIds.filter((t=>t!==e))}))},addEventToFolder(t,{eventId:e,folderId:s}){const i=t.folders.find((t=>t._id===s));i&&i.eventIds.push(e)},setNewDialogOptions(t,{show:e=!1,contactsPayload:s={},openNewGroup:i=!1,eventOnly:a=!0,folderId:n=null}){t.newDialogOptions={show:e,contactsPayload:s,openNewGroup:i,eventOnly:a,folderId:n}}},actions:{showError({commit:t},e){t("setError",""),setTimeout((()=>t("setError",e)),0)},showInfo({commit:t},e){t("setInfo",""),setTimeout((()=>t("setInfo",e)),0)},async refreshAuthUser({commit:t}){const e=await(0,o.Jt)("/user/profile");t("setAuthUser",e)},createNew({state:t,getters:e,commit:s,dispatch:i},{eventOnly:a=!1,folderId:o=null}){t.enablePaywall&&!e.isPremiumUser&&t.authUser?.numEventsCreated>=n.cv?i("showUpgradeDialog",{type:n.Sk.CREATE_EVENT}):s("setNewDialogOptions",{show:!0,contactsPayload:{},openNewGroup:!1,eventOnly:a,folderId:o})},getEvents({commit:t,dispatch:e}){return this.state.authUser?Promise.allSettled([(0,o.Jt)("/user/folders"),(0,o.Jt)("/user/events")]).then((([s,i])=>{"fulfilled"===s.status&&"fulfilled"===i.status?(t("setFolders",s.value),t("setEvents",i.value)):(e("showError","There was a problem fetching events!"),console.error(s.reason,i.reason))})).catch((t=>{e("showError","There was a problem fetching events!"),console.error(t)})):null},async createFolder({commit:t,dispatch:e},{name:s,color:i}){try{const e=await d(s,i);t("addFolder",{_id:e.id,name:s,color:i,eventIds:[]})}catch(a){e("showError","There was a problem creating the folder!"),console.error(a)}},async updateFolder({commit:t,dispatch:e},{folderId:s,name:i,color:a}){try{await c(s,i,a),t("updateFolder",{folderId:s,name:i,color:a})}catch(n){e("showError","There was a problem updating the folder!"),console.error(n)}},async deleteFolder({commit:t,dispatch:e},s){try{await h(s),t("removeFolder",s)}catch(i){e("showError","There was a problem deleting the folder!"),console.error(i)}},async setEventFolder({commit:t,dispatch:e},{eventId:s,folderId:i}){try{t("removeEventFromFolder",s),t("addEventToFolder",{eventId:s,folderId:i}),await u(s,i)}catch(a){e("showError","There was a problem moving the event!"),console.error(a)}},showUpgradeDialog({commit:t},{type:e,data:s=null}){t("setUpgradeDialogVisible",!0),t("setUpgradeDialogType",e),t("setUpgradeDialogData",s)},hideUpgradeDialog({commit:t}){t("setUpgradeDialogVisible",!1),t("setUpgradeDialogType",null),t("setUpgradeDialogData",null)}},modules:{}})},7852:function(t,e,s){"use strict";s.d(e,{F6:function(){return o},Jt:function(){return a},bE:function(){return n},jd:function(){return l},yJ:function(){return r}});var i=s(6638);const a=t=>d("GET",t),n=(t,e={})=>d("POST",t,e),o=(t,e={})=>d("PATCH",t,e),r=(t,e={})=>d("PUT",t,e),l=(t,e={})=>d("DELETE",t,e),d=(t,e,s={})=>{const a={method:t,credentials:"include"};return"GET"!==t&&(a.headers={"Content-Type":"application/json"},a.body=JSON.stringify(s)),fetch(i.Np+e,a).then((async t=>{const e=await t.text();let s;if(0===e.length)s=e;else try{s=JSON.parse(e)}catch(a){throw{error:i.sO.JsonError}}if(!t.ok)throw s;return s})).then((t=>t))}},5985:function(t,e,s){"use strict";s.d(e,{jd:function(){return a.jd},V3:function(){return W},qE:function(){return R},ms:function(){return y},OV:function(){return w},XQ:function(){return f},l4:function(){return q},qW:function(){return H},Jt:function(){return a.Jt},HW:function(){return _},AU:function(){return k},cN:function(){return m},$R:function(){return p},Go:function(){return d},ck:function(){return h},Ax:function(){return c},mb:function(){return Y},Lv:function(){return r},JK:function(){return C},g$:function(){return Z},R3:function(){return o},vU:function(){return E},Sk:function(){return x},Bt:function(){return P},Lc:function(){return b},MT:function(){return I},YG:function(){return F},un:function(){return j},tp:function(){return N},V_:function(){return V},JC:function(){return z},G1:function(){return $},F6:function(){return a.F6},bE:function(){return a.bE},QC:function(){return M},NS:function(){return S},yJ:function(){return a.yJ},YB:function(){return G},n3:function(){return J},WN:function(){return X},nL:function(){return D},f7:function(){return v},XW:function(){return g},aV:function(){return T},p2:function(){return A},DT:function(){return L}});s(4114),s(7467),s(4732),s(9577),s(6280),s(7913),s(7801),s(4979);var i=s(6638),a=s(7852);const n=(t,e=!1)=>(t=new Date(t),e?`${t.getUTCMonth()+1}/${t.getUTCDate()}`:`${t.getMonth()+1}/${t.getDate()}`),o=(t,e)=>{const s=t.toLocaleString("en-US",{weekday:"short"}),i=t.toLocaleString("en-US",{month:"short"}),a=t.toLocaleString("en-US",{day:"numeric"}),n=t.toLocaleString("en-US",{hour:"numeric",minute:"numeric"}),o=e.toLocaleString("en-US",{hour:"numeric",minute:"numeric",timeZoneName:"short"});return`${s}, ${i} ${a}, ${n} - ${o}`},r=(t,e=!1)=>{if(t=new Date(t),e)return t.toISOString().substring(0,10);const s=t.getFullYear(),i=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0");return`${s}-${i}-${a}`},l=(t,e,s=!1)=>(t=new Date(t),e=new Date(e),(s&&0==e.getUTCHours()||!s&&0==e.getHours())&&(e=m(e,-1)),n(t,s)+" - "+n(e,s)),d=t=>{let e=localStorage["timezone"];if(e&&(e=JSON.parse(e)),t.type===i.mu.DOW||t.type===i.mu.GROUP){let e="";const s=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];for(let i of t.dates){i=c(i);const t=s[i.getUTCDay()];e+=t+", "}return e=e.substring(0,e.length-2),e}if(t.type===i.mu.SPECIFIC_DATES){const e=c(new Date(t.dates[0])),s=c(new Date(t.dates[t.dates.length-1]));return l(e,s,!0)}return""},c=t=>{t=new Date(t);let e=localStorage["timezone"];return e&&(e=JSON.parse(e)),e?t.setTime(t.getTime()+60*e.offset*1e3):t.setTime(t.getTime()-60*(new Date).getTimezoneOffset()*1e3),t},h=(t,e,s=!1)=>{t=new Date(t);const i=parseInt(e),a=60*(e-i);return s?new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),i,a)):new Date(t.getFullYear(),t.getMonth(),t.getDate(),i,a)},u=t=>{const e=Math.floor(t),s=Math.floor(60*(t-e));return{hours:e,minutes:s}},m=(t,e)=>(t=new Date(t),new Date(t.getTime()+24*e*60*60*1e3)),p=(t,e)=>{const{hours:s,minutes:i}=u(e),a=new Date(t);return a.setHours(a.getHours()+s),a.setMinutes(a.getMinutes()+i),a},w=(t,e,s,i=!1,a=!1)=>{t=[...t].sort(((t,e)=>{let s=new Date(t).getUTCDay(),i=new Date(e).getUTCDay();return a&&(0===s&&(s=7),0===i&&(i=7)),s-i}));const n=new Date(t[0]);n.setUTCDate(n.getUTCDate()-n.getUTCDay());const o=new Date;o.setUTCDate(o.getUTCDate()-o.getUTCDay()),o.setUTCDate(o.getUTCDate()+7*s),o.setUTCHours(n.getUTCHours()),o.setUTCMinutes(n.getUTCMinutes()),o.setUTCSeconds(n.getUTCSeconds()),o.setUTCMilliseconds(n.getUTCMilliseconds());let r=Math.round((o-n)/864e5);return i&&(r*=-1),e=new Date(e),e.setUTCDate(e.getUTCDate()-r),e},g=(t,e=!0)=>{const s=Math.floor(t),i=t-s,a=i>0?`:${String(Math.floor(60*i)).padStart(2,"0")}`:"";return e?t>=0&&t<1?`12${a} am`:t<12?`${s}${a} am`:t>=12&&t<13?`12${a} pm`:`${s-12}${a} pm`:`${s}:${a.length>0?a:"00"}`},v=t=>{const e=Math.floor(t),s=t-e,i=String(e).padStart(2,"0"),a=String(Math.floor(60*s)).padStart(2,"0");return`${i}:${a}:00`},f=(t,e=!1)=>(t=new Date(t),e?t.getUTCHours()+t.getUTCMinutes()/60:t.getHours()+t.getMinutes()/60),y=(t,e)=>(t=new Date(t),e=new Date(e),t.getTime()-e.getTime()),b=(t,e,s)=>(t=new Date(t).getTime(),e=new Date(e).getTime(),s=new Date(s).getTime(),t>=e&&t<=s),A=(t,e=(new Date).getTimezoneOffset())=>{let s=t-e/60;return s%=24,s<0&&(s+=24),s},C=()=>void 0!=navigator.languages?navigator.languages[0]:navigator.language,T=()=>Intl.DateTimeFormat(C(),{hour:"numeric"}).resolvedOptions().hour12,x=()=>{const t=localStorage["timeType"]?localStorage["timeType"]===i.vR.HOUR12:T(),e=[];if(t){e.push({text:"12 am",time:0,value:0});for(let t=1;t<12;++t)e.push({text:`${t} am`,time:t,value:t});for(let t=0;t<12;++t)e.push({text:`${0==t?12:t} pm`,time:t+12,value:t+12});return e.push({text:"12 am",time:0,value:24}),e}for(let s=0;s<24;++s)e.push({text:`${s}:00`,time:s,value:s});return e.push({text:"0:00",time:0,value:24}),e},k=async(t,{weekOffset:e=0,eventId:s=""})=>{let n,o,r;if(t.type===i.mu.SPECIFIC_DATES)n=new Date(t.dates[0]).toISOString(),o=m(new Date(t.dates[t.dates.length-1]),2).toISOString();else if(t.type===i.mu.DOW||t.type===i.mu.GROUP){const s=w(t.dates,t.dates[0],e,!0,t.startOnMonday),i=w(t.dates,t.dates[t.dates.length-1],e,!0,t.startOnMonday);n=m(s,-2).toISOString(),o=m(i,2).toISOString()}return r=0===s.length?await(0,a.Jt)(`/user/calendars?timeMin=${n}&timeMax=${o}`):await(0,a.Jt)(`/events/${s}/calendar-availabilities?timeMin=${n}&timeMax=${o}`),r},E=(t,e,s)=>{const i=new Date(t.getTime()+60*e*60*1e3),a=new Date(i.getTime()+60*s*60*1e3);return{startDate:i,endDate:a}},D=(t,e,s=0,i=null)=>S(t.dates,t.duration,e,t.type,s,t.startOnMonday,i),S=(t,e,s,a=i.mu.SPECIFIC_DATES,n=0,o=!1,r=0)=>{s=JSON.parse(JSON.stringify(s)),s=s.map((e=>(a===i.mu.DOW||a===i.mu.GROUP?(e.startDate=w(t,e.startDate,n,!1,o),e.endDate=w(t,e.endDate,n,!1,o)):(e.startDate=new Date(e.startDate),e.endDate=new Date(e.endDate)),e))),s.sort(((t,e)=>y(t.startDate,e.startDate)));const l=new Set,d=[];for(let i=0;i<t.length;++i){d[i]=[];const e=new Date(t[i]);l.add(e.getTime())}let c=0;for(const i of t){if(0==s.length)break;const t=new Date(i),a=new Date(t);a.setHours(t.getHours()+e);const n=new Date(t.getTime()-60*r*1e3),o=new Date(a.getTime()-60*r*1e3);while(s.length>0&&a>s[0].startDate){let[e]=s.splice(0,1);const i=P(e.startDate,t,a),o=P(e.endDate,t,a),l=P(t,e.startDate,e.endDate)&&P(a,e.startDate,e.endDate);if(i||o||l){const i=P(t,e.startDate,e.endDate),o=P(a,e.startDate,e.endDate);if(i&&(e={...e,startDate:t}),o){const t={...e,startDate:a};s.splice(0,0,t),s.sort(((t,e)=>y(t.startDate,e.startDate))),e={...e,endDate:a}}const l=(e.startDate.getTime()-t.getTime())/36e5,h=(e.endDate.getTime()-e.startDate.getTime())/36e5;if(0==h)continue;const u=new Date(e.startDate.getTime()-60*r*1e3),m=new Date(e.endDate.getTime()-60*r*1e3);if(u.getUTCDate()!==m.getUTCDate()){let t=new Date(u);t.setUTCDate(t.getUTCDate()+1),t.setUTCHours(0,0,0,0),t.setTime(t.getTime()+60*r*1e3);const s={...e,id:e.id+"-1",endDate:t,hoursOffset:l,hoursLength:h},i=(s.endDate.getTime()-s.startDate.getTime())/36e5,a={...e,id:e.id+"-2",startDate:t,hoursOffset:l+i,hoursLength:h-i},n=(a.endDate.getTime()-a.startDate.getTime())/36e5;d[c].push({...s,hoursOffset:l,hoursLength:i}),c+1>=d.length&&d.push([]),d[c+1].push({...a,hoursOffset:l+i,hoursLength:n});continue}if(n.getUTCDate()!==u.getUTCDate()){c+1>=d.length&&d.push([]),d[c+1].push({...e,hoursOffset:l,hoursLength:h});continue}d[c].push({...e,hoursOffset:l,hoursLength:h})}}if(n.getUTCDate()!==o.getUTCDate()){const e=new Date(t);e.setUTCDate(e.getUTCDate()+1),l.has(e.getTime())||(d.push([]),c+=1)}c++}return d},_=(t,e)=>`${t}_${e}`,O=t=>{const e=new Date(t.getFullYear(),0,1),s=new Date(t.getFullYear(),6,1);return Math.max(e.getTimezoneOffset(),s.getTimezoneOffset())},I=t=>t.getTimezoneOffset()<O(t);var U=s(2520),B=s.n(U);const P=(t,e,s,i=!0)=>i?t>=e&&t<=s:t>e&&t<s,R=(t,e,s)=>t<e?e:t>s?s:t,N=t=>"xs"===t.breakpoint.name,j=()=>/iPad|iPhone|iPod/.test(navigator.userAgent),M=t=>{let e=t.dates[0];t.type===i.mu.DOW&&(e=w(t.dates,e,0,!0)),t.startTime=f(new Date(e),!0),t.endTime=(t.startTime+t.duration)%24},L=t=>String(t).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),H=t=>{const e={guest:!1,useCalendarAvailability:!0,enabledCalendars:{}};for(const s in t)if(t[s].enabled){e.enabledCalendars[s]=[];for(const i in t[s].subCalendars)t[s].subCalendars[i].enabled&&e.enabledCalendars[s].push(i)}return e},z=()=>"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,F=(t,{topOffset:e=0,leftOffset:s=0,rightOffset:i=0,bottomOffset:a=0})=>{var n=t.getBoundingClientRect();return n.top>=e&&n.left>=s&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)+a&&n.right<=(window.innerWidth||document.documentElement.clientWidth)+i},G=t=>{const e=B()(t),s=255-e.alpha()*(255-e.red()),i=255-e.alpha()*(255-e.green()),a=255-e.alpha()*(255-e.blue()),n=B().rgb(s,i,a);return n.hex()},$=t=>{var e,s,i,a;return t.match(/^rgb/)?(t=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/),e=t[1],s=t[2],i=t[3]):(t=+("0x"+t.slice(1).replace(t.length<5&&/./g,"$&$&")),e=t>>16,s=t>>8&255,i=255&t),a=Math.sqrt(e*e*.299+s*s*.587+i*i*.114),a>127.5?"light":"dark"},V=t=>!!t&&(!!t.stripeCustomerId&&(null===t.isPremium||t.isPremium)),W=t=>{let e=Y();e.push(t),localStorage.setItem("eventsCreated",JSON.stringify(e))},Y=()=>{let t=JSON.parse(localStorage.getItem("eventsCreated"));return Array.isArray(t)||(t=[]),t},q=()=>{localStorage.removeItem("eventsCreated")};var Q=s(268);const J=({state:t={},selectAccount:e=!1,requestCalendarPermission:s=!1,requestContactsPermission:a=!1,loginHint:n=""})=>{const o="523323684219-jfakov2bgsleeb6den4ktpohq4lcnae2.apps.googleusercontent.com",r=`${window.location.origin}/auth`;let l="openid email profile ";s&&(l+="https://www.googleapis.com/auth/calendar.calendarlist.readonly https://www.googleapis.com/auth/calendar.events.readonly "),a&&(l+="https://www.googleapis.com/auth/contacts.readonly https://www.googleapis.com/auth/directory.readonly "),l=encodeURIComponent(l);let d="";t||(t={}),t.calendarType=i.MD.GOOGLE,t=encodeURIComponent(JSON.stringify(t)),d=`&state=${t}`;let c="";e?c="&prompt=select_account+consent":(c="&prompt=consent",n.length>0?c+=`&login_hint=${n}`:Q.A.state.authUser&&(c+=`&login_hint=${Q.A.state.authUser.email}`));const h=`https://accounts.google.com/o/oauth2/v2/auth?client_id=${o}&redirect_uri=${r}&response_type=code&scope=${l}&access_type=offline${c}${d}&include_granted_scopes=true`;window.location.href=h},X=({state:t={},requestCalendarPermission:e=!1})=>{const s="d27c1c46-4be7-45c4-ad98-626b2fa3a527",a=encodeURIComponent(`${window.location.origin}/auth`);let n="offline_access User.Read";e&&(n+=" Calendars.Read"),n=encodeURIComponent(n);let o="";t||(t={}),t.calendarType=i.MD.OUTLOOK,t.scope=n,t=encodeURIComponent(JSON.stringify(t)),o=`&state=${t}`;const r=`https://login.microsoftonline.com/common/oauth2/v2.0/authorize?client_id=${s}&response_type=code&redirect_uri=${a}&response_mode=query&scope=${n}${o}`;window.location.href=r},Z=()=>fetch("https://geolocation-db.com/json/",{method:"GET"}).then((t=>t.json()))},1646:function(t,e,s){const i=s(4498);t.exports={content:["./index.html","./public/**/*.html","./src/**/*.{vue,js,ts,jsx,tsx}"],important:!0,theme:{extend:{fontSize:{xs:["0.813rem","1rem"]}},colors:{transparent:"transparent",current:"currentColor","pale-green":"#CDEBDC","light-green":"#29BC68","ligher-green":"#EBF7EF",green:"#00994C","dark-green":"#1C7D45","darkest-green":"#007F36","light-blue":"#53A2FF",blue:"#006BE8",orange:"#E5A800",yellow:"#FFE8B8","dark-yellow":"#997700",white:"#FFFFFF","off-white":"#F2F2F2",black:"#000000",gray:"#BDBDBD","dark-gray":"#6B6B6B","very-dark-gray":"#4F4F4F","light-gray":"#f3f4f6","light-gray-stroke":"#dfdfdf","avail-green":i.emerald,red:"#DB1616"},screens:{sm:"640px",md:"768px",mdlg:"896px",lg:"1024px",xl:"1280px","2xl":"1536px"}},plugins:[],prefix:"tw-",safelist:[]}},5358:function(t,e,s){var i={"./af":5177,"./af.js":5177,"./ar":1509,"./ar-dz":1488,"./ar-dz.js":1488,"./ar-kw":8676,"./ar-kw.js":8676,"./ar-ly":2353,"./ar-ly.js":2353,"./ar-ma":4496,"./ar-ma.js":4496,"./ar-ps":6947,"./ar-ps.js":6947,"./ar-sa":2682,"./ar-sa.js":2682,"./ar-tn":9756,"./ar-tn.js":9756,"./ar.js":1509,"./az":5533,"./az.js":5533,"./be":8959,"./be.js":8959,"./bg":7777,"./bg.js":7777,"./bm":4903,"./bm.js":4903,"./bn":1290,"./bn-bd":7357,"./bn-bd.js":7357,"./bn.js":1290,"./bo":1545,"./bo.js":1545,"./br":1470,"./br.js":1470,"./bs":4429,"./bs.js":4429,"./ca":7306,"./ca.js":7306,"./cs":6464,"./cs.js":6464,"./cv":3635,"./cv.js":3635,"./cy":4226,"./cy.js":4226,"./da":3601,"./da.js":3601,"./de":7853,"./de-at":6111,"./de-at.js":6111,"./de-ch":4697,"./de-ch.js":4697,"./de.js":7853,"./dv":708,"./dv.js":708,"./el":4691,"./el.js":4691,"./en-au":3872,"./en-au.js":3872,"./en-ca":8298,"./en-ca.js":8298,"./en-gb":6195,"./en-gb.js":6195,"./en-ie":6584,"./en-ie.js":6584,"./en-il":5543,"./en-il.js":5543,"./en-in":9033,"./en-in.js":9033,"./en-nz":9402,"./en-nz.js":9402,"./en-sg":3004,"./en-sg.js":3004,"./eo":2934,"./eo.js":2934,"./es":7650,"./es-do":838,"./es-do.js":838,"./es-mx":7730,"./es-mx.js":7730,"./es-us":6575,"./es-us.js":6575,"./es.js":7650,"./et":3035,"./et.js":3035,"./eu":3508,"./eu.js":3508,"./fa":119,"./fa.js":119,"./fi":527,"./fi.js":527,"./fil":5995,"./fil.js":5995,"./fo":2477,"./fo.js":2477,"./fr":5498,"./fr-ca":6435,"./fr-ca.js":6435,"./fr-ch":7892,"./fr-ch.js":7892,"./fr.js":5498,"./fy":7071,"./fy.js":7071,"./ga":1734,"./ga.js":1734,"./gd":217,"./gd.js":217,"./gl":7329,"./gl.js":7329,"./gom-deva":2124,"./gom-deva.js":2124,"./gom-latn":3383,"./gom-latn.js":3383,"./gu":5050,"./gu.js":5050,"./he":1713,"./he.js":1713,"./hi":3861,"./hi.js":3861,"./hr":6308,"./hr.js":6308,"./hu":609,"./hu.js":609,"./hy-am":7160,"./hy-am.js":7160,"./id":4063,"./id.js":4063,"./is":9374,"./is.js":9374,"./it":8383,"./it-ch":1827,"./it-ch.js":1827,"./it.js":8383,"./ja":3827,"./ja.js":3827,"./jv":9722,"./jv.js":9722,"./ka":1794,"./ka.js":1794,"./kk":7088,"./kk.js":7088,"./km":6870,"./km.js":6870,"./kn":4451,"./kn.js":4451,"./ko":3164,"./ko.js":3164,"./ku":8174,"./ku-kmr":6181,"./ku-kmr.js":6181,"./ku.js":8174,"./ky":8474,"./ky.js":8474,"./lb":9680,"./lb.js":9680,"./lo":5867,"./lo.js":5867,"./lt":5766,"./lt.js":5766,"./lv":9532,"./lv.js":9532,"./me":8076,"./me.js":8076,"./mi":1848,"./mi.js":1848,"./mk":306,"./mk.js":306,"./ml":3739,"./ml.js":3739,"./mn":9053,"./mn.js":9053,"./mr":6169,"./mr.js":6169,"./ms":3386,"./ms-my":2297,"./ms-my.js":2297,"./ms.js":3386,"./mt":7075,"./mt.js":7075,"./my":2264,"./my.js":2264,"./nb":2274,"./nb.js":2274,"./ne":8235,"./ne.js":8235,"./nl":2572,"./nl-be":3784,"./nl-be.js":3784,"./nl.js":2572,"./nn":4566,"./nn.js":4566,"./oc-lnc":9330,"./oc-lnc.js":9330,"./pa-in":9849,"./pa-in.js":9849,"./pl":4418,"./pl.js":4418,"./pt":9834,"./pt-br":8303,"./pt-br.js":8303,"./pt.js":9834,"./ro":4457,"./ro.js":4457,"./ru":2271,"./ru.js":2271,"./sd":1221,"./sd.js":1221,"./se":3478,"./se.js":3478,"./si":7538,"./si.js":7538,"./sk":5784,"./sk.js":5784,"./sl":6637,"./sl.js":6637,"./sq":6794,"./sq.js":6794,"./sr":5719,"./sr-cyrl":3322,"./sr-cyrl.js":3322,"./sr.js":5719,"./ss":6e3,"./ss.js":6e3,"./sv":1011,"./sv.js":1011,"./sw":748,"./sw.js":748,"./ta":1025,"./ta.js":1025,"./te":1885,"./te.js":1885,"./tet":8861,"./tet.js":8861,"./tg":6571,"./tg.js":6571,"./th":5802,"./th.js":5802,"./tk":9527,"./tk.js":9527,"./tl-ph":9231,"./tl-ph.js":9231,"./tlh":1052,"./tlh.js":1052,"./tr":5096,"./tr.js":5096,"./tzl":9846,"./tzl.js":9846,"./tzm":1765,"./tzm-latn":7711,"./tzm-latn.js":7711,"./tzm.js":1765,"./ug-cn":8414,"./ug-cn.js":8414,"./uk":6618,"./uk.js":6618,"./ur":2539,"./ur.js":2539,"./uz":7609,"./uz-latn":2475,"./uz-latn.js":2475,"./uz.js":7609,"./vi":1135,"./vi.js":1135,"./x-pseudo":4051,"./x-pseudo.js":4051,"./yo":2218,"./yo.js":2218,"./zh-cn":2648,"./zh-cn.js":2648,"./zh-hk":1632,"./zh-hk.js":1632,"./zh-mo":1541,"./zh-mo.js":1541,"./zh-tw":304,"./zh-tw.js":304};function a(t){var e=n(t);return s(e)}function n(t){if(!s.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}a.keys=function(){return Object.keys(i)},a.resolve=n,t.exports=a,a.id=5358},1228:function(t,e,s){"use strict";t.exports=s.p+"img/apple_logo.e6bf682d.svg"},8575:function(t,e,s){"use strict";t.exports=s.p+"img/google_logo.6e493a10.svg"},5155:function(t,e,s){"use strict";t.exports=s.p+"img/outlook_logo.b183177d.svg"},6409:function(t,e,s){"use strict";t.exports=s.p+"img/tomotime.18cf242e.png"},4532:function(t,e,s){"use strict";t.exports=s.p+"img/tomotime_mobile.aa38d7ec.png"},6748:function(t){"use strict";t.exports="data:image/png;base64,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"},1431:function(t,e,s){"use strict";t.exports=s.p+"media/schej_pronunciation.2b2599d4.mp3"},4675:function(t,e,s){"use strict";t.exports=s.p+"img/0.bfd3fcbb.jpg"},5190:function(t,e,s){"use strict";t.exports=s.p+"img/1.5914f016.jpg"},2945:function(t,e,s){"use strict";t.exports=s.p+"img/2.1a4d5117.jpg"},8612:function(t,e,s){"use strict";t.exports=s.p+"img/3.a513619c.jpg"},6399:function(t,e,s){"use strict";t.exports=s.p+"img/4.b0cd6aef.jpg"},1639:function(t){"use strict";t.exports="data:image/png;base64,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"},3828:function(t,e,s){"use strict";t.exports=s.p+"img/hero.c01179a6.jpg"},4948:function(t){"use strict";t.exports="data:image/png;base64,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"}},e={};function s(i){var a=e[i];if(void 0!==a)return a.exports;var n=e[i]={id:i,loaded:!1,exports:{}};return t[i].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.m=t,function(){var t=[];s.O=function(e,i,a,n){if(!i){var o=1/0;for(c=0;c<t.length;c++){i=t[c][0],a=t[c][1],n=t[c][2];for(var r=!0,l=0;l<i.length;l++)(!1&n||o>=n)&&Object.keys(s.O).every((function(t){return s.O[t](i[l])}))?i.splice(l--,1):(r=!1,n<o&&(o=n));if(r){t.splice(c--,1);var d=a();void 0!==d&&(e=d)}}return e}n=n||0;for(var c=t.length;c>0&&t[c-1][2]>n;c--)t[c]=t[c-1];t[c]=[i,a,n]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){s.f={},s.e=function(t){return Promise.all(Object.keys(s.f).reduce((function(e,i){return s.f[i](t,e),e}),[]))}}(),function(){s.u=function(t){return"js/"+t+"."+{35:"a2f81394",62:"35d7760b",66:"d4df6a9b",174:"490ffb55",269:"c5d3ccbb",426:"70130a3b",521:"23c7d553",552:"04c2b0e7",600:"bd2bd938",822:"2f812e30",866:"4d828590",999:"cdb68811"}[t]+".js"}}(),function(){s.miniCssF=function(t){return"css/"+t+"."+{269:"594ee081",426:"594ee081",600:"594ee081",866:"e6ced8ca"}[t]+".css"}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="schej:";s.l=function(i,a,n,o){if(t[i])t[i].push(a);else{var r,l;if(void 0!==n)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var h=d[c];if(h.getAttribute("src")==i||h.getAttribute("data-webpack")==e+n){r=h;break}}r||(l=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,s.nc&&r.setAttribute("nonce",s.nc),r.setAttribute("data-webpack",e+n),r.src=i),t[i]=[a];var u=function(e,s){r.onerror=r.onload=null,clearTimeout(m);var a=t[i];if(delete t[i],r.parentNode&&r.parentNode.removeChild(r),a&&a.forEach((function(t){return t(s)})),e)return e(s)},m=setTimeout(u.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=u.bind(null,r.onerror),r.onload=u.bind(null,r.onload),l&&document.head.appendChild(r)}}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){s.p="/"}(),function(){if("undefined"!==typeof document){var t=function(t,e,s,i,a){var n=document.createElement("link");n.rel="stylesheet",n.type="text/css";var o=function(s){if(n.onerror=n.onload=null,"load"===s.type)i();else{var o=s&&s.type,r=s&&s.target&&s.target.href||e,l=new Error("Loading CSS chunk "+t+" failed.\n("+o+": "+r+")");l.name="ChunkLoadError",l.code="CSS_CHUNK_LOAD_FAILED",l.type=o,l.request=r,n.parentNode&&n.parentNode.removeChild(n),a(l)}};return n.onerror=n.onload=o,n.href=e,s?s.parentNode.insertBefore(n,s.nextSibling):document.head.appendChild(n),n},e=function(t,e){for(var s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var a=s[i],n=a.getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(n===t||n===e))return a}var o=document.getElementsByTagName("style");for(i=0;i<o.length;i++){a=o[i],n=a.getAttribute("data-href");if(n===t||n===e)return a}},i=function(i){return new Promise((function(a,n){var o=s.miniCssF(i),r=s.p+o;if(e(o,r))return a();t(i,r,null,a,n)}))},a={524:0};s.f.miniCss=function(t,e){var s={269:1,426:1,600:1,866:1};a[t]?e.push(a[t]):0!==a[t]&&s[t]&&e.push(a[t]=i(t).then((function(){a[t]=0}),(function(e){throw delete a[t],e})))}}}(),function(){var t={524:0};s.f.j=function(e,i){var a=s.o(t,e)?t[e]:void 0;if(0!==a)if(a)i.push(a[2]);else if(600!=e){var n=new Promise((function(s,i){a=t[e]=[s,i]}));i.push(a[2]=n);var o=s.p+s.u(e),r=new Error,l=function(i){if(s.o(t,e)&&(a=t[e],0!==a&&(t[e]=void 0),a)){var n=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.src;r.message="Loading chunk "+e+" failed.\n("+n+": "+o+")",r.name="ChunkLoadError",r.type=n,r.request=o,a[1](r)}};s.l(o,l,"chunk-"+e,e)}else t[e]=0},s.O.j=function(e){return 0===t[e]};var e=function(e,i){var a,n,o=i[0],r=i[1],l=i[2],d=0;if(o.some((function(e){return 0!==t[e]}))){for(a in r)s.o(r,a)&&(s.m[a]=r[a]);if(l)var c=l(s)}for(e&&e(i);d<o.length;d++)n=o[d],s.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return s.O(c)},i=self["webpackChunkschej"]=self["webpackChunkschej"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=s.O(void 0,[504],(function(){return s(3735)}));i=s.O(i)})();
//# sourceMappingURL=app.4408b75d.js.map