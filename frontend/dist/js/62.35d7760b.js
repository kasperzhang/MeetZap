"use strict";(self["webpackChunkschej"]=self["webpackChunkschej"]||[]).push([[62],{3681:function(t,e,a){a.r(e),a.d(e,{default:function(){return p}});var s=a(3740),l=a(3698),i=a(2938),r=a(1289),o=a(5961),n=a(1034),c=a(7112),d=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tw-mx-auto tw-mb-12 tw-mt-5 tw-max-w-6xl"},[e("div",{staticClass:"tw-flex tw-flex-col tw-gap-16 tw-p-4"},[e("div",{staticClass:"tw-flex tw-flex-col tw-gap-5"},[e("div",{staticClass:"tw-text-xl tw-font-medium tw-text-dark-green sm:tw-text-2xl"},[t._v(" Profile ")]),e("div",[e("div",{staticClass:"tw-mb-1 tw-font-medium"},[t._v("Name")]),e("div",{staticClass:"tw-flex tw-max-w-lg tw-items-center tw-gap-2"},[e(c.A,{attrs:{"hide-details":"",outlined:"",placeholder:"First name",dense:t.isPhone},model:{value:t.firstName,callback:function(e){t.firstName=e},expression:"firstName"}}),e(c.A,{attrs:{"hide-details":"",outlined:"",placeholder:"Last name",dense:t.isPhone},model:{value:t.lastName,callback:function(e){t.lastName=e},expression:"lastName"}})],1),e(o.Qo,[t.profileUnsavedChanges?e("div",[e("div",{staticClass:"tw-mt-4"},[e(s.A,{staticClass:"tw-mr-2",attrs:{color:"primary",outlined:""},on:{click:t.resetProfileChanges}},[t._v("Cancel")]),e(s.A,{attrs:{color:"primary"},on:{click:t.saveName}},[t._v("Save changes")])],1)]):t._e()])],1)]),t.authUser.stripeCustomerId?e("div",{staticClass:"tw-flex tw-flex-col tw-gap-5"},[e("div",{staticClass:"tw-text-xl tw-font-medium tw-text-dark-green sm:tw-text-2xl"},[t._v(" Billing ")]),e("div",{staticClass:"tw-flex tw-flex-col tw-gap-5 sm:tw-flex-row sm:tw-gap-28"},[e("div",{staticClass:"tw-text-black"},[e(s.A,{on:{click:t.openBillingPortal}},[t._v("Manage billing")])],1)])]):t._e(),e("div",{staticClass:"tw-flex tw-flex-col tw-gap-5"},[e("div",{staticClass:"tw-text-xl tw-font-medium tw-text-dark-green sm:tw-text-2xl"},[t._v(" Calendar access ")]),e("div",{staticClass:"tw-flex tw-flex-col tw-gap-5 sm:tw-flex-row sm:tw-gap-28"},[e("div",{staticClass:"tw-text-black"},[t._v(" We do not store your calendar data anywhere on our servers, and we only fetch your calendar events for the time frame you specify in order to display your calendar events while you fill out your availability. ")]),e(s.A,{staticClass:"tw-text-red",attrs:{outlined:"",href:"https://myaccount.google.com/connections?filters=3,4&hl=en",target:"_blank"}},[t._v("Revoke calendar access")])],1),e("CalendarAccounts")],1),e("div",{staticClass:"tw-flex tw-flex-col tw-gap-5"},[e("div",{staticClass:"tw-text-xl tw-font-medium tw-text-dark-green sm:tw-text-2xl"},[t._v(" Permissions ")]),e("div",{staticClass:"tw-flex tw-flex-col tw-rounded-md tw-border-[1px] tw-border-light-gray-stroke"},[e("div",{staticClass:"tw-flex tw-w-full tw-flex-row tw-border-b-[1px] tw-border-light-gray-stroke"},t._l(t.heading,(function(a,s){return e("div",{staticClass:"tw-w-1/3 tw-border-light-gray-stroke tw-p-4 tw-font-bold",class:`tw-border-r-[${s==t.heading.length-1?"0":"1"}px]`},[t._v(" "+t._s(a)+" ")])})),0),t._l(t.content,(function(a,s){return e("div",{staticClass:"tw-flex tw-w-full tw-flex-row tw-border-light-gray-stroke",class:`tw-border-b-[${s==t.content.length-1?"0":"1"}px]`},t._l(a,(function(s,l){return e("div",{staticClass:"tw-w-1/3 tw-border-light-gray-stroke tw-p-4",class:`tw-border-r-[${l==a.length-1?"0":"1"}px]`},[t._v(" "+t._s(s)+" ")])})),0)}))],2)]),t._m(0),e("div",{staticClass:"tw-mt-28 tw-flex tw-flex-row tw-justify-center"},[e("div",{staticClass:"tw-w-64"},[e(r.A,{attrs:{width:"400",persistent:""},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:l}){return[e(s.A,t._g(t._b({staticClass:"tw-text-red",attrs:{outlined:"",block:""}},"v-btn",l,!1),a),[t._v("Delete account")])]}}]),model:{value:t.deleteDialog,callback:function(e){t.deleteDialog=e},expression:"deleteDialog"}},[e(l.A,[e(i.ri,[t._v("Are you sure?")]),e(i.OQ,{staticClass:"tw-text-sm tw-text-dark-gray"},[t._v("Are you sure you want to delete your account? All your account data will be lost.")]),e("div",{staticClass:"tw-mx-6"},[e("div",{staticClass:"tw-text-sm tw-text-dark-gray"},[t._v(" Type your email in the box below to confirm: ")]),e(c.A,{staticClass:"tw-flex-initial tw-text-white",attrs:{autofocus:"",placeholder:t.authUser.email},model:{value:t.deleteValidateEmail,callback:function(e){t.deleteValidateEmail=e},expression:"deleteValidateEmail"}})],1),e(i.SL,[e(n.A),e(s.A,{attrs:{text:""},on:{click:function(e){t.deleteDialog=!1}}},[t._v("Cancel")]),e(s.A,{attrs:{text:"",color:"error",disabled:t.authUser.email!=t.deleteValidateEmail},on:{click:function(e){return t.deleteAccount()}}},[t._v("Delete")])],1)],1)],1)],1)])])])},w=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"tw-flex tw-flex-col tw-gap-5"},[e("div",{staticClass:"tw-text-xl tw-font-medium tw-text-dark-green sm:tw-text-2xl"},[t._v(" Have a question? ")]),e("div",{staticClass:"tw-flex tw-flex-col tw-gap-5 sm:tw-flex-row sm:tw-gap-28"},[e("div",{staticClass:"tw-text-black"},[t._v(" Email us at "),e("a",{staticClass:"tw-text-black tw-underline",attrs:{href:"mailto:schej.team@gmail.com"}},[t._v("schej.team@gmail.com")]),t._v(" with any questions! ")])])])}],u=a(5353),m=a(5985),h=a(8058),f={name:"Settings",metaInfo:{title:"Settings - Schej"},components:{CalendarAccounts:h.A},data:()=>({dialog:!1,deleteDialog:!1,deleteValidateEmail:"",heading:["Permission","Purpose","Requested When"],content:[["View all calendar events","Allows us to display the names/times of your calendar events","User tries to input availability automatically with Google Calendar"],["View all calendars subscribed to","Allows us to display calendar events on all your calendars instead of just your primary calendar","User tries to input availability automatically with Google Calendar"]],firstName:"",lastName:""}),computed:{...(0,u.aH)(["authUser"]),nameUnsavedChanges(){return this.firstName!==this.authUser.firstName||this.lastName!==this.authUser.lastName},profileUnsavedChanges(){return this.nameUnsavedChanges},isPhone(){return(0,m.tp)(this.$vuetify)}},methods:{...(0,u.i0)(["showError"]),openBillingPortal(){(0,m.Jt)(`/stripe/billing-portal?customerId=${encodeURIComponent(this.authUser.stripeCustomerId)}&returnUrl=${encodeURIComponent(window.location.href)}`).then((t=>{window.location.href=t.url})).catch((t=>{this.showError("There was a problem opening the billing portal! Please try again later.")}))},deleteAccount(){(0,m.jd)("/user").then((()=>{window.location.reload()})).catch((t=>{this.showError("There was a problem deleting your account! Please try again later.")}))},resetProfileChanges(){this.firstName=this.authUser.firstName,this.lastName=this.authUser.lastName},saveName(){(0,m.F6)("/user/name",{firstName:this.firstName,lastName:this.lastName}).then((()=>{window.location.reload()})).catch((t=>{this.showError("There was a problem updating your name! Please try again later.")}))}},created(){this.firstName=this.authUser.firstName,this.lastName=this.authUser.lastName}},x=f,v=a(1656),g=(0,v.A)(x,d,w,!1,null,null,null),p=g.exports}}]);
//# sourceMappingURL=62.35d7760b.js.map